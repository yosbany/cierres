function tC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nC(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Y_={exports:{}},Rp={},G_={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd=Symbol.for("react.element"),rC=Symbol.for("react.portal"),iC=Symbol.for("react.fragment"),sC=Symbol.for("react.strict_mode"),oC=Symbol.for("react.profiler"),aC=Symbol.for("react.provider"),lC=Symbol.for("react.context"),uC=Symbol.for("react.forward_ref"),cC=Symbol.for("react.suspense"),dC=Symbol.for("react.memo"),hC=Symbol.for("react.lazy"),Ly=Symbol.iterator;function fC(t){return t===null||typeof t!="object"?null:(t=Ly&&t[Ly]||t["@@iterator"],typeof t=="function"?t:null)}var K_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q_=Object.assign,J_={};function gu(t,e,n){this.props=t,this.context=e,this.refs=J_,this.updater=n||K_}gu.prototype.isReactComponent={};gu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function X_(){}X_.prototype=gu.prototype;function ev(t,e,n){this.props=t,this.context=e,this.refs=J_,this.updater=n||K_}var tv=ev.prototype=new X_;tv.constructor=ev;Q_(tv,gu.prototype);tv.isPureReactComponent=!0;var Ry=Array.isArray,Z_=Object.prototype.hasOwnProperty,nv={current:null},eb={key:!0,ref:!0,__self:!0,__source:!0};function tb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Z_.call(e,r)&&!eb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:kd,type:t,key:s,ref:o,props:i,_owner:nv.current}}function pC(t,e){return{$$typeof:kd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rv(t){return typeof t=="object"&&t!==null&&t.$$typeof===kd}function mC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Oy=/\/+/g;function d0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mC(""+t.key):e.toString(36)}function hf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case kd:case rC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+d0(o,0):r,Ry(i)?(n="",t!=null&&(n=t.replace(Oy,"$&/")+"/"),hf(i,e,n,"",function(c){return c})):i!=null&&(rv(i)&&(i=pC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Oy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ry(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+d0(s,a);o+=hf(s,e,n,l,i)}else if(l=fC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+d0(s,a++),o+=hf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fh(t,e,n){if(t==null)return t;var r=[],i=0;return hf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function gC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hr={current:null},ff={transition:null},vC={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:ff,ReactCurrentOwner:nv};function nb(){throw Error("act(...) is not supported in production builds of React.")}ht.Children={map:Fh,forEach:function(t,e,n){Fh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fh(t,function(){e++}),e},toArray:function(t){return Fh(t,function(e){return e})||[]},only:function(t){if(!rv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ht.Component=gu;ht.Fragment=iC;ht.Profiler=oC;ht.PureComponent=ev;ht.StrictMode=sC;ht.Suspense=cC;ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vC;ht.act=nb;ht.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Q_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=nv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Z_.call(e,l)&&!eb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:kd,type:t.type,key:i,ref:s,props:r,_owner:o}};ht.createContext=function(t){return t={$$typeof:lC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aC,_context:t},t.Consumer=t};ht.createElement=tb;ht.createFactory=function(t){var e=tb.bind(null,t);return e.type=t,e};ht.createRef=function(){return{current:null}};ht.forwardRef=function(t){return{$$typeof:uC,render:t}};ht.isValidElement=rv;ht.lazy=function(t){return{$$typeof:hC,_payload:{_status:-1,_result:t},_init:gC}};ht.memo=function(t,e){return{$$typeof:dC,type:t,compare:e===void 0?null:e}};ht.startTransition=function(t){var e=ff.transition;ff.transition={};try{t()}finally{ff.transition=e}};ht.unstable_act=nb;ht.useCallback=function(t,e){return hr.current.useCallback(t,e)};ht.useContext=function(t){return hr.current.useContext(t)};ht.useDebugValue=function(){};ht.useDeferredValue=function(t){return hr.current.useDeferredValue(t)};ht.useEffect=function(t,e){return hr.current.useEffect(t,e)};ht.useId=function(){return hr.current.useId()};ht.useImperativeHandle=function(t,e,n){return hr.current.useImperativeHandle(t,e,n)};ht.useInsertionEffect=function(t,e){return hr.current.useInsertionEffect(t,e)};ht.useLayoutEffect=function(t,e){return hr.current.useLayoutEffect(t,e)};ht.useMemo=function(t,e){return hr.current.useMemo(t,e)};ht.useReducer=function(t,e,n){return hr.current.useReducer(t,e,n)};ht.useRef=function(t){return hr.current.useRef(t)};ht.useState=function(t){return hr.current.useState(t)};ht.useSyncExternalStore=function(t,e,n){return hr.current.useSyncExternalStore(t,e,n)};ht.useTransition=function(){return hr.current.useTransition()};ht.version="18.3.1";G_.exports=ht;var me=G_.exports;const iv=Z1(me),yC=tC({__proto__:null,default:iv},[me]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wC=me,_C=Symbol.for("react.element"),bC=Symbol.for("react.fragment"),xC=Object.prototype.hasOwnProperty,SC=wC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NC={key:!0,ref:!0,__self:!0,__source:!0};function rb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xC.call(e,r)&&!NC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_C,type:t,key:s,ref:o,props:i,_owner:SC.current}}Rp.Fragment=bC;Rp.jsx=rb;Rp.jsxs=rb;Y_.exports=Rp;var N=Y_.exports,ib={exports:{}},Ur={},sb={exports:{}},ob={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,$){var te=z.length;z.push($);e:for(;0<te;){var de=te-1>>>1,A=z[de];if(0<i(A,$))z[de]=$,z[te]=A,te=de;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var $=z[0],te=z.pop();if(te!==$){z[0]=te;e:for(var de=0,A=z.length,U=A>>>1;de<U;){var q=2*(de+1)-1,Z=z[q],J=q+1,se=z[J];if(0>i(Z,te))J<A&&0>i(se,Z)?(z[de]=se,z[J]=te,de=J):(z[de]=Z,z[q]=te,de=q);else if(J<A&&0>i(se,te))z[de]=se,z[J]=te,de=J;else break e}}return $}function i(z,$){var te=z.sortIndex-$.sortIndex;return te!==0?te:z.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,m=3,p=!1,b=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=z)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function E(z){if(S=!1,_(z),!b)if(n(l)!==null)b=!0,Q(O);else{var $=n(c);$!==null&&G(E,$.startTime-z)}}function O(z,$){b=!1,S&&(S=!1,w(I),I=-1),p=!0;var te=m;try{for(_($),h=n(l);h!==null&&(!(h.expirationTime>$)||z&&!P());){var de=h.callback;if(typeof de=="function"){h.callback=null,m=h.priorityLevel;var A=de(h.expirationTime<=$);$=t.unstable_now(),typeof A=="function"?h.callback=A:h===n(l)&&r(l),_($)}else r(l);h=n(l)}if(h!==null)var U=!0;else{var q=n(c);q!==null&&G(E,q.startTime-$),U=!1}return U}finally{h=null,m=te,p=!1}}var F=!1,R=null,I=-1,W=5,H=-1;function P(){return!(t.unstable_now()-H<W)}function k(){if(R!==null){var z=t.unstable_now();H=z;var $=!0;try{$=R(!0,z)}finally{$?V():(F=!1,R=null)}}else F=!1}var V;if(typeof y=="function")V=function(){y(k)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,oe=Y.port2;Y.port1.onmessage=k,V=function(){oe.postMessage(null)}}else V=function(){C(k,0)};function Q(z){R=z,F||(F=!0,V())}function G(z,$){I=C(function(){z(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){b||p||(b=!0,Q(O))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var te=m;m=$;try{return z()}finally{m=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=m;m=z;try{return $()}finally{m=te}},t.unstable_scheduleCallback=function(z,$,te){var de=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?de+te:de):te=de,z){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=te+A,z={id:f++,callback:$,priorityLevel:z,startTime:te,expirationTime:A,sortIndex:-1},te>de?(z.sortIndex=te,e(c,z),n(l)===null&&z===n(c)&&(S?(w(I),I=-1):S=!0,G(E,te-de))):(z.sortIndex=A,e(l,z),b||p||(b=!0,Q(O))),z},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(z){var $=m;return function(){var te=m;m=$;try{return z.apply(this,arguments)}finally{m=te}}}})(ob);sb.exports=ob;var CC=sb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC=me,Br=CC;function ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ab=new Set,Yc={};function Fa(t,e){nu(t,e),nu(t+"Capture",e)}function nu(t,e){for(Yc[t]=e,t=0;t<e.length;t++)ab.add(e[t])}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fg=Object.prototype.hasOwnProperty,kC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dy={},jy={};function AC(t){return fg.call(jy,t)?!0:fg.call(Dy,t)?!1:kC.test(t)?jy[t]=!0:(Dy[t]=!0,!1)}function PC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function IC(t,e,n,r){if(e===null||typeof e>"u"||PC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Un[t]=new fr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Un[e]=new fr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Un[t]=new fr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Un[t]=new fr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Un[t]=new fr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Un[t]=new fr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Un[t]=new fr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Un[t]=new fr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Un[t]=new fr(t,5,!1,t.toLowerCase(),null,!1,!1)});var sv=/[\-:]([a-z])/g;function ov(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sv,ov);Un[e]=new fr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sv,ov);Un[e]=new fr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sv,ov);Un[e]=new fr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Un[t]=new fr(t,1,!1,t.toLowerCase(),null,!1,!1)});Un.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Un[t]=new fr(t,1,!1,t.toLowerCase(),null,!0,!0)});function av(t,e,n,r){var i=Un.hasOwnProperty(e)?Un[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(IC(e,n,i,r)&&(n=null),r||i===null?AC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ms=EC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bh=Symbol.for("react.element"),Il=Symbol.for("react.portal"),Tl=Symbol.for("react.fragment"),lv=Symbol.for("react.strict_mode"),pg=Symbol.for("react.profiler"),lb=Symbol.for("react.provider"),ub=Symbol.for("react.context"),uv=Symbol.for("react.forward_ref"),mg=Symbol.for("react.suspense"),gg=Symbol.for("react.suspense_list"),cv=Symbol.for("react.memo"),io=Symbol.for("react.lazy"),cb=Symbol.for("react.offscreen"),My=Symbol.iterator;function sc(t){return t===null||typeof t!="object"?null:(t=My&&t[My]||t["@@iterator"],typeof t=="function"?t:null)}var Jt=Object.assign,h0;function bc(t){if(h0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);h0=e&&e[1]||""}return`
`+h0+t}var f0=!1;function p0(t,e){if(!t||f0)return"";f0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{f0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bc(t):""}function TC(t){switch(t.tag){case 5:return bc(t.type);case 16:return bc("Lazy");case 13:return bc("Suspense");case 19:return bc("SuspenseList");case 0:case 2:case 15:return t=p0(t.type,!1),t;case 11:return t=p0(t.type.render,!1),t;case 1:return t=p0(t.type,!0),t;default:return""}}function vg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Tl:return"Fragment";case Il:return"Portal";case pg:return"Profiler";case lv:return"StrictMode";case mg:return"Suspense";case gg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ub:return(t.displayName||"Context")+".Consumer";case lb:return(t._context.displayName||"Context")+".Provider";case uv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cv:return e=t.displayName||null,e!==null?e:vg(t.type)||"Memo";case io:e=t._payload,t=t._init;try{return vg(t(e))}catch{}}return null}function LC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vg(e);case 8:return e===lv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Do(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function db(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RC(t){var e=db(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uh(t){t._valueTracker||(t._valueTracker=RC(t))}function hb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=db(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yg(t,e){var n=e.checked;return Jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Do(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fb(t,e){e=e.checked,e!=null&&av(t,"checked",e,!1)}function wg(t,e){fb(t,e);var n=Do(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_g(t,e.type,n):e.hasOwnProperty("defaultValue")&&_g(t,e.type,Do(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function By(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _g(t,e,n){(e!=="number"||Rf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xc=Array.isArray;function $l(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Do(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ke(91));return Jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Uy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ke(92));if(xc(n)){if(1<n.length)throw Error(ke(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Do(n)}}function pb(t,e){var n=Do(e.value),r=Do(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zh,gb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zh=zh||document.createElement("div"),zh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OC=["Webkit","ms","Moz","O"];Object.keys(kc).forEach(function(t){OC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kc[e]=kc[t]})});function vb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||kc.hasOwnProperty(t)&&kc[t]?(""+e).trim():e+"px"}function yb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var DC=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sg(t,e){if(e){if(DC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ke(62))}}function Ng(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cg=null;function dv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Eg=null,Vl=null,Yl=null;function Wy(t){if(t=Id(t)){if(typeof Eg!="function")throw Error(ke(280));var e=t.stateNode;e&&(e=Fp(e),Eg(t.stateNode,t.type,e))}}function wb(t){Vl?Yl?Yl.push(t):Yl=[t]:Vl=t}function _b(){if(Vl){var t=Vl,e=Yl;if(Yl=Vl=null,Wy(t),e)for(t=0;t<e.length;t++)Wy(e[t])}}function bb(t,e){return t(e)}function xb(){}var m0=!1;function Sb(t,e,n){if(m0)return t(e,n);m0=!0;try{return bb(t,e,n)}finally{m0=!1,(Vl!==null||Yl!==null)&&(xb(),_b())}}function Kc(t,e){var n=t.stateNode;if(n===null)return null;var r=Fp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ke(231,e,typeof n));return n}var kg=!1;if(As)try{var oc={};Object.defineProperty(oc,"passive",{get:function(){kg=!0}}),window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{kg=!1}function jC(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Ac=!1,Of=null,Df=!1,Ag=null,MC={onError:function(t){Ac=!0,Of=t}};function FC(t,e,n,r,i,s,o,a,l){Ac=!1,Of=null,jC.apply(MC,arguments)}function BC(t,e,n,r,i,s,o,a,l){if(FC.apply(this,arguments),Ac){if(Ac){var c=Of;Ac=!1,Of=null}else throw Error(ke(198));Df||(Df=!0,Ag=c)}}function Ba(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Nb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hy(t){if(Ba(t)!==t)throw Error(ke(188))}function UC(t){var e=t.alternate;if(!e){if(e=Ba(t),e===null)throw Error(ke(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Hy(i),t;if(s===r)return Hy(i),e;s=s.sibling}throw Error(ke(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ke(189))}}if(n.alternate!==r)throw Error(ke(190))}if(n.tag!==3)throw Error(ke(188));return n.stateNode.current===n?t:e}function Cb(t){return t=UC(t),t!==null?Eb(t):null}function Eb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Eb(t);if(e!==null)return e;t=t.sibling}return null}var kb=Br.unstable_scheduleCallback,qy=Br.unstable_cancelCallback,zC=Br.unstable_shouldYield,WC=Br.unstable_requestPaint,un=Br.unstable_now,HC=Br.unstable_getCurrentPriorityLevel,hv=Br.unstable_ImmediatePriority,Ab=Br.unstable_UserBlockingPriority,jf=Br.unstable_NormalPriority,qC=Br.unstable_LowPriority,Pb=Br.unstable_IdlePriority,Op=null,Ki=null;function $C(t){if(Ki&&typeof Ki.onCommitFiberRoot=="function")try{Ki.onCommitFiberRoot(Op,t,void 0,(t.current.flags&128)===128)}catch{}}var Ni=Math.clz32?Math.clz32:GC,VC=Math.log,YC=Math.LN2;function GC(t){return t>>>=0,t===0?32:31-(VC(t)/YC|0)|0}var Wh=64,Hh=4194304;function Sc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Sc(a):(s&=o,s!==0&&(r=Sc(s)))}else o=n&~i,o!==0?r=Sc(o):s!==0&&(r=Sc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ni(e),i=1<<n,r|=t[n],e&=~i;return r}function KC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ni(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=KC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Pg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ib(){var t=Wh;return Wh<<=1,!(Wh&4194240)&&(Wh=64),t}function g0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ad(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ni(e),t[e]=n}function JC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ni(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function fv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ni(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var kt=0;function Tb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Lb,pv,Rb,Ob,Db,Ig=!1,qh=[],_o=null,bo=null,xo=null,Qc=new Map,Jc=new Map,oo=[],XC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $y(t,e){switch(t){case"focusin":case"focusout":_o=null;break;case"dragenter":case"dragleave":bo=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":Qc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jc.delete(e.pointerId)}}function ac(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Id(e),e!==null&&pv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ZC(t,e,n,r,i){switch(e){case"focusin":return _o=ac(_o,t,e,n,r,i),!0;case"dragenter":return bo=ac(bo,t,e,n,r,i),!0;case"mouseover":return xo=ac(xo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Qc.set(s,ac(Qc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Jc.set(s,ac(Jc.get(s)||null,t,e,n,r,i)),!0}return!1}function jb(t){var e=pa(t.target);if(e!==null){var n=Ba(e);if(n!==null){if(e=n.tag,e===13){if(e=Nb(n),e!==null){t.blockedOn=e,Db(t.priority,function(){Rb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cg=r,n.target.dispatchEvent(r),Cg=null}else return e=Id(n),e!==null&&pv(e),t.blockedOn=n,!1;e.shift()}return!0}function Vy(t,e,n){pf(t)&&n.delete(e)}function eE(){Ig=!1,_o!==null&&pf(_o)&&(_o=null),bo!==null&&pf(bo)&&(bo=null),xo!==null&&pf(xo)&&(xo=null),Qc.forEach(Vy),Jc.forEach(Vy)}function lc(t,e){t.blockedOn===e&&(t.blockedOn=null,Ig||(Ig=!0,Br.unstable_scheduleCallback(Br.unstable_NormalPriority,eE)))}function Xc(t){function e(i){return lc(i,t)}if(0<qh.length){lc(qh[0],t);for(var n=1;n<qh.length;n++){var r=qh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_o!==null&&lc(_o,t),bo!==null&&lc(bo,t),xo!==null&&lc(xo,t),Qc.forEach(e),Jc.forEach(e),n=0;n<oo.length;n++)r=oo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<oo.length&&(n=oo[0],n.blockedOn===null);)jb(n),n.blockedOn===null&&oo.shift()}var Gl=Ms.ReactCurrentBatchConfig,Ff=!0;function tE(t,e,n,r){var i=kt,s=Gl.transition;Gl.transition=null;try{kt=1,mv(t,e,n,r)}finally{kt=i,Gl.transition=s}}function nE(t,e,n,r){var i=kt,s=Gl.transition;Gl.transition=null;try{kt=4,mv(t,e,n,r)}finally{kt=i,Gl.transition=s}}function mv(t,e,n,r){if(Ff){var i=Tg(t,e,n,r);if(i===null)E0(t,e,r,Bf,n),$y(t,r);else if(ZC(i,t,e,n,r))r.stopPropagation();else if($y(t,r),e&4&&-1<XC.indexOf(t)){for(;i!==null;){var s=Id(i);if(s!==null&&Lb(s),s=Tg(t,e,n,r),s===null&&E0(t,e,r,Bf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else E0(t,e,r,null,n)}}var Bf=null;function Tg(t,e,n,r){if(Bf=null,t=dv(r),t=pa(t),t!==null)if(e=Ba(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Nb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bf=t,null}function Mb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HC()){case hv:return 1;case Ab:return 4;case jf:case qC:return 16;case Pb:return 536870912;default:return 16}default:return 16}}var mo=null,gv=null,mf=null;function Fb(){if(mf)return mf;var t,e=gv,n=e.length,r,i="value"in mo?mo.value:mo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return mf=i.slice(t,1<r?1-r:void 0)}function gf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $h(){return!0}function Yy(){return!1}function zr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$h:Yy,this.isPropagationStopped=Yy,this}return Jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$h)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$h)},persist:function(){},isPersistent:$h}),e}var vu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vv=zr(vu),Pd=Jt({},vu,{view:0,detail:0}),rE=zr(Pd),v0,y0,uc,Dp=Jt({},Pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uc&&(uc&&t.type==="mousemove"?(v0=t.screenX-uc.screenX,y0=t.screenY-uc.screenY):y0=v0=0,uc=t),v0)},movementY:function(t){return"movementY"in t?t.movementY:y0}}),Gy=zr(Dp),iE=Jt({},Dp,{dataTransfer:0}),sE=zr(iE),oE=Jt({},Pd,{relatedTarget:0}),w0=zr(oE),aE=Jt({},vu,{animationName:0,elapsedTime:0,pseudoElement:0}),lE=zr(aE),uE=Jt({},vu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cE=zr(uE),dE=Jt({},vu,{data:0}),Ky=zr(dE),hE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pE[t])?!!e[t]:!1}function yv(){return mE}var gE=Jt({},Pd,{key:function(t){if(t.key){var e=hE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yv,charCode:function(t){return t.type==="keypress"?gf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vE=zr(gE),yE=Jt({},Dp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qy=zr(yE),wE=Jt({},Pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yv}),_E=zr(wE),bE=Jt({},vu,{propertyName:0,elapsedTime:0,pseudoElement:0}),xE=zr(bE),SE=Jt({},Dp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NE=zr(SE),CE=[9,13,27,32],wv=As&&"CompositionEvent"in window,Pc=null;As&&"documentMode"in document&&(Pc=document.documentMode);var EE=As&&"TextEvent"in window&&!Pc,Bb=As&&(!wv||Pc&&8<Pc&&11>=Pc),Jy=" ",Xy=!1;function Ub(t,e){switch(t){case"keyup":return CE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ll=!1;function kE(t,e){switch(t){case"compositionend":return zb(e);case"keypress":return e.which!==32?null:(Xy=!0,Jy);case"textInput":return t=e.data,t===Jy&&Xy?null:t;default:return null}}function AE(t,e){if(Ll)return t==="compositionend"||!wv&&Ub(t,e)?(t=Fb(),mf=gv=mo=null,Ll=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bb&&e.locale!=="ko"?null:e.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PE[t.type]:e==="textarea"}function Wb(t,e,n,r){wb(r),e=Uf(e,"onChange"),0<e.length&&(n=new vv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ic=null,Zc=null;function IE(t){Zb(t,0)}function jp(t){var e=Dl(t);if(hb(e))return t}function TE(t,e){if(t==="change")return e}var Hb=!1;if(As){var _0;if(As){var b0="oninput"in document;if(!b0){var e5=document.createElement("div");e5.setAttribute("oninput","return;"),b0=typeof e5.oninput=="function"}_0=b0}else _0=!1;Hb=_0&&(!document.documentMode||9<document.documentMode)}function t5(){Ic&&(Ic.detachEvent("onpropertychange",qb),Zc=Ic=null)}function qb(t){if(t.propertyName==="value"&&jp(Zc)){var e=[];Wb(e,Zc,t,dv(t)),Sb(IE,e)}}function LE(t,e,n){t==="focusin"?(t5(),Ic=e,Zc=n,Ic.attachEvent("onpropertychange",qb)):t==="focusout"&&t5()}function RE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jp(Zc)}function OE(t,e){if(t==="click")return jp(e)}function DE(t,e){if(t==="input"||t==="change")return jp(e)}function jE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ki=typeof Object.is=="function"?Object.is:jE;function ed(t,e){if(ki(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fg.call(e,i)||!ki(t[i],e[i]))return!1}return!0}function n5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r5(t,e){var n=n5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=n5(n)}}function $b(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$b(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vb(){for(var t=window,e=Rf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rf(t.document)}return e}function _v(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ME(t){var e=Vb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$b(n.ownerDocument.documentElement,n)){if(r!==null&&_v(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=r5(n,s);var o=r5(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FE=As&&"documentMode"in document&&11>=document.documentMode,Rl=null,Lg=null,Tc=null,Rg=!1;function i5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rg||Rl==null||Rl!==Rf(r)||(r=Rl,"selectionStart"in r&&_v(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tc&&ed(Tc,r)||(Tc=r,r=Uf(Lg,"onSelect"),0<r.length&&(e=new vv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rl)))}function Vh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ol={animationend:Vh("Animation","AnimationEnd"),animationiteration:Vh("Animation","AnimationIteration"),animationstart:Vh("Animation","AnimationStart"),transitionend:Vh("Transition","TransitionEnd")},x0={},Yb={};As&&(Yb=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function Mp(t){if(x0[t])return x0[t];if(!Ol[t])return t;var e=Ol[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Yb)return x0[t]=e[n];return t}var Gb=Mp("animationend"),Kb=Mp("animationiteration"),Qb=Mp("animationstart"),Jb=Mp("transitionend"),Xb=new Map,s5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ho(t,e){Xb.set(t,e),Fa(e,[t])}for(var S0=0;S0<s5.length;S0++){var N0=s5[S0],BE=N0.toLowerCase(),UE=N0[0].toUpperCase()+N0.slice(1);Ho(BE,"on"+UE)}Ho(Gb,"onAnimationEnd");Ho(Kb,"onAnimationIteration");Ho(Qb,"onAnimationStart");Ho("dblclick","onDoubleClick");Ho("focusin","onFocus");Ho("focusout","onBlur");Ho(Jb,"onTransitionEnd");nu("onMouseEnter",["mouseout","mouseover"]);nu("onMouseLeave",["mouseout","mouseover"]);nu("onPointerEnter",["pointerout","pointerover"]);nu("onPointerLeave",["pointerout","pointerover"]);Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nc));function o5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,BC(r,e,void 0,t),t.currentTarget=null}function Zb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;o5(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;o5(i,a,c),s=l}}}if(Df)throw t=Ag,Df=!1,Ag=null,t}function Ut(t,e){var n=e[Fg];n===void 0&&(n=e[Fg]=new Set);var r=t+"__bubble";n.has(r)||(ex(e,t,2,!1),n.add(r))}function C0(t,e,n){var r=0;e&&(r|=4),ex(n,t,r,e)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function td(t){if(!t[Yh]){t[Yh]=!0,ab.forEach(function(n){n!=="selectionchange"&&(zE.has(n)||C0(n,!1,t),C0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yh]||(e[Yh]=!0,C0("selectionchange",!1,e))}}function ex(t,e,n,r){switch(Mb(e)){case 1:var i=tE;break;case 4:i=nE;break;default:i=mv}n=i.bind(null,e,n,t),i=void 0,!kg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function E0(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=pa(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Sb(function(){var c=s,f=dv(n),h=[];e:{var m=Xb.get(t);if(m!==void 0){var p=vv,b=t;switch(t){case"keypress":if(gf(n)===0)break e;case"keydown":case"keyup":p=vE;break;case"focusin":b="focus",p=w0;break;case"focusout":b="blur",p=w0;break;case"beforeblur":case"afterblur":p=w0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Gy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=sE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=_E;break;case Gb:case Kb:case Qb:p=lE;break;case Jb:p=xE;break;case"scroll":p=rE;break;case"wheel":p=NE;break;case"copy":case"cut":case"paste":p=cE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Qy}var S=(e&4)!==0,C=!S&&t==="scroll",w=S?m!==null?m+"Capture":null:m;S=[];for(var y=c,_;y!==null;){_=y;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,w!==null&&(E=Kc(y,w),E!=null&&S.push(nd(y,E,_)))),C)break;y=y.return}0<S.length&&(m=new p(m,b,null,n,f),h.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Cg&&(b=n.relatedTarget||n.fromElement)&&(pa(b)||b[Ps]))break e;if((p||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=c,b=b?pa(b):null,b!==null&&(C=Ba(b),b!==C||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=c),p!==b)){if(S=Gy,E="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(S=Qy,E="onPointerLeave",w="onPointerEnter",y="pointer"),C=p==null?m:Dl(p),_=b==null?m:Dl(b),m=new S(E,y+"leave",p,n,f),m.target=C,m.relatedTarget=_,E=null,pa(f)===c&&(S=new S(w,y+"enter",b,n,f),S.target=_,S.relatedTarget=C,E=S),C=E,p&&b)t:{for(S=p,w=b,y=0,_=S;_;_=xl(_))y++;for(_=0,E=w;E;E=xl(E))_++;for(;0<y-_;)S=xl(S),y--;for(;0<_-y;)w=xl(w),_--;for(;y--;){if(S===w||w!==null&&S===w.alternate)break t;S=xl(S),w=xl(w)}S=null}else S=null;p!==null&&a5(h,m,p,S,!1),b!==null&&C!==null&&a5(h,C,b,S,!0)}}e:{if(m=c?Dl(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var O=TE;else if(Zy(m))if(Hb)O=DE;else{O=RE;var F=LE}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=OE);if(O&&(O=O(t,c))){Wb(h,O,n,f);break e}F&&F(t,m,c),t==="focusout"&&(F=m._wrapperState)&&F.controlled&&m.type==="number"&&_g(m,"number",m.value)}switch(F=c?Dl(c):window,t){case"focusin":(Zy(F)||F.contentEditable==="true")&&(Rl=F,Lg=c,Tc=null);break;case"focusout":Tc=Lg=Rl=null;break;case"mousedown":Rg=!0;break;case"contextmenu":case"mouseup":case"dragend":Rg=!1,i5(h,n,f);break;case"selectionchange":if(FE)break;case"keydown":case"keyup":i5(h,n,f)}var R;if(wv)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ll?Ub(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Bb&&n.locale!=="ko"&&(Ll||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ll&&(R=Fb()):(mo=f,gv="value"in mo?mo.value:mo.textContent,Ll=!0)),F=Uf(c,I),0<F.length&&(I=new Ky(I,t,null,n,f),h.push({event:I,listeners:F}),R?I.data=R:(R=zb(n),R!==null&&(I.data=R)))),(R=EE?kE(t,n):AE(t,n))&&(c=Uf(c,"onBeforeInput"),0<c.length&&(f=new Ky("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=R))}Zb(h,e)})}function nd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Uf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Kc(t,n),s!=null&&r.unshift(nd(t,s,i)),s=Kc(t,e),s!=null&&r.push(nd(t,s,i))),t=t.return}return r}function xl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function a5(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Kc(n,s),l!=null&&o.unshift(nd(n,l,a))):i||(l=Kc(n,s),l!=null&&o.push(nd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var WE=/\r\n?/g,HE=/\u0000|\uFFFD/g;function l5(t){return(typeof t=="string"?t:""+t).replace(WE,`
`).replace(HE,"")}function Gh(t,e,n){if(e=l5(e),l5(t)!==e&&n)throw Error(ke(425))}function zf(){}var Og=null,Dg=null;function jg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mg=typeof setTimeout=="function"?setTimeout:void 0,qE=typeof clearTimeout=="function"?clearTimeout:void 0,u5=typeof Promise=="function"?Promise:void 0,$E=typeof queueMicrotask=="function"?queueMicrotask:typeof u5<"u"?function(t){return u5.resolve(null).then(t).catch(VE)}:Mg;function VE(t){setTimeout(function(){throw t})}function k0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Xc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xc(e)}function So(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function c5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yu=Math.random().toString(36).slice(2),$i="__reactFiber$"+yu,rd="__reactProps$"+yu,Ps="__reactContainer$"+yu,Fg="__reactEvents$"+yu,YE="__reactListeners$"+yu,GE="__reactHandles$"+yu;function pa(t){var e=t[$i];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ps]||n[$i]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=c5(t);t!==null;){if(n=t[$i])return n;t=c5(t)}return e}t=n,n=t.parentNode}return null}function Id(t){return t=t[$i]||t[Ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Dl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ke(33))}function Fp(t){return t[rd]||null}var Bg=[],jl=-1;function qo(t){return{current:t}}function Ht(t){0>jl||(t.current=Bg[jl],Bg[jl]=null,jl--)}function Bt(t,e){jl++,Bg[jl]=t.current,t.current=e}var jo={},nr=qo(jo),Cr=qo(!1),ka=jo;function ru(t,e){var n=t.type.contextTypes;if(!n)return jo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Er(t){return t=t.childContextTypes,t!=null}function Wf(){Ht(Cr),Ht(nr)}function d5(t,e,n){if(nr.current!==jo)throw Error(ke(168));Bt(nr,e),Bt(Cr,n)}function tx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ke(108,LC(t)||"Unknown",i));return Jt({},n,r)}function Hf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jo,ka=nr.current,Bt(nr,t),Bt(Cr,Cr.current),!0}function h5(t,e,n){var r=t.stateNode;if(!r)throw Error(ke(169));n?(t=tx(t,e,ka),r.__reactInternalMemoizedMergedChildContext=t,Ht(Cr),Ht(nr),Bt(nr,t)):Ht(Cr),Bt(Cr,n)}var ys=null,Bp=!1,A0=!1;function nx(t){ys===null?ys=[t]:ys.push(t)}function KE(t){Bp=!0,nx(t)}function $o(){if(!A0&&ys!==null){A0=!0;var t=0,e=kt;try{var n=ys;for(kt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ys=null,Bp=!1}catch(i){throw ys!==null&&(ys=ys.slice(t+1)),kb(hv,$o),i}finally{kt=e,A0=!1}}return null}var Ml=[],Fl=0,qf=null,$f=0,Qr=[],Jr=0,Aa=null,ws=1,_s="";function la(t,e){Ml[Fl++]=$f,Ml[Fl++]=qf,qf=t,$f=e}function rx(t,e,n){Qr[Jr++]=ws,Qr[Jr++]=_s,Qr[Jr++]=Aa,Aa=t;var r=ws;t=_s;var i=32-Ni(r)-1;r&=~(1<<i),n+=1;var s=32-Ni(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ws=1<<32-Ni(e)+i|n<<i|r,_s=s+t}else ws=1<<s|n<<i|r,_s=t}function bv(t){t.return!==null&&(la(t,1),rx(t,1,0))}function xv(t){for(;t===qf;)qf=Ml[--Fl],Ml[Fl]=null,$f=Ml[--Fl],Ml[Fl]=null;for(;t===Aa;)Aa=Qr[--Jr],Qr[Jr]=null,_s=Qr[--Jr],Qr[Jr]=null,ws=Qr[--Jr],Qr[Jr]=null}var Fr=null,Dr=null,$t=!1,bi=null;function ix(t,e){var n=Xr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function f5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fr=t,Dr=So(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fr=t,Dr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Aa!==null?{id:ws,overflow:_s}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fr=t,Dr=null,!0):!1;default:return!1}}function Ug(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zg(t){if($t){var e=Dr;if(e){var n=e;if(!f5(t,e)){if(Ug(t))throw Error(ke(418));e=So(n.nextSibling);var r=Fr;e&&f5(t,e)?ix(r,n):(t.flags=t.flags&-4097|2,$t=!1,Fr=t)}}else{if(Ug(t))throw Error(ke(418));t.flags=t.flags&-4097|2,$t=!1,Fr=t}}}function p5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fr=t}function Kh(t){if(t!==Fr)return!1;if(!$t)return p5(t),$t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jg(t.type,t.memoizedProps)),e&&(e=Dr)){if(Ug(t))throw sx(),Error(ke(418));for(;e;)ix(t,e),e=So(e.nextSibling)}if(p5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dr=So(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dr=null}}else Dr=Fr?So(t.stateNode.nextSibling):null;return!0}function sx(){for(var t=Dr;t;)t=So(t.nextSibling)}function iu(){Dr=Fr=null,$t=!1}function Sv(t){bi===null?bi=[t]:bi.push(t)}var QE=Ms.ReactCurrentBatchConfig;function cc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ke(309));var r=n.stateNode}if(!r)throw Error(ke(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ke(284));if(!n._owner)throw Error(ke(290,t))}return t}function Qh(t,e){throw t=Object.prototype.toString.call(e),Error(ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function m5(t){var e=t._init;return e(t._payload)}function ox(t){function e(w,y){if(t){var _=w.deletions;_===null?(w.deletions=[y],w.flags|=16):_.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=ko(w,y),w.index=0,w.sibling=null,w}function s(w,y,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<y?(w.flags|=2,y):_):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,_,E){return y===null||y.tag!==6?(y=D0(_,w.mode,E),y.return=w,y):(y=i(y,_),y.return=w,y)}function l(w,y,_,E){var O=_.type;return O===Tl?f(w,y,_.props.children,E,_.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===io&&m5(O)===y.type)?(E=i(y,_.props),E.ref=cc(w,y,_),E.return=w,E):(E=Sf(_.type,_.key,_.props,null,w.mode,E),E.ref=cc(w,y,_),E.return=w,E)}function c(w,y,_,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=j0(_,w.mode,E),y.return=w,y):(y=i(y,_.children||[]),y.return=w,y)}function f(w,y,_,E,O){return y===null||y.tag!==7?(y=_a(_,w.mode,E,O),y.return=w,y):(y=i(y,_),y.return=w,y)}function h(w,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=D0(""+y,w.mode,_),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bh:return _=Sf(y.type,y.key,y.props,null,w.mode,_),_.ref=cc(w,null,y),_.return=w,_;case Il:return y=j0(y,w.mode,_),y.return=w,y;case io:var E=y._init;return h(w,E(y._payload),_)}if(xc(y)||sc(y))return y=_a(y,w.mode,_,null),y.return=w,y;Qh(w,y)}return null}function m(w,y,_,E){var O=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(w,y,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Bh:return _.key===O?l(w,y,_,E):null;case Il:return _.key===O?c(w,y,_,E):null;case io:return O=_._init,m(w,y,O(_._payload),E)}if(xc(_)||sc(_))return O!==null?null:f(w,y,_,E,null);Qh(w,_)}return null}function p(w,y,_,E,O){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(_)||null,a(y,w,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Bh:return w=w.get(E.key===null?_:E.key)||null,l(y,w,E,O);case Il:return w=w.get(E.key===null?_:E.key)||null,c(y,w,E,O);case io:var F=E._init;return p(w,y,_,F(E._payload),O)}if(xc(E)||sc(E))return w=w.get(_)||null,f(y,w,E,O,null);Qh(y,E)}return null}function b(w,y,_,E){for(var O=null,F=null,R=y,I=y=0,W=null;R!==null&&I<_.length;I++){R.index>I?(W=R,R=null):W=R.sibling;var H=m(w,R,_[I],E);if(H===null){R===null&&(R=W);break}t&&R&&H.alternate===null&&e(w,R),y=s(H,y,I),F===null?O=H:F.sibling=H,F=H,R=W}if(I===_.length)return n(w,R),$t&&la(w,I),O;if(R===null){for(;I<_.length;I++)R=h(w,_[I],E),R!==null&&(y=s(R,y,I),F===null?O=R:F.sibling=R,F=R);return $t&&la(w,I),O}for(R=r(w,R);I<_.length;I++)W=p(R,w,I,_[I],E),W!==null&&(t&&W.alternate!==null&&R.delete(W.key===null?I:W.key),y=s(W,y,I),F===null?O=W:F.sibling=W,F=W);return t&&R.forEach(function(P){return e(w,P)}),$t&&la(w,I),O}function S(w,y,_,E){var O=sc(_);if(typeof O!="function")throw Error(ke(150));if(_=O.call(_),_==null)throw Error(ke(151));for(var F=O=null,R=y,I=y=0,W=null,H=_.next();R!==null&&!H.done;I++,H=_.next()){R.index>I?(W=R,R=null):W=R.sibling;var P=m(w,R,H.value,E);if(P===null){R===null&&(R=W);break}t&&R&&P.alternate===null&&e(w,R),y=s(P,y,I),F===null?O=P:F.sibling=P,F=P,R=W}if(H.done)return n(w,R),$t&&la(w,I),O;if(R===null){for(;!H.done;I++,H=_.next())H=h(w,H.value,E),H!==null&&(y=s(H,y,I),F===null?O=H:F.sibling=H,F=H);return $t&&la(w,I),O}for(R=r(w,R);!H.done;I++,H=_.next())H=p(R,w,I,H.value,E),H!==null&&(t&&H.alternate!==null&&R.delete(H.key===null?I:H.key),y=s(H,y,I),F===null?O=H:F.sibling=H,F=H);return t&&R.forEach(function(k){return e(w,k)}),$t&&la(w,I),O}function C(w,y,_,E){if(typeof _=="object"&&_!==null&&_.type===Tl&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Bh:e:{for(var O=_.key,F=y;F!==null;){if(F.key===O){if(O=_.type,O===Tl){if(F.tag===7){n(w,F.sibling),y=i(F,_.props.children),y.return=w,w=y;break e}}else if(F.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===io&&m5(O)===F.type){n(w,F.sibling),y=i(F,_.props),y.ref=cc(w,F,_),y.return=w,w=y;break e}n(w,F);break}else e(w,F);F=F.sibling}_.type===Tl?(y=_a(_.props.children,w.mode,E,_.key),y.return=w,w=y):(E=Sf(_.type,_.key,_.props,null,w.mode,E),E.ref=cc(w,y,_),E.return=w,w=E)}return o(w);case Il:e:{for(F=_.key;y!==null;){if(y.key===F)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(w,y.sibling),y=i(y,_.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=j0(_,w.mode,E),y.return=w,w=y}return o(w);case io:return F=_._init,C(w,y,F(_._payload),E)}if(xc(_))return b(w,y,_,E);if(sc(_))return S(w,y,_,E);Qh(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,_),y.return=w,w=y):(n(w,y),y=D0(_,w.mode,E),y.return=w,w=y),o(w)):n(w,y)}return C}var su=ox(!0),ax=ox(!1),Vf=qo(null),Yf=null,Bl=null,Nv=null;function Cv(){Nv=Bl=Yf=null}function Ev(t){var e=Vf.current;Ht(Vf),t._currentValue=e}function Wg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Kl(t,e){Yf=t,Nv=Bl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sr=!0),t.firstContext=null)}function ti(t){var e=t._currentValue;if(Nv!==t)if(t={context:t,memoizedValue:e,next:null},Bl===null){if(Yf===null)throw Error(ke(308));Bl=t,Yf.dependencies={lanes:0,firstContext:t}}else Bl=Bl.next=t;return e}var ma=null;function kv(t){ma===null?ma=[t]:ma.push(t)}function lx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,kv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Is(t,r)}function Is(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var so=!1;function Av(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ux(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Es(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function No(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,vt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Is(t,n)}return i=r.interleaved,i===null?(e.next=e,kv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Is(t,n)}function vf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fv(t,n)}}function g5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gf(t,e,n,r){var i=t.updateQueue;so=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,f=c=l=null,a=s;do{var m=a.lane,p=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,S=a;switch(m=e,p=n,S.tag){case 1:if(b=S.payload,typeof b=="function"){h=b.call(p,h,m);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=S.payload,m=typeof b=="function"?b.call(p,h,m):b,m==null)break e;h=Jt({},h,m);break e;case 2:so=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=p,l=h):f=f.next=p,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ia|=o,t.lanes=o,t.memoizedState=h}}function v5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ke(191,i));i.call(r)}}}var Td={},Qi=qo(Td),id=qo(Td),sd=qo(Td);function ga(t){if(t===Td)throw Error(ke(174));return t}function Pv(t,e){switch(Bt(sd,e),Bt(id,t),Bt(Qi,Td),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xg(e,t)}Ht(Qi),Bt(Qi,e)}function ou(){Ht(Qi),Ht(id),Ht(sd)}function cx(t){ga(sd.current);var e=ga(Qi.current),n=xg(e,t.type);e!==n&&(Bt(id,t),Bt(Qi,n))}function Iv(t){id.current===t&&(Ht(Qi),Ht(id))}var Gt=qo(0);function Kf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var P0=[];function Tv(){for(var t=0;t<P0.length;t++)P0[t]._workInProgressVersionPrimary=null;P0.length=0}var yf=Ms.ReactCurrentDispatcher,I0=Ms.ReactCurrentBatchConfig,Pa=0,Qt=null,bn=null,Tn=null,Qf=!1,Lc=!1,od=0,JE=0;function Yn(){throw Error(ke(321))}function Lv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ki(t[n],e[n]))return!1;return!0}function Rv(t,e,n,r,i,s){if(Pa=s,Qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yf.current=t===null||t.memoizedState===null?t6:n6,t=n(r,i),Lc){s=0;do{if(Lc=!1,od=0,25<=s)throw Error(ke(301));s+=1,Tn=bn=null,e.updateQueue=null,yf.current=r6,t=n(r,i)}while(Lc)}if(yf.current=Jf,e=bn!==null&&bn.next!==null,Pa=0,Tn=bn=Qt=null,Qf=!1,e)throw Error(ke(300));return t}function Ov(){var t=od!==0;return od=0,t}function qi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Qt.memoizedState=Tn=t:Tn=Tn.next=t,Tn}function ni(){if(bn===null){var t=Qt.alternate;t=t!==null?t.memoizedState:null}else t=bn.next;var e=Tn===null?Qt.memoizedState:Tn.next;if(e!==null)Tn=e,bn=t;else{if(t===null)throw Error(ke(310));bn=t,t={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Tn===null?Qt.memoizedState=Tn=t:Tn=Tn.next=t}return Tn}function ad(t,e){return typeof e=="function"?e(t):e}function T0(t){var e=ni(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var r=bn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var f=c.lane;if((Pa&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Qt.lanes|=f,Ia|=f}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ki(r,e.memoizedState)||(Sr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Qt.lanes|=s,Ia|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function L0(t){var e=ni(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ki(s,e.memoizedState)||(Sr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function dx(){}function hx(t,e){var n=Qt,r=ni(),i=e(),s=!ki(r.memoizedState,i);if(s&&(r.memoizedState=i,Sr=!0),r=r.queue,Dv(mx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Tn!==null&&Tn.memoizedState.tag&1){if(n.flags|=2048,ld(9,px.bind(null,n,r,i,e),void 0,null),Rn===null)throw Error(ke(349));Pa&30||fx(n,e,i)}return i}function fx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qt.updateQueue,e===null?(e={lastEffect:null,stores:null},Qt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function px(t,e,n,r){e.value=n,e.getSnapshot=r,gx(e)&&vx(t)}function mx(t,e,n){return n(function(){gx(e)&&vx(t)})}function gx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ki(t,n)}catch{return!0}}function vx(t){var e=Is(t,1);e!==null&&Ci(e,t,1,-1)}function y5(t){var e=qi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ad,lastRenderedState:t},e.queue=t,t=t.dispatch=e6.bind(null,Qt,t),[e.memoizedState,t]}function ld(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qt.updateQueue,e===null?(e={lastEffect:null,stores:null},Qt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yx(){return ni().memoizedState}function wf(t,e,n,r){var i=qi();Qt.flags|=t,i.memoizedState=ld(1|e,n,void 0,r===void 0?null:r)}function Up(t,e,n,r){var i=ni();r=r===void 0?null:r;var s=void 0;if(bn!==null){var o=bn.memoizedState;if(s=o.destroy,r!==null&&Lv(r,o.deps)){i.memoizedState=ld(e,n,s,r);return}}Qt.flags|=t,i.memoizedState=ld(1|e,n,s,r)}function w5(t,e){return wf(8390656,8,t,e)}function Dv(t,e){return Up(2048,8,t,e)}function wx(t,e){return Up(4,2,t,e)}function _x(t,e){return Up(4,4,t,e)}function bx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xx(t,e,n){return n=n!=null?n.concat([t]):null,Up(4,4,bx.bind(null,e,t),n)}function jv(){}function Sx(t,e){var n=ni();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Nx(t,e){var n=ni();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Cx(t,e,n){return Pa&21?(ki(n,e)||(n=Ib(),Qt.lanes|=n,Ia|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sr=!0),t.memoizedState=n)}function XE(t,e){var n=kt;kt=n!==0&&4>n?n:4,t(!0);var r=I0.transition;I0.transition={};try{t(!1),e()}finally{kt=n,I0.transition=r}}function Ex(){return ni().memoizedState}function ZE(t,e,n){var r=Eo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kx(t))Ax(e,n);else if(n=lx(t,e,n,r),n!==null){var i=ur();Ci(n,t,r,i),Px(n,e,r)}}function e6(t,e,n){var r=Eo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kx(t))Ax(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ki(a,o)){var l=e.interleaved;l===null?(i.next=i,kv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=lx(t,e,i,r),n!==null&&(i=ur(),Ci(n,t,r,i),Px(n,e,r))}}function kx(t){var e=t.alternate;return t===Qt||e!==null&&e===Qt}function Ax(t,e){Lc=Qf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Px(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fv(t,n)}}var Jf={readContext:ti,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},t6={readContext:ti,useCallback:function(t,e){return qi().memoizedState=[t,e===void 0?null:e],t},useContext:ti,useEffect:w5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wf(4194308,4,bx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wf(4194308,4,t,e)},useInsertionEffect:function(t,e){return wf(4,2,t,e)},useMemo:function(t,e){var n=qi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZE.bind(null,Qt,t),[r.memoizedState,t]},useRef:function(t){var e=qi();return t={current:t},e.memoizedState=t},useState:y5,useDebugValue:jv,useDeferredValue:function(t){return qi().memoizedState=t},useTransition:function(){var t=y5(!1),e=t[0];return t=XE.bind(null,t[1]),qi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qt,i=qi();if($t){if(n===void 0)throw Error(ke(407));n=n()}else{if(n=e(),Rn===null)throw Error(ke(349));Pa&30||fx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,w5(mx.bind(null,r,s,t),[t]),r.flags|=2048,ld(9,px.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=qi(),e=Rn.identifierPrefix;if($t){var n=_s,r=ws;n=(r&~(1<<32-Ni(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=od++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},n6={readContext:ti,useCallback:Sx,useContext:ti,useEffect:Dv,useImperativeHandle:xx,useInsertionEffect:wx,useLayoutEffect:_x,useMemo:Nx,useReducer:T0,useRef:yx,useState:function(){return T0(ad)},useDebugValue:jv,useDeferredValue:function(t){var e=ni();return Cx(e,bn.memoizedState,t)},useTransition:function(){var t=T0(ad)[0],e=ni().memoizedState;return[t,e]},useMutableSource:dx,useSyncExternalStore:hx,useId:Ex,unstable_isNewReconciler:!1},r6={readContext:ti,useCallback:Sx,useContext:ti,useEffect:Dv,useImperativeHandle:xx,useInsertionEffect:wx,useLayoutEffect:_x,useMemo:Nx,useReducer:L0,useRef:yx,useState:function(){return L0(ad)},useDebugValue:jv,useDeferredValue:function(t){var e=ni();return bn===null?e.memoizedState=t:Cx(e,bn.memoizedState,t)},useTransition:function(){var t=L0(ad)[0],e=ni().memoizedState;return[t,e]},useMutableSource:dx,useSyncExternalStore:hx,useId:Ex,unstable_isNewReconciler:!1};function yi(t,e){if(t&&t.defaultProps){e=Jt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Jt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zp={isMounted:function(t){return(t=t._reactInternals)?Ba(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ur(),i=Eo(t),s=Es(r,i);s.payload=e,n!=null&&(s.callback=n),e=No(t,s,i),e!==null&&(Ci(e,t,i,r),vf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ur(),i=Eo(t),s=Es(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=No(t,s,i),e!==null&&(Ci(e,t,i,r),vf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ur(),r=Eo(t),i=Es(n,r);i.tag=2,e!=null&&(i.callback=e),e=No(t,i,r),e!==null&&(Ci(e,t,r,n),vf(e,t,r))}};function _5(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ed(n,r)||!ed(i,s):!0}function Ix(t,e,n){var r=!1,i=jo,s=e.contextType;return typeof s=="object"&&s!==null?s=ti(s):(i=Er(e)?ka:nr.current,r=e.contextTypes,s=(r=r!=null)?ru(t,i):jo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function b5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zp.enqueueReplaceState(e,e.state,null)}function qg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Av(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ti(s):(s=Er(e)?ka:nr.current,i.context=ru(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zp.enqueueReplaceState(i,i.state,null),Gf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function au(t,e){try{var n="",r=e;do n+=TC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function R0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $g(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var i6=typeof WeakMap=="function"?WeakMap:Map;function Tx(t,e,n){n=Es(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zf||(Zf=!0,t1=r),$g(t,e)},n}function Lx(t,e,n){n=Es(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$g(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$g(t,e),typeof r!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function x5(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new i6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=y6.bind(null,t,e,n),e.then(t,t))}function S5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function N5(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Es(-1,1),e.tag=2,No(n,e,1))),n.lanes|=1),t)}var s6=Ms.ReactCurrentOwner,Sr=!1;function or(t,e,n,r){e.child=t===null?ax(e,null,n,r):su(e,t.child,n,r)}function C5(t,e,n,r,i){n=n.render;var s=e.ref;return Kl(e,i),r=Rv(t,e,n,r,s,i),n=Ov(),t!==null&&!Sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ts(t,e,i)):($t&&n&&bv(e),e.flags|=1,or(t,e,r,i),e.child)}function E5(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!qv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Rx(t,e,s,r,i)):(t=Sf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ed,n(o,r)&&t.ref===e.ref)return Ts(t,e,i)}return e.flags|=1,t=ko(s,r),t.ref=e.ref,t.return=e,e.child=t}function Rx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ed(s,r)&&t.ref===e.ref)if(Sr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Sr=!0);else return e.lanes=t.lanes,Ts(t,e,i)}return Vg(t,e,n,r,i)}function Ox(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(zl,Or),Or|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Bt(zl,Or),Or|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Bt(zl,Or),Or|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Bt(zl,Or),Or|=r;return or(t,e,i,n),e.child}function Dx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vg(t,e,n,r,i){var s=Er(n)?ka:nr.current;return s=ru(e,s),Kl(e,i),n=Rv(t,e,n,r,s,i),r=Ov(),t!==null&&!Sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ts(t,e,i)):($t&&r&&bv(e),e.flags|=1,or(t,e,n,i),e.child)}function k5(t,e,n,r,i){if(Er(n)){var s=!0;Hf(e)}else s=!1;if(Kl(e,i),e.stateNode===null)_f(t,e),Ix(e,n,r),qg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ti(c):(c=Er(n)?ka:nr.current,c=ru(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&b5(e,o,r,c),so=!1;var m=e.memoizedState;o.state=m,Gf(e,r,o,i),l=e.memoizedState,a!==r||m!==l||Cr.current||so?(typeof f=="function"&&(Hg(e,n,f,r),l=e.memoizedState),(a=so||_5(e,n,a,r,m,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ux(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:yi(e.type,a),o.props=c,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ti(l):(l=Er(n)?ka:nr.current,l=ru(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&b5(e,o,r,l),so=!1,m=e.memoizedState,o.state=m,Gf(e,r,o,i);var b=e.memoizedState;a!==h||m!==b||Cr.current||so?(typeof p=="function"&&(Hg(e,n,p,r),b=e.memoizedState),(c=so||_5(e,n,c,r,m,b,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Yg(t,e,n,r,s,i)}function Yg(t,e,n,r,i,s){Dx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&h5(e,n,!1),Ts(t,e,s);r=e.stateNode,s6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=su(e,t.child,null,s),e.child=su(e,null,a,s)):or(t,e,a,s),e.memoizedState=r.state,i&&h5(e,n,!0),e.child}function jx(t){var e=t.stateNode;e.pendingContext?d5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&d5(t,e.context,!1),Pv(t,e.containerInfo)}function A5(t,e,n,r,i){return iu(),Sv(i),e.flags|=256,or(t,e,n,r),e.child}var Gg={dehydrated:null,treeContext:null,retryLane:0};function Kg(t){return{baseLanes:t,cachePool:null,transitions:null}}function Mx(t,e,n){var r=e.pendingProps,i=Gt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Bt(Gt,i&1),t===null)return zg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qp(o,r,0,null),t=_a(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Kg(n),e.memoizedState=Gg,t):Mv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return o6(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ko(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ko(a,s):(s=_a(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Kg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Gg,r}return s=t.child,t=s.sibling,r=ko(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mv(t,e){return e=qp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jh(t,e,n,r){return r!==null&&Sv(r),su(e,t.child,null,n),t=Mv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function o6(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=R0(Error(ke(422))),Jh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=qp({mode:"visible",children:r.children},i,0,null),s=_a(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&su(e,t.child,null,o),e.child.memoizedState=Kg(o),e.memoizedState=Gg,s);if(!(e.mode&1))return Jh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ke(419)),r=R0(s,r,void 0),Jh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Sr||a){if(r=Rn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Is(t,i),Ci(r,t,i,-1))}return Hv(),r=R0(Error(ke(421))),Jh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=w6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dr=So(i.nextSibling),Fr=e,$t=!0,bi=null,t!==null&&(Qr[Jr++]=ws,Qr[Jr++]=_s,Qr[Jr++]=Aa,ws=t.id,_s=t.overflow,Aa=e),e=Mv(e,r.children),e.flags|=4096,e)}function P5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wg(t.return,e,n)}function O0(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Fx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(or(t,e,r.children,n),r=Gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P5(t,n,e);else if(t.tag===19)P5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Bt(Gt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Kf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),O0(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}O0(e,!0,n,null,s);break;case"together":O0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _f(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ts(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ia|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ke(153));if(e.child!==null){for(t=e.child,n=ko(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ko(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function a6(t,e,n){switch(e.tag){case 3:jx(e),iu();break;case 5:cx(e);break;case 1:Er(e.type)&&Hf(e);break;case 4:Pv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Bt(Vf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Bt(Gt,Gt.current&1),e.flags|=128,null):n&e.child.childLanes?Mx(t,e,n):(Bt(Gt,Gt.current&1),t=Ts(t,e,n),t!==null?t.sibling:null);Bt(Gt,Gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Fx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Bt(Gt,Gt.current),r)break;return null;case 22:case 23:return e.lanes=0,Ox(t,e,n)}return Ts(t,e,n)}var Bx,Qg,Ux,zx;Bx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qg=function(){};Ux=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ga(Qi.current);var s=null;switch(n){case"input":i=yg(t,i),r=yg(t,r),s=[];break;case"select":i=Jt({},i,{value:void 0}),r=Jt({},r,{value:void 0}),s=[];break;case"textarea":i=bg(t,i),r=bg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zf)}Sg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ut("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};zx=function(t,e,n,r){n!==r&&(e.flags|=4)};function dc(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function l6(t,e,n){var r=e.pendingProps;switch(xv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(e),null;case 1:return Er(e.type)&&Wf(),Gn(e),null;case 3:return r=e.stateNode,ou(),Ht(Cr),Ht(nr),Tv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Kh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bi!==null&&(i1(bi),bi=null))),Qg(t,e),Gn(e),null;case 5:Iv(e);var i=ga(sd.current);if(n=e.type,t!==null&&e.stateNode!=null)Ux(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ke(166));return Gn(e),null}if(t=ga(Qi.current),Kh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[$i]=e,r[rd]=s,t=(e.mode&1)!==0,n){case"dialog":Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":case"embed":Ut("load",r);break;case"video":case"audio":for(i=0;i<Nc.length;i++)Ut(Nc[i],r);break;case"source":Ut("error",r);break;case"img":case"image":case"link":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"input":Fy(r,s),Ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ut("invalid",r);break;case"textarea":Uy(r,s),Ut("invalid",r)}Sg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Gh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Gh(r.textContent,a,t),i=["children",""+a]):Yc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ut("scroll",r)}switch(n){case"input":Uh(r),By(r,s,!0);break;case"textarea":Uh(r),zy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[$i]=e,t[rd]=r,Bx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ng(n,r),n){case"dialog":Ut("cancel",t),Ut("close",t),i=r;break;case"iframe":case"object":case"embed":Ut("load",t),i=r;break;case"video":case"audio":for(i=0;i<Nc.length;i++)Ut(Nc[i],t);i=r;break;case"source":Ut("error",t),i=r;break;case"img":case"image":case"link":Ut("error",t),Ut("load",t),i=r;break;case"details":Ut("toggle",t),i=r;break;case"input":Fy(t,r),i=yg(t,r),Ut("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Jt({},r,{value:void 0}),Ut("invalid",t);break;case"textarea":Uy(t,r),i=bg(t,r),Ut("invalid",t);break;default:i=r}Sg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?yb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gc(t,l):typeof l=="number"&&Gc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ut("scroll",t):l!=null&&av(t,s,l,o))}switch(n){case"input":Uh(t),By(t,r,!1);break;case"textarea":Uh(t),zy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Do(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?$l(t,!!r.multiple,s,!1):r.defaultValue!=null&&$l(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gn(e),null;case 6:if(t&&e.stateNode!=null)zx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ke(166));if(n=ga(sd.current),ga(Qi.current),Kh(e)){if(r=e.stateNode,n=e.memoizedProps,r[$i]=e,(s=r.nodeValue!==n)&&(t=Fr,t!==null))switch(t.tag){case 3:Gh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$i]=e,e.stateNode=r}return Gn(e),null;case 13:if(Ht(Gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($t&&Dr!==null&&e.mode&1&&!(e.flags&128))sx(),iu(),e.flags|=98560,s=!1;else if(s=Kh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ke(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ke(317));s[$i]=e}else iu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gn(e),s=!1}else bi!==null&&(i1(bi),bi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Gt.current&1?Cn===0&&(Cn=3):Hv())),e.updateQueue!==null&&(e.flags|=4),Gn(e),null);case 4:return ou(),Qg(t,e),t===null&&td(e.stateNode.containerInfo),Gn(e),null;case 10:return Ev(e.type._context),Gn(e),null;case 17:return Er(e.type)&&Wf(),Gn(e),null;case 19:if(Ht(Gt),s=e.memoizedState,s===null)return Gn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)dc(s,!1);else{if(Cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Kf(t),o!==null){for(e.flags|=128,dc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Bt(Gt,Gt.current&1|2),e.child}t=t.sibling}s.tail!==null&&un()>lu&&(e.flags|=128,r=!0,dc(s,!1),e.lanes=4194304)}else{if(!r)if(t=Kf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$t)return Gn(e),null}else 2*un()-s.renderingStartTime>lu&&n!==1073741824&&(e.flags|=128,r=!0,dc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=un(),e.sibling=null,n=Gt.current,Bt(Gt,r?n&1|2:n&1),e):(Gn(e),null);case 22:case 23:return Wv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Or&1073741824&&(Gn(e),e.subtreeFlags&6&&(e.flags|=8192)):Gn(e),null;case 24:return null;case 25:return null}throw Error(ke(156,e.tag))}function u6(t,e){switch(xv(e),e.tag){case 1:return Er(e.type)&&Wf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ou(),Ht(Cr),Ht(nr),Tv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Iv(e),null;case 13:if(Ht(Gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ke(340));iu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ht(Gt),null;case 4:return ou(),null;case 10:return Ev(e.type._context),null;case 22:case 23:return Wv(),null;case 24:return null;default:return null}}var Xh=!1,Zn=!1,c6=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Ul(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rn(t,e,r)}else n.current=null}function Jg(t,e,n){try{n()}catch(r){rn(t,e,r)}}var I5=!1;function d6(t,e){if(Og=Ff,t=Vb(),_v(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,h=t,m=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++f===r&&(l=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dg={focusedElem:t,selectionRange:n},Ff=!1,Be=e;Be!==null;)if(e=Be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Be=t;else for(;Be!==null;){e=Be;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var S=b.memoizedProps,C=b.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?S:yi(e.type,S),C);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(E){rn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Be=t;break}Be=e.return}return b=I5,I5=!1,b}function Rc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Jg(e,n,s)}i=i.next}while(i!==r)}}function Wp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Wx(t){var e=t.alternate;e!==null&&(t.alternate=null,Wx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$i],delete e[rd],delete e[Fg],delete e[YE],delete e[GE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hx(t){return t.tag===5||t.tag===3||t.tag===4}function T5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zf));else if(r!==4&&(t=t.child,t!==null))for(Zg(t,e,n),t=t.sibling;t!==null;)Zg(t,e,n),t=t.sibling}function e1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(e1(t,e,n),t=t.sibling;t!==null;)e1(t,e,n),t=t.sibling}var Mn=null,_i=!1;function Zs(t,e,n){for(n=n.child;n!==null;)qx(t,e,n),n=n.sibling}function qx(t,e,n){if(Ki&&typeof Ki.onCommitFiberUnmount=="function")try{Ki.onCommitFiberUnmount(Op,n)}catch{}switch(n.tag){case 5:Zn||Ul(n,e);case 6:var r=Mn,i=_i;Mn=null,Zs(t,e,n),Mn=r,_i=i,Mn!==null&&(_i?(t=Mn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mn.removeChild(n.stateNode));break;case 18:Mn!==null&&(_i?(t=Mn,n=n.stateNode,t.nodeType===8?k0(t.parentNode,n):t.nodeType===1&&k0(t,n),Xc(t)):k0(Mn,n.stateNode));break;case 4:r=Mn,i=_i,Mn=n.stateNode.containerInfo,_i=!0,Zs(t,e,n),Mn=r,_i=i;break;case 0:case 11:case 14:case 15:if(!Zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Jg(n,e,o),i=i.next}while(i!==r)}Zs(t,e,n);break;case 1:if(!Zn&&(Ul(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rn(n,e,a)}Zs(t,e,n);break;case 21:Zs(t,e,n);break;case 22:n.mode&1?(Zn=(r=Zn)||n.memoizedState!==null,Zs(t,e,n),Zn=r):Zs(t,e,n);break;default:Zs(t,e,n)}}function L5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new c6),e.forEach(function(r){var i=_6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Mn=a.stateNode,_i=!1;break e;case 3:Mn=a.stateNode.containerInfo,_i=!0;break e;case 4:Mn=a.stateNode.containerInfo,_i=!0;break e}a=a.return}if(Mn===null)throw Error(ke(160));qx(s,o,i),Mn=null,_i=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){rn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$x(e,t),e=e.sibling}function $x(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mi(e,t),Wi(t),r&4){try{Rc(3,t,t.return),Wp(3,t)}catch(S){rn(t,t.return,S)}try{Rc(5,t,t.return)}catch(S){rn(t,t.return,S)}}break;case 1:mi(e,t),Wi(t),r&512&&n!==null&&Ul(n,n.return);break;case 5:if(mi(e,t),Wi(t),r&512&&n!==null&&Ul(n,n.return),t.flags&32){var i=t.stateNode;try{Gc(i,"")}catch(S){rn(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&fb(i,s),Ng(a,o);var c=Ng(a,s);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?yb(i,h):f==="dangerouslySetInnerHTML"?gb(i,h):f==="children"?Gc(i,h):av(i,f,h,c)}switch(a){case"input":wg(i,s);break;case"textarea":pb(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?$l(i,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?$l(i,!!s.multiple,s.defaultValue,!0):$l(i,!!s.multiple,s.multiple?[]:"",!1))}i[rd]=s}catch(S){rn(t,t.return,S)}}break;case 6:if(mi(e,t),Wi(t),r&4){if(t.stateNode===null)throw Error(ke(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){rn(t,t.return,S)}}break;case 3:if(mi(e,t),Wi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xc(e.containerInfo)}catch(S){rn(t,t.return,S)}break;case 4:mi(e,t),Wi(t);break;case 13:mi(e,t),Wi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Uv=un())),r&4&&L5(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Zn=(c=Zn)||f,mi(e,t),Zn=c):mi(e,t),Wi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(Be=t,f=t.child;f!==null;){for(h=Be=f;Be!==null;){switch(m=Be,p=m.child,m.tag){case 0:case 11:case 14:case 15:Rc(4,m,m.return);break;case 1:Ul(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(S){rn(r,n,S)}}break;case 5:Ul(m,m.return);break;case 22:if(m.memoizedState!==null){O5(h);continue}}p!==null?(p.return=m,Be=p):O5(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vb("display",o))}catch(S){rn(t,t.return,S)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){rn(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mi(e,t),Wi(t),r&4&&L5(t);break;case 21:break;default:mi(e,t),Wi(t)}}function Wi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Hx(n)){var r=n;break e}n=n.return}throw Error(ke(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gc(i,""),r.flags&=-33);var s=T5(t);e1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=T5(t);Zg(t,a,o);break;default:throw Error(ke(161))}}catch(l){rn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h6(t,e,n){Be=t,Vx(t)}function Vx(t,e,n){for(var r=(t.mode&1)!==0;Be!==null;){var i=Be,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Xh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Zn;a=Xh;var c=Zn;if(Xh=o,(Zn=l)&&!c)for(Be=i;Be!==null;)o=Be,l=o.child,o.tag===22&&o.memoizedState!==null?D5(i):l!==null?(l.return=o,Be=l):D5(i);for(;s!==null;)Be=s,Vx(s),s=s.sibling;Be=i,Xh=a,Zn=c}R5(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Be=s):R5(t)}}function R5(t){for(;Be!==null;){var e=Be;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zn||Wp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&v5(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}v5(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Xc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}Zn||e.flags&512&&Xg(e)}catch(m){rn(e,e.return,m)}}if(e===t){Be=null;break}if(n=e.sibling,n!==null){n.return=e.return,Be=n;break}Be=e.return}}function O5(t){for(;Be!==null;){var e=Be;if(e===t){Be=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Be=n;break}Be=e.return}}function D5(t){for(;Be!==null;){var e=Be;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wp(4,e)}catch(l){rn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){rn(e,i,l)}}var s=e.return;try{Xg(e)}catch(l){rn(e,s,l)}break;case 5:var o=e.return;try{Xg(e)}catch(l){rn(e,o,l)}}}catch(l){rn(e,e.return,l)}if(e===t){Be=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Be=a;break}Be=e.return}}var f6=Math.ceil,Xf=Ms.ReactCurrentDispatcher,Fv=Ms.ReactCurrentOwner,ei=Ms.ReactCurrentBatchConfig,vt=0,Rn=null,vn=null,Bn=0,Or=0,zl=qo(0),Cn=0,ud=null,Ia=0,Hp=0,Bv=0,Oc=null,_r=null,Uv=0,lu=1/0,vs=null,Zf=!1,t1=null,Co=null,Zh=!1,go=null,ep=0,Dc=0,n1=null,bf=-1,xf=0;function ur(){return vt&6?un():bf!==-1?bf:bf=un()}function Eo(t){return t.mode&1?vt&2&&Bn!==0?Bn&-Bn:QE.transition!==null?(xf===0&&(xf=Ib()),xf):(t=kt,t!==0||(t=window.event,t=t===void 0?16:Mb(t.type)),t):1}function Ci(t,e,n,r){if(50<Dc)throw Dc=0,n1=null,Error(ke(185));Ad(t,n,r),(!(vt&2)||t!==Rn)&&(t===Rn&&(!(vt&2)&&(Hp|=n),Cn===4&&ao(t,Bn)),kr(t,r),n===1&&vt===0&&!(e.mode&1)&&(lu=un()+500,Bp&&$o()))}function kr(t,e){var n=t.callbackNode;QC(t,e);var r=Mf(t,t===Rn?Bn:0);if(r===0)n!==null&&qy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qy(n),e===1)t.tag===0?KE(j5.bind(null,t)):nx(j5.bind(null,t)),$E(function(){!(vt&6)&&$o()}),n=null;else{switch(Tb(r)){case 1:n=hv;break;case 4:n=Ab;break;case 16:n=jf;break;case 536870912:n=Pb;break;default:n=jf}n=e3(n,Yx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Yx(t,e){if(bf=-1,xf=0,vt&6)throw Error(ke(327));var n=t.callbackNode;if(Ql()&&t.callbackNode!==n)return null;var r=Mf(t,t===Rn?Bn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tp(t,r);else{e=r;var i=vt;vt|=2;var s=Kx();(Rn!==t||Bn!==e)&&(vs=null,lu=un()+500,wa(t,e));do try{g6();break}catch(a){Gx(t,a)}while(!0);Cv(),Xf.current=s,vt=i,vn!==null?e=0:(Rn=null,Bn=0,e=Cn)}if(e!==0){if(e===2&&(i=Pg(t),i!==0&&(r=i,e=r1(t,i))),e===1)throw n=ud,wa(t,0),ao(t,r),kr(t,un()),n;if(e===6)ao(t,r);else{if(i=t.current.alternate,!(r&30)&&!p6(i)&&(e=tp(t,r),e===2&&(s=Pg(t),s!==0&&(r=s,e=r1(t,s))),e===1))throw n=ud,wa(t,0),ao(t,r),kr(t,un()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ke(345));case 2:ua(t,_r,vs);break;case 3:if(ao(t,r),(r&130023424)===r&&(e=Uv+500-un(),10<e)){if(Mf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ur(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Mg(ua.bind(null,t,_r,vs),e);break}ua(t,_r,vs);break;case 4:if(ao(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ni(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=un()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*f6(r/1960))-r,10<r){t.timeoutHandle=Mg(ua.bind(null,t,_r,vs),r);break}ua(t,_r,vs);break;case 5:ua(t,_r,vs);break;default:throw Error(ke(329))}}}return kr(t,un()),t.callbackNode===n?Yx.bind(null,t):null}function r1(t,e){var n=Oc;return t.current.memoizedState.isDehydrated&&(wa(t,e).flags|=256),t=tp(t,e),t!==2&&(e=_r,_r=n,e!==null&&i1(e)),t}function i1(t){_r===null?_r=t:_r.push.apply(_r,t)}function p6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ki(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ao(t,e){for(e&=~Bv,e&=~Hp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ni(e),r=1<<n;t[n]=-1,e&=~r}}function j5(t){if(vt&6)throw Error(ke(327));Ql();var e=Mf(t,0);if(!(e&1))return kr(t,un()),null;var n=tp(t,e);if(t.tag!==0&&n===2){var r=Pg(t);r!==0&&(e=r,n=r1(t,r))}if(n===1)throw n=ud,wa(t,0),ao(t,e),kr(t,un()),n;if(n===6)throw Error(ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ua(t,_r,vs),kr(t,un()),null}function zv(t,e){var n=vt;vt|=1;try{return t(e)}finally{vt=n,vt===0&&(lu=un()+500,Bp&&$o())}}function Ta(t){go!==null&&go.tag===0&&!(vt&6)&&Ql();var e=vt;vt|=1;var n=ei.transition,r=kt;try{if(ei.transition=null,kt=1,t)return t()}finally{kt=r,ei.transition=n,vt=e,!(vt&6)&&$o()}}function Wv(){Or=zl.current,Ht(zl)}function wa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qE(n)),vn!==null)for(n=vn.return;n!==null;){var r=n;switch(xv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wf();break;case 3:ou(),Ht(Cr),Ht(nr),Tv();break;case 5:Iv(r);break;case 4:ou();break;case 13:Ht(Gt);break;case 19:Ht(Gt);break;case 10:Ev(r.type._context);break;case 22:case 23:Wv()}n=n.return}if(Rn=t,vn=t=ko(t.current,null),Bn=Or=e,Cn=0,ud=null,Bv=Hp=Ia=0,_r=Oc=null,ma!==null){for(e=0;e<ma.length;e++)if(n=ma[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ma=null}return t}function Gx(t,e){do{var n=vn;try{if(Cv(),yf.current=Jf,Qf){for(var r=Qt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qf=!1}if(Pa=0,Tn=bn=Qt=null,Lc=!1,od=0,Fv.current=null,n===null||n.return===null){Cn=1,ud=e,vn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Bn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=S5(o);if(p!==null){p.flags&=-257,N5(p,o,a,s,e),p.mode&1&&x5(s,c,e),e=p,l=c;var b=e.updateQueue;if(b===null){var S=new Set;S.add(l),e.updateQueue=S}else b.add(l);break e}else{if(!(e&1)){x5(s,c,e),Hv();break e}l=Error(ke(426))}}else if($t&&a.mode&1){var C=S5(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),N5(C,o,a,s,e),Sv(au(l,a));break e}}s=l=au(l,a),Cn!==4&&(Cn=2),Oc===null?Oc=[s]:Oc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=Tx(s,l,e);g5(s,w);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Co===null||!Co.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Lx(s,a,e);g5(s,E);break e}}s=s.return}while(s!==null)}Jx(n)}catch(O){e=O,vn===n&&n!==null&&(vn=n=n.return);continue}break}while(!0)}function Kx(){var t=Xf.current;return Xf.current=Jf,t===null?Jf:t}function Hv(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),Rn===null||!(Ia&268435455)&&!(Hp&268435455)||ao(Rn,Bn)}function tp(t,e){var n=vt;vt|=2;var r=Kx();(Rn!==t||Bn!==e)&&(vs=null,wa(t,e));do try{m6();break}catch(i){Gx(t,i)}while(!0);if(Cv(),vt=n,Xf.current=r,vn!==null)throw Error(ke(261));return Rn=null,Bn=0,Cn}function m6(){for(;vn!==null;)Qx(vn)}function g6(){for(;vn!==null&&!zC();)Qx(vn)}function Qx(t){var e=Zx(t.alternate,t,Or);t.memoizedProps=t.pendingProps,e===null?Jx(t):vn=e,Fv.current=null}function Jx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=u6(n,e),n!==null){n.flags&=32767,vn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Cn=6,vn=null;return}}else if(n=l6(n,e,Or),n!==null){vn=n;return}if(e=e.sibling,e!==null){vn=e;return}vn=e=t}while(e!==null);Cn===0&&(Cn=5)}function ua(t,e,n){var r=kt,i=ei.transition;try{ei.transition=null,kt=1,v6(t,e,n,r)}finally{ei.transition=i,kt=r}return null}function v6(t,e,n,r){do Ql();while(go!==null);if(vt&6)throw Error(ke(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ke(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(JC(t,s),t===Rn&&(vn=Rn=null,Bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zh||(Zh=!0,e3(jf,function(){return Ql(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ei.transition,ei.transition=null;var o=kt;kt=1;var a=vt;vt|=4,Fv.current=null,d6(t,n),$x(n,t),ME(Dg),Ff=!!Og,Dg=Og=null,t.current=n,h6(n),WC(),vt=a,kt=o,ei.transition=s}else t.current=n;if(Zh&&(Zh=!1,go=t,ep=i),s=t.pendingLanes,s===0&&(Co=null),$C(n.stateNode),kr(t,un()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zf)throw Zf=!1,t=t1,t1=null,t;return ep&1&&t.tag!==0&&Ql(),s=t.pendingLanes,s&1?t===n1?Dc++:(Dc=0,n1=t):Dc=0,$o(),null}function Ql(){if(go!==null){var t=Tb(ep),e=ei.transition,n=kt;try{if(ei.transition=null,kt=16>t?16:t,go===null)var r=!1;else{if(t=go,go=null,ep=0,vt&6)throw Error(ke(331));var i=vt;for(vt|=4,Be=t.current;Be!==null;){var s=Be,o=s.child;if(Be.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Be=c;Be!==null;){var f=Be;switch(f.tag){case 0:case 11:case 15:Rc(8,f,s)}var h=f.child;if(h!==null)h.return=f,Be=h;else for(;Be!==null;){f=Be;var m=f.sibling,p=f.return;if(Wx(f),f===c){Be=null;break}if(m!==null){m.return=p,Be=m;break}Be=p}}}var b=s.alternate;if(b!==null){var S=b.child;if(S!==null){b.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}Be=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Be=o;else e:for(;Be!==null;){if(s=Be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Rc(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Be=w;break e}Be=s.return}}var y=t.current;for(Be=y;Be!==null;){o=Be;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Be=_;else e:for(o=y;Be!==null;){if(a=Be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wp(9,a)}}catch(O){rn(a,a.return,O)}if(a===o){Be=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Be=E;break e}Be=a.return}}if(vt=i,$o(),Ki&&typeof Ki.onPostCommitFiberRoot=="function")try{Ki.onPostCommitFiberRoot(Op,t)}catch{}r=!0}return r}finally{kt=n,ei.transition=e}}return!1}function M5(t,e,n){e=au(n,e),e=Tx(t,e,1),t=No(t,e,1),e=ur(),t!==null&&(Ad(t,1,e),kr(t,e))}function rn(t,e,n){if(t.tag===3)M5(t,t,n);else for(;e!==null;){if(e.tag===3){M5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Co===null||!Co.has(r))){t=au(n,t),t=Lx(e,t,1),e=No(e,t,1),t=ur(),e!==null&&(Ad(e,1,t),kr(e,t));break}}e=e.return}}function y6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ur(),t.pingedLanes|=t.suspendedLanes&n,Rn===t&&(Bn&n)===n&&(Cn===4||Cn===3&&(Bn&130023424)===Bn&&500>un()-Uv?wa(t,0):Bv|=n),kr(t,e)}function Xx(t,e){e===0&&(t.mode&1?(e=Hh,Hh<<=1,!(Hh&130023424)&&(Hh=4194304)):e=1);var n=ur();t=Is(t,e),t!==null&&(Ad(t,e,n),kr(t,n))}function w6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Xx(t,n)}function _6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ke(314))}r!==null&&r.delete(e),Xx(t,n)}var Zx;Zx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cr.current)Sr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sr=!1,a6(t,e,n);Sr=!!(t.flags&131072)}else Sr=!1,$t&&e.flags&1048576&&rx(e,$f,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_f(t,e),t=e.pendingProps;var i=ru(e,nr.current);Kl(e,n),i=Rv(null,e,r,t,i,n);var s=Ov();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Er(r)?(s=!0,Hf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Av(e),i.updater=zp,e.stateNode=i,i._reactInternals=e,qg(e,r,t,n),e=Yg(null,e,r,!0,s,n)):(e.tag=0,$t&&s&&bv(e),or(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_f(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=x6(r),t=yi(r,t),i){case 0:e=Vg(null,e,r,t,n);break e;case 1:e=k5(null,e,r,t,n);break e;case 11:e=C5(null,e,r,t,n);break e;case 14:e=E5(null,e,r,yi(r.type,t),n);break e}throw Error(ke(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),Vg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),k5(t,e,r,i,n);case 3:e:{if(jx(e),t===null)throw Error(ke(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ux(t,e),Gf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=au(Error(ke(423)),e),e=A5(t,e,r,n,i);break e}else if(r!==i){i=au(Error(ke(424)),e),e=A5(t,e,r,n,i);break e}else for(Dr=So(e.stateNode.containerInfo.firstChild),Fr=e,$t=!0,bi=null,n=ax(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(iu(),r===i){e=Ts(t,e,n);break e}or(t,e,r,n)}e=e.child}return e;case 5:return cx(e),t===null&&zg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,jg(r,i)?o=null:s!==null&&jg(r,s)&&(e.flags|=32),Dx(t,e),or(t,e,o,n),e.child;case 6:return t===null&&zg(e),null;case 13:return Mx(t,e,n);case 4:return Pv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=su(e,null,r,n):or(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),C5(t,e,r,i,n);case 7:return or(t,e,e.pendingProps,n),e.child;case 8:return or(t,e,e.pendingProps.children,n),e.child;case 12:return or(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Bt(Vf,r._currentValue),r._currentValue=o,s!==null)if(ki(s.value,o)){if(s.children===i.children&&!Cr.current){e=Ts(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Es(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Wg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ke(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}or(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Kl(e,n),i=ti(i),r=r(i),e.flags|=1,or(t,e,r,n),e.child;case 14:return r=e.type,i=yi(r,e.pendingProps),i=yi(r.type,i),E5(t,e,r,i,n);case 15:return Rx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),_f(t,e),e.tag=1,Er(r)?(t=!0,Hf(e)):t=!1,Kl(e,n),Ix(e,r,i),qg(e,r,i,n),Yg(null,e,r,!0,t,n);case 19:return Fx(t,e,n);case 22:return Ox(t,e,n)}throw Error(ke(156,e.tag))};function e3(t,e){return kb(t,e)}function b6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(t,e,n,r){return new b6(t,e,n,r)}function qv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function x6(t){if(typeof t=="function")return qv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uv)return 11;if(t===cv)return 14}return 2}function ko(t,e){var n=t.alternate;return n===null?(n=Xr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")qv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Tl:return _a(n.children,i,s,e);case lv:o=8,i|=8;break;case pg:return t=Xr(12,n,e,i|2),t.elementType=pg,t.lanes=s,t;case mg:return t=Xr(13,n,e,i),t.elementType=mg,t.lanes=s,t;case gg:return t=Xr(19,n,e,i),t.elementType=gg,t.lanes=s,t;case cb:return qp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lb:o=10;break e;case ub:o=9;break e;case uv:o=11;break e;case cv:o=14;break e;case io:o=16,r=null;break e}throw Error(ke(130,t==null?t:typeof t,""))}return e=Xr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function _a(t,e,n,r){return t=Xr(7,t,r,e),t.lanes=n,t}function qp(t,e,n,r){return t=Xr(22,t,r,e),t.elementType=cb,t.lanes=n,t.stateNode={isHidden:!1},t}function D0(t,e,n){return t=Xr(6,t,null,e),t.lanes=n,t}function j0(t,e,n){return e=Xr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function S6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=g0(0),this.expirationTimes=g0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $v(t,e,n,r,i,s,o,a,l){return t=new S6(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Av(s),t}function N6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Il,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function t3(t){if(!t)return jo;t=t._reactInternals;e:{if(Ba(t)!==t||t.tag!==1)throw Error(ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Er(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ke(171))}if(t.tag===1){var n=t.type;if(Er(n))return tx(t,n,e)}return e}function n3(t,e,n,r,i,s,o,a,l){return t=$v(n,r,!0,t,i,s,o,a,l),t.context=t3(null),n=t.current,r=ur(),i=Eo(n),s=Es(r,i),s.callback=e??null,No(n,s,i),t.current.lanes=i,Ad(t,i,r),kr(t,r),t}function $p(t,e,n,r){var i=e.current,s=ur(),o=Eo(i);return n=t3(n),e.context===null?e.context=n:e.pendingContext=n,e=Es(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=No(i,e,o),t!==null&&(Ci(t,i,o,s),vf(t,i,o)),o}function np(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function F5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vv(t,e){F5(t,e),(t=t.alternate)&&F5(t,e)}function C6(){return null}var r3=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yv(t){this._internalRoot=t}Vp.prototype.render=Yv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ke(409));$p(t,e,null,null)};Vp.prototype.unmount=Yv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ta(function(){$p(null,t,null,null)}),e[Ps]=null}};function Vp(t){this._internalRoot=t}Vp.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ob();t={blockedOn:null,target:t,priority:e};for(var n=0;n<oo.length&&e!==0&&e<oo[n].priority;n++);oo.splice(n,0,t),n===0&&jb(t)}};function Gv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function B5(){}function E6(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=np(o);s.call(c)}}var o=n3(e,r,t,0,null,!1,!1,"",B5);return t._reactRootContainer=o,t[Ps]=o.current,td(t.nodeType===8?t.parentNode:t),Ta(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=np(l);a.call(c)}}var l=$v(t,0,!1,null,null,!1,!1,"",B5);return t._reactRootContainer=l,t[Ps]=l.current,td(t.nodeType===8?t.parentNode:t),Ta(function(){$p(e,l,n,r)}),l}function Gp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=np(o);a.call(l)}}$p(e,o,t,i)}else o=E6(n,e,t,i,r);return np(o)}Lb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sc(e.pendingLanes);n!==0&&(fv(e,n|1),kr(e,un()),!(vt&6)&&(lu=un()+500,$o()))}break;case 13:Ta(function(){var r=Is(t,1);if(r!==null){var i=ur();Ci(r,t,1,i)}}),Vv(t,1)}};pv=function(t){if(t.tag===13){var e=Is(t,134217728);if(e!==null){var n=ur();Ci(e,t,134217728,n)}Vv(t,134217728)}};Rb=function(t){if(t.tag===13){var e=Eo(t),n=Is(t,e);if(n!==null){var r=ur();Ci(n,t,e,r)}Vv(t,e)}};Ob=function(){return kt};Db=function(t,e){var n=kt;try{return kt=t,e()}finally{kt=n}};Eg=function(t,e,n){switch(e){case"input":if(wg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Fp(r);if(!i)throw Error(ke(90));hb(r),wg(r,i)}}}break;case"textarea":pb(t,n);break;case"select":e=n.value,e!=null&&$l(t,!!n.multiple,e,!1)}};bb=zv;xb=Ta;var k6={usingClientEntryPoint:!1,Events:[Id,Dl,Fp,wb,_b,zv]},hc={findFiberByHostInstance:pa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A6={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cb(t),t===null?null:t.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||C6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ef.isDisabled&&ef.supportsFiber)try{Op=ef.inject(A6),Ki=ef}catch{}}Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k6;Ur.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gv(e))throw Error(ke(200));return N6(t,e,null,n)};Ur.createRoot=function(t,e){if(!Gv(t))throw Error(ke(299));var n=!1,r="",i=r3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$v(t,1,!1,null,null,n,!1,r,i),t[Ps]=e.current,td(t.nodeType===8?t.parentNode:t),new Yv(e)};Ur.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ke(188)):(t=Object.keys(t).join(","),Error(ke(268,t)));return t=Cb(e),t=t===null?null:t.stateNode,t};Ur.flushSync=function(t){return Ta(t)};Ur.hydrate=function(t,e,n){if(!Yp(e))throw Error(ke(200));return Gp(null,t,e,!0,n)};Ur.hydrateRoot=function(t,e,n){if(!Gv(t))throw Error(ke(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=r3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=n3(e,null,t,1,n??null,i,!1,s,o),t[Ps]=e.current,td(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Vp(e)};Ur.render=function(t,e,n){if(!Yp(e))throw Error(ke(200));return Gp(null,t,e,!1,n)};Ur.unmountComponentAtNode=function(t){if(!Yp(t))throw Error(ke(40));return t._reactRootContainer?(Ta(function(){Gp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ps]=null})}),!0):!1};Ur.unstable_batchedUpdates=zv;Ur.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yp(n))throw Error(ke(200));if(t==null||t._reactInternals===void 0)throw Error(ke(38));return Gp(t,e,n,!1,r)};Ur.version="18.3.1-next-f1338f8080-20240426";function i3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i3)}catch(t){console.error(t)}}i3(),ib.exports=Ur;var P6=ib.exports,s3,U5=P6;s3=U5.createRoot,U5.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cd.apply(this,arguments)}var vo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vo||(vo={}));const z5="popstate";function I6(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Ua(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),s1("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:o3(s))}function r(i,s){Kv(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return L6(e,n,r,t)}function yn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T6(){return Math.random().toString(36).substr(2,8)}function W5(t,e){return{usr:t.state,key:t.key,idx:e}}function s1(t,e,n,r){return n===void 0&&(n=null),cd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ua(e):e,{state:n,key:e&&e.key||r||T6()})}function o3(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ua(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function L6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=vo.Pop,l=null,c=f();c==null&&(c=0,o.replaceState(cd({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=vo.Pop;let C=f(),w=C==null?null:C-c;c=C,l&&l({action:a,location:S.location,delta:w})}function m(C,w){a=vo.Push;let y=s1(S.location,C,w);n&&n(y,C),c=f()+1;let _=W5(y,c),E=S.createHref(y);try{o.pushState(_,"",E)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(E)}s&&l&&l({action:a,location:S.location,delta:1})}function p(C,w){a=vo.Replace;let y=s1(S.location,C,w);n&&n(y,C),c=f();let _=W5(y,c),E=S.createHref(y);o.replaceState(_,"",E),s&&l&&l({action:a,location:S.location,delta:0})}function b(C){let w=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof C=="string"?C:o3(C);return y=y.replace(/ $/,"%20"),yn(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let S={get action(){return a},get location(){return t(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(z5,h),l=C,()=>{i.removeEventListener(z5,h),l=null}},createHref(C){return e(i,C)},createURL:b,encodeLocation(C){let w=b(C);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(C){return o.go(C)}};return S}var H5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(H5||(H5={}));function R6(t,e,n){return n===void 0&&(n="/"),O6(t,e,n,!1)}function O6(t,e,n,r){let i=typeof e=="string"?Ua(e):e,s=u3(i.pathname||"/",n);if(s==null)return null;let o=a3(t);D6(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=V6(s);a=q6(o[l],c,r)}return a}function a3(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(yn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ba([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(yn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),a3(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:W6(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of l3(s.path))i(s,o,l)}),e}function l3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=l3(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function D6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:H6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const j6=/^:[\w-]+$/,M6=3,F6=2,B6=1,U6=10,z6=-2,q5=t=>t==="*";function W6(t,e){let n=t.split("/"),r=n.length;return n.some(q5)&&(r+=z6),e&&(r+=F6),n.filter(i=>!q5(i)).reduce((i,s)=>i+(j6.test(s)?M6:s===""?B6:U6),r)}function H6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function q6(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=$5({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),m=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=$5({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ba([s,h.pathname]),pathnameBase:Q6(ba([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=ba([s,h.pathnameBase]))}return o}function $5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,h)=>{let{paramName:m,isOptional:p}=f;if(m==="*"){let S=a[h]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const b=a[h];return p&&!b?c[m]=void 0:c[m]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function $6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Kv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function V6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function u3(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Y6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ua(t):t;return{pathname:n?n.startsWith("/")?n:G6(n,e):e,search:J6(r),hash:X6(i)}}function G6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function M0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function c3(t,e){let n=K6(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function d3(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ua(t):(i=cd({},t),yn(!i.pathname||!i.pathname.includes("?"),M0("?","pathname","search",i)),yn(!i.pathname||!i.pathname.includes("#"),M0("#","pathname","hash",i)),yn(!i.search||!i.search.includes("#"),M0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=Y6(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const ba=t=>t.join("/").replace(/\/\/+/g,"/"),Q6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),J6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,X6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Z6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const h3=["post","put","patch","delete"];new Set(h3);const ek=["get",...h3];new Set(ek);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dd.apply(this,arguments)}const Qv=me.createContext(null),tk=me.createContext(null),Ld=me.createContext(null),Kp=me.createContext(null),za=me.createContext({outlet:null,matches:[],isDataRoute:!1}),f3=me.createContext(null);function Rd(){return me.useContext(Kp)!=null}function Jv(){return Rd()||yn(!1),me.useContext(Kp).location}function p3(t){me.useContext(Ld).static||me.useLayoutEffect(t)}function Xv(){let{isDataRoute:t}=me.useContext(za);return t?pk():nk()}function nk(){Rd()||yn(!1);let t=me.useContext(Qv),{basename:e,future:n,navigator:r}=me.useContext(Ld),{matches:i}=me.useContext(za),{pathname:s}=Jv(),o=JSON.stringify(c3(i,n.v7_relativeSplatPath)),a=me.useRef(!1);return p3(()=>{a.current=!0}),me.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=d3(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ba([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,s,t])}function rk(t,e){return ik(t,e)}function ik(t,e,n,r){Rd()||yn(!1);let{navigator:i}=me.useContext(Ld),{matches:s}=me.useContext(za),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Jv(),f;if(e){var h;let C=typeof e=="string"?Ua(e):e;l==="/"||(h=C.pathname)!=null&&h.startsWith(l)||yn(!1),f=C}else f=c;let m=f.pathname||"/",p=m;if(l!=="/"){let C=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=R6(t,{pathname:p}),S=uk(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:ba([l,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?l:ba([l,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&S?me.createElement(Kp.Provider,{value:{location:dd({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:vo.Pop}},S):S}function sk(){let t=fk(),e=Z6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return me.createElement(me.Fragment,null,me.createElement("h2",null,"Unexpected Application Error!"),me.createElement("h3",{style:{fontStyle:"italic"}},e),n?me.createElement("pre",{style:i},n):null,null)}const ok=me.createElement(sk,null);class ak extends me.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?me.createElement(za.Provider,{value:this.props.routeContext},me.createElement(f3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lk(t){let{routeContext:e,match:n,children:r}=t,i=me.useContext(Qv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),me.createElement(za.Provider,{value:e},r)}function uk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||yn(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:p}=n,b=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let p,b=!1,S=null,C=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,S=h.route.errorElement||ok,l&&(c<0&&m===0?(b=!0,C=null):c===m&&(b=!0,C=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,m+1)),y=()=>{let _;return p?_=S:b?_=C:h.route.Component?_=me.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=f,me.createElement(lk,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?me.createElement(ak,{location:n.location,revalidation:n.revalidation,component:S,error:p,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var m3=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(m3||{}),rp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rp||{});function ck(t){let e=me.useContext(Qv);return e||yn(!1),e}function dk(t){let e=me.useContext(tk);return e||yn(!1),e}function hk(t){let e=me.useContext(za);return e||yn(!1),e}function g3(t){let e=hk(),n=e.matches[e.matches.length-1];return n.route.id||yn(!1),n.route.id}function fk(){var t;let e=me.useContext(f3),n=dk(rp.UseRouteError),r=g3(rp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pk(){let{router:t}=ck(m3.UseNavigateStable),e=g3(rp.UseNavigateStable),n=me.useRef(!1);return p3(()=>{n.current=!0}),me.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,dd({fromRouteId:e},s)))},[t,e])}const V5={};function mk(t,e){V5[e]||(V5[e]=!0,console.warn(e))}const Y5=(t,e,n)=>mk(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function gk(t,e){t!=null&&t.v7_startTransition||Y5("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Y5("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function v3(t){let{to:e,replace:n,state:r,relative:i}=t;Rd()||yn(!1);let{future:s,static:o}=me.useContext(Ld),{matches:a}=me.useContext(za),{pathname:l}=Jv(),c=Xv(),f=d3(e,c3(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(f);return me.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function Nf(t){yn(!1)}function vk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=vo.Pop,navigator:s,static:o=!1,future:a}=t;Rd()&&yn(!1);let l=e.replace(/^\/*/,"/"),c=me.useMemo(()=>({basename:l,navigator:s,static:o,future:dd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ua(r));let{pathname:f="/",search:h="",hash:m="",state:p=null,key:b="default"}=r,S=me.useMemo(()=>{let C=u3(f,l);return C==null?null:{location:{pathname:C,search:h,hash:m,state:p,key:b},navigationType:i}},[l,f,h,m,p,b,i]);return S==null?null:me.createElement(Ld.Provider,{value:c},me.createElement(Kp.Provider,{children:n,value:S}))}function yk(t){let{children:e,location:n}=t;return rk(o1(e),n)}new Promise(()=>{});function o1(t,e){e===void 0&&(e=[]);let n=[];return me.Children.forEach(t,(r,i)=>{if(!me.isValidElement(r))return;let s=[...e,i];if(r.type===me.Fragment){n.push.apply(n,o1(r.props.children,s));return}r.type!==Nf&&yn(!1),!r.props.index||!r.props.children||yn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=o1(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const wk="6";try{window.__reactRouterVersion=wk}catch{}const _k="startTransition",G5=yC[_k];function bk(t){let{basename:e,children:n,future:r,window:i}=t,s=me.useRef();s.current==null&&(s.current=I6({window:i,v5Compat:!0}));let o=s.current,[a,l]=me.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=me.useCallback(h=>{c&&G5?G5(()=>l(h)):l(h)},[l,c]);return me.useLayoutEffect(()=>o.listen(f),[o,f]),me.useEffect(()=>gk(r),[r]),me.createElement(vk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var K5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(K5||(K5={}));var Q5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Q5||(Q5={}));let xk={data:""},Sk=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||xk,Nk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ck=/\/\*[^]*?\*\/|  +/g,J5=/\n+/g,lo=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?lo(o,s):s+"{"+lo(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=lo(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=lo.p?lo.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ps={},y3=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+y3(t[n]);return e}return t},Ek=(t,e,n,r,i)=>{let s=y3(t),o=ps[s]||(ps[s]=(l=>{let c=0,f=11;for(;c<l.length;)f=101*f+l.charCodeAt(c++)>>>0;return"go"+f})(s));if(!ps[o]){let l=s!==t?t:(c=>{let f,h,m=[{}];for(;f=Nk.exec(c.replace(Ck,""));)f[4]?m.shift():f[3]?(h=f[3].replace(J5," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][f[1]]=f[2].replace(J5," ").trim();return m[0]})(t);ps[o]=lo(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&ps.g?ps.g:null;return n&&(ps.g=ps[o]),((l,c,f,h)=>{h?c.data=c.data.replace(h,l):c.data.indexOf(l)===-1&&(c.data=f?l+c.data:c.data+l)})(ps[o],e,r,a),o},kk=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":lo(a,""):a===!1?"":a}return r+i+(o??"")},"");function Qp(t){let e=this||{},n=t.call?t(e.p):t;return Ek(n.unshift?n.raw?kk(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,Sk(e.target),e.g,e.o,e.k)}let w3,a1,l1;Qp.bind({g:1});let Ls=Qp.bind({k:1});function Ak(t,e,n,r){lo.p=e,w3=t,a1=n,l1=r}function Vo(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:a1&&a1()},a),n.o=/ *go\d+/.test(l),a.className=Qp.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),l1&&c[0]&&l1(a),w3(c,a)}return i}}var Pk=t=>typeof t=="function",ip=(t,e)=>Pk(t)?t(e):t,Ik=(()=>{let t=0;return()=>(++t).toString()})(),_3=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Tk=20,Cf=new Map,Lk=1e3,X5=t=>{if(Cf.has(t))return;let e=setTimeout(()=>{Cf.delete(t),Wa({type:4,toastId:t})},Lk);Cf.set(t,e)},Rk=t=>{let e=Cf.get(t);e&&clearTimeout(e)},u1=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Tk)};case 1:return e.toast.id&&Rk(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return t.toasts.find(s=>s.id===n.id)?u1(t,{type:1,toast:n}):u1(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?X5(r):t.toasts.forEach(s=>{X5(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Ef=[],kf={toasts:[],pausedAt:void 0},Wa=t=>{kf=u1(kf,t),Ef.forEach(e=>{e(kf)})},Ok={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Dk=(t={})=>{let[e,n]=me.useState(kf);me.useEffect(()=>(Ef.push(n),()=>{let i=Ef.indexOf(n);i>-1&&Ef.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o;return{...t,...t[i.type],...i,duration:i.duration||((s=t[i.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||Ok[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:r}},jk=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Ik()}),Od=t=>(e,n)=>{let r=jk(e,t,n);return Wa({type:2,toast:r}),r.id},jr=(t,e)=>Od("blank")(t,e);jr.error=Od("error");jr.success=Od("success");jr.loading=Od("loading");jr.custom=Od("custom");jr.dismiss=t=>{Wa({type:3,toastId:t})};jr.remove=t=>Wa({type:4,toastId:t});jr.promise=(t,e,n)=>{let r=jr.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(jr.success(ip(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{jr.error(ip(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var Mk=(t,e)=>{Wa({type:1,toast:{id:t,height:e}})},Fk=()=>{Wa({type:5,time:Date.now()})},Bk=t=>{let{toasts:e,pausedAt:n}=Dk(t);me.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&jr.dismiss(a.id);return}return setTimeout(()=>jr.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=me.useCallback(()=>{n&&Wa({type:6,time:Date.now()})},[n]),i=me.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},f=e.filter(p=>(p.position||c)===(s.position||c)&&p.height),h=f.findIndex(p=>p.id===s.id),m=f.filter((p,b)=>b<h&&p.visible).length;return f.filter(p=>p.visible).slice(...a?[m+1]:[0,m]).reduce((p,b)=>p+(b.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:Mk,startPause:Fk,endPause:r,calculateOffset:i}}},Uk=Ls`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,zk=Ls`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Wk=Ls`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Hk=Vo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Uk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${zk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Wk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,qk=Ls`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,$k=Vo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${qk} 1s linear infinite;
`,Vk=Ls`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Yk=Ls`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Gk=Vo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Vk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Yk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Kk=Vo("div")`
  position: absolute;
`,Qk=Vo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Jk=Ls`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Xk=Vo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Jk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Zk=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?me.createElement(Xk,null,e):e:n==="blank"?null:me.createElement(Qk,null,me.createElement($k,{...r}),n!=="loading"&&me.createElement(Kk,null,n==="error"?me.createElement(Hk,{...r}):me.createElement(Gk,{...r})))},eA=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,tA=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,nA="0%{opacity:0;} 100%{opacity:1;}",rA="0%{opacity:1;} 100%{opacity:0;}",iA=Vo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,sA=Vo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,oA=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=_3()?[nA,rA]:[eA(n),tA(n)];return{animation:e?`${Ls(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ls(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},aA=me.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?oA(t.position||e||"top-center",t.visible):{opacity:0},s=me.createElement(Zk,{toast:t}),o=me.createElement(sA,{...t.ariaProps},ip(t.message,t));return me.createElement(iA,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):me.createElement(me.Fragment,null,s,o))});Ak(me.createElement);var lA=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=me.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return me.createElement("div",{ref:s,className:e,style:n},i)},uA=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:_3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},cA=Qp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,tf=16,dA=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=Bk(n);return me.createElement("div",{style:{position:"fixed",zIndex:9999,top:tf,left:tf,right:tf,bottom:tf,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let f=c.position||e,h=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),m=uA(f,h);return me.createElement(lA,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?cA:"",style:m},c.type==="custom"?ip(c.message,c):i?i(c):me.createElement(aA,{toast:c,position:f}))}))},zt=jr,Z5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae=function(t,e){if(!t)throw wu(e)},wu=function(t){return new Error("Firebase Database ("+b3.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(m=64)),r.push(n[f],n[h],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(x3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new fA;const m=s<<2|a>>4;if(r.push(m),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const b=c<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S3=function(t){const e=x3(t);return Zv.encodeByteArray(e,!0)},sp=function(t){return S3(t).replace(/\./g,"")},op=function(t){try{return Zv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){return N3(void 0,t)}function N3(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!mA(n)||(t[n]=N3(t[n],e[n]));return t}function mA(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=()=>gA().__FIREBASE_DEFAULTS__,yA=()=>{if(typeof process>"u"||typeof Z5>"u")return;const t=Z5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&op(t[1]);return e&&JSON.parse(e)},e2=()=>{try{return vA()||yA()||wA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},C3=t=>{var e,n;return(n=(e=e2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_A=t=>{const e=C3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},E3=()=>{var t;return(t=e2())===null||t===void 0?void 0:t.config},k3=t=>{var e;return(e=e2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sp(JSON.stringify(n)),sp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dr())}function xA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function A3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NA(){const t=dr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function P3(){return b3.NODE_ADMIN===!0}function CA(){try{return typeof indexedDB=="object"}catch{return!1}}function EA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="FirebaseError";class Yo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kA,Object.setPrototypeOf(this,Yo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jd.prototype.create)}}class jd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?AA(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yo(i,a,r)}}function AA(t,e){return t.replace(PA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t){return JSON.parse(t)}function Nn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=hd(op(s[0])||""),n=hd(op(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},IA=function(t){const e=I3(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},TA=function(t){const e=I3(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function uu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function c1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ap(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function lp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ew(s)&&ew(o)){if(!lp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ew(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ec(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const m=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(m<<1|m>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,f;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),f=1518500249):(c=s^o^a,f=1859775393):h<60?(c=s&o|a&(s|o),f=2400959708):(c=s^o^a,f=3395469782);const m=(i<<5|i>>>27)+c+l+f+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=m}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function RA(t,e){const n=new OA(t,e);return n.subscribe.bind(n)}class OA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=F0),i.error===void 0&&(i.error=F0),i.complete===void 0&&(i.complete=F0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function F0(){}function Jp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ae(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Xp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t){return t&&t._delegate?t._delegate:t}class La{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Dd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BA(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FA(t){return t===ca?void 0:t}function BA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Tt||(Tt={}));const zA={debug:Tt.DEBUG,verbose:Tt.VERBOSE,info:Tt.INFO,warn:Tt.WARN,error:Tt.ERROR,silent:Tt.SILENT},WA=Tt.INFO,HA={[Tt.DEBUG]:"log",[Tt.VERBOSE]:"log",[Tt.INFO]:"info",[Tt.WARN]:"warn",[Tt.ERROR]:"error"},qA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=HA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class n2{constructor(e){this.name=e,this._logLevel=WA,this._logHandler=qA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Tt.DEBUG,...e),this._logHandler(this,Tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Tt.VERBOSE,...e),this._logHandler(this,Tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Tt.INFO,...e),this._logHandler(this,Tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Tt.WARN,...e),this._logHandler(this,Tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Tt.ERROR,...e),this._logHandler(this,Tt.ERROR,...e)}}const $A=(t,e)=>e.some(n=>t instanceof n);let tw,nw;function VA(){return tw||(tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YA(){return nw||(nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T3=new WeakMap,d1=new WeakMap,L3=new WeakMap,B0=new WeakMap,r2=new WeakMap;function GA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ao(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&T3.set(n,t)}).catch(()=>{}),r2.set(e,t),e}function KA(t){if(d1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});d1.set(t,e)}let h1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return d1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||L3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ao(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QA(t){h1=t(h1)}function JA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(U0(this),e,...n);return L3.set(r,e.sort?e.sort():[e]),Ao(r)}:YA().includes(t)?function(...e){return t.apply(U0(this),e),Ao(T3.get(this))}:function(...e){return Ao(t.apply(U0(this),e))}}function XA(t){return typeof t=="function"?JA(t):(t instanceof IDBTransaction&&KA(t),$A(t,VA())?new Proxy(t,h1):t)}function Ao(t){if(t instanceof IDBRequest)return GA(t);if(B0.has(t))return B0.get(t);const e=XA(t);return e!==t&&(B0.set(t,e),r2.set(e,t)),e}const U0=t=>r2.get(t);function ZA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ao(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ao(o.result),l.oldVersion,l.newVersion,Ao(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const eP=["get","getKey","getAll","getAllKeys","count"],tP=["put","add","delete","clear"],z0=new Map;function rw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(z0.get(e))return z0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eP.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return z0.set(e,s),s}QA(t=>({...t,get:(e,n,r)=>rw(e,n)||t.get(e,n,r),has:(e,n)=>!!rw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const f1="@firebase/app",iw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new n2("@firebase/app"),iP="@firebase/app-compat",sP="@firebase/analytics-compat",oP="@firebase/analytics",aP="@firebase/app-check-compat",lP="@firebase/app-check",uP="@firebase/auth",cP="@firebase/auth-compat",dP="@firebase/database",hP="@firebase/data-connect",fP="@firebase/database-compat",pP="@firebase/functions",mP="@firebase/functions-compat",gP="@firebase/installations",vP="@firebase/installations-compat",yP="@firebase/messaging",wP="@firebase/messaging-compat",_P="@firebase/performance",bP="@firebase/performance-compat",xP="@firebase/remote-config",SP="@firebase/remote-config-compat",NP="@firebase/storage",CP="@firebase/storage-compat",EP="@firebase/firestore",kP="@firebase/vertexai-preview",AP="@firebase/firestore-compat",PP="firebase",IP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="[DEFAULT]",TP={[f1]:"fire-core",[iP]:"fire-core-compat",[oP]:"fire-analytics",[sP]:"fire-analytics-compat",[lP]:"fire-app-check",[aP]:"fire-app-check-compat",[uP]:"fire-auth",[cP]:"fire-auth-compat",[dP]:"fire-rtdb",[hP]:"fire-data-connect",[fP]:"fire-rtdb-compat",[pP]:"fire-fn",[mP]:"fire-fn-compat",[gP]:"fire-iid",[vP]:"fire-iid-compat",[yP]:"fire-fcm",[wP]:"fire-fcm-compat",[_P]:"fire-perf",[bP]:"fire-perf-compat",[xP]:"fire-rc",[SP]:"fire-rc-compat",[NP]:"fire-gcs",[CP]:"fire-gcs-compat",[EP]:"fire-fst",[AP]:"fire-fst-compat",[kP]:"fire-vertex","fire-js":"fire-js",[PP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=new Map,LP=new Map,m1=new Map;function sw(t,e){try{t.container.addComponent(e)}catch(n){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cu(t){const e=t.name;if(m1.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;m1.set(e,t);for(const n of up.values())sw(n,t);for(const n of LP.values())sw(n,t);return!0}function i2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Po=new jd("app","Firebase",RP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new La("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=IP;function R3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:p1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Po.create("bad-app-name",{appName:String(i)});if(n||(n=E3()),!n)throw Po.create("no-options");const s=up.get(i);if(s){if(lp(n,s.options)&&lp(r,s.config))return s;throw Po.create("duplicate-app",{appName:i})}const o=new UA(i);for(const l of m1.values())o.addComponent(l);const a=new OP(n,r,o);return up.set(i,a),a}function O3(t=p1){const e=up.get(t);if(!e&&t===p1&&E3())return R3();if(!e)throw Po.create("no-app",{appName:t});return e}function Io(t,e,n){var r;let i=(r=TP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(a.join(" "));return}cu(new La(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="firebase-heartbeat-database",jP=1,fd="firebase-heartbeat-store";let W0=null;function D3(){return W0||(W0=ZA(DP,jP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Po.create("idb-open",{originalErrorMessage:t.message})})),W0}async function MP(t){try{const n=(await D3()).transaction(fd),r=await n.objectStore(fd).get(j3(t));return await n.done,r}catch(e){if(e instanceof Yo)Rs.warn(e.message);else{const n=Po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rs.warn(n.message)}}}async function ow(t,e){try{const r=(await D3()).transaction(fd,"readwrite");await r.objectStore(fd).put(e,j3(t)),await r.done}catch(n){if(n instanceof Yo)Rs.warn(n.message);else{const r=Po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rs.warn(r.message)}}}function j3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=1024,BP=30*24*60*60*1e3;class UP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=BP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Rs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aw(),{heartbeatsToSend:r,unsentEntries:i}=zP(this._heartbeatsCache.heartbeats),s=sp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Rs.warn(n),""}}}function aw(){return new Date().toISOString().substring(0,10)}function zP(t,e=FP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),lw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CA()?EA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ow(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ow(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lw(t){return sp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t){cu(new La("platform-logger",e=>new nP(e),"PRIVATE")),cu(new La("heartbeat",e=>new UP(e),"PRIVATE")),Io(f1,iw,t),Io(f1,iw,"esm2017"),Io("fire-js","")}HP("");function s2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function M3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qP=M3,F3=new jd("auth","Firebase",M3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=new n2("@firebase/auth");function $P(t,...e){cp.logLevel<=Tt.WARN&&cp.warn(`Auth (${bu}): ${t}`,...e)}function Af(t,...e){cp.logLevel<=Tt.ERROR&&cp.error(`Auth (${bu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,...e){throw o2(t,...e)}function Ji(t,...e){return o2(t,...e)}function B3(t,e,n){const r=Object.assign(Object.assign({},qP()),{[e]:n});return new jd("auth","Firebase",r).create(e,{appName:t.name})}function To(t){return B3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function o2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return F3.create(t,...e)}function Qe(t,e,...n){if(!t)throw o2(e,...n)}function xs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Af(e),new Error(e)}function Os(t,e){t||xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VP(){return uw()==="http:"||uw()==="https:"}function uw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VP()||SA()||"connection"in navigator)?navigator.onLine:!0}function GP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.shortDelay=e,this.longDelay=n,Os(n>e,"Short delay should be less than long delay!"),this.isMobile=t2()||A3()}get(){return YP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t,e){Os(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=new Md(3e4,6e4);function Ha(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Go(t,e,n,r,i={}){return z3(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=_u(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return xA()||(c.referrerPolicy="no-referrer"),U3.fetch()(W3(t,t.config.apiHost,n,a),c)})}async function z3(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KP),e);try{const i=new XP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw nf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw nf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw nf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw nf(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw B3(t,f,c);Ai(t,f)}}catch(i){if(i instanceof Yo)throw i;Ai(t,"network-request-failed",{message:String(i)})}}async function Zp(t,e,n,r,i={}){const s=await Go(t,e,n,r,i);return"mfaPendingCredential"in s&&Ai(t,"multi-factor-auth-required",{_serverResponse:s}),s}function W3(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?a2(t.config,i):`${t.config.apiScheme}://${i}`}function JP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ji(this.auth,"network-request-failed")),QP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ji(t,e,r);return i.customData._tokenResponse=n,i}function cw(t){return t!==void 0&&t.enterprise!==void 0}class ZP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function eI(t,e){return Go(t,"GET","/v2/recaptchaConfig",Ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(t,e){return Go(t,"POST","/v1/accounts:delete",e)}async function H3(t,e){return Go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nI(t,e=!1){const n=Wn(t),r=await n.getIdToken(e),i=l2(r);Qe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:jc(H0(i.auth_time)),issuedAtTime:jc(H0(i.iat)),expirationTime:jc(H0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function H0(t){return Number(t)*1e3}function l2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Af("JWT malformed, contained fewer than 3 sections"),null;try{const i=op(n);return i?JSON.parse(i):(Af("Failed to decode base64 JWT payload"),null)}catch(i){return Af("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dw(t){const e=l2(t);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yo&&rI(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await pd(t,H3(n,{idToken:r}));Qe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?q3(s.providerUserInfo):[],a=oI(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new v1(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function sI(t){const e=Wn(t);await dp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oI(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function q3(t){return t.map(e=>{var{providerId:n}=e,r=s2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(t,e){const n=await z3(t,{},async()=>{const r=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=W3(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",U3.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lI(t,e){return Go(t,"POST","/v2/accounts:revokeToken",Ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const n=dw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await aI(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Jl;return r&&(Qe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Qe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Qe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jl,this.toJSON())}_performRefresh(){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,e){Qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ss{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=s2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new v1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await pd(this,this.stsTokenManager.getToken(this.auth,e));return Qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nI(this,e)}reload(){return sI(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bs(this.auth.app))return Promise.reject(To(this.auth));const e=await this.getIdToken();return await pd(this,tI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:_,emailVerified:E,isAnonymous:O,providerData:F,stsTokenManager:R}=n;Qe(_&&R,e,"internal-error");const I=Jl.fromJSON(this.name,R);Qe(typeof _=="string",e,"internal-error"),eo(h,e.name),eo(m,e.name),Qe(typeof E=="boolean",e,"internal-error"),Qe(typeof O=="boolean",e,"internal-error"),eo(p,e.name),eo(b,e.name),eo(S,e.name),eo(C,e.name),eo(w,e.name),eo(y,e.name);const W=new Ss({uid:_,auth:e,email:m,emailVerified:E,displayName:h,isAnonymous:O,photoURL:b,phoneNumber:p,tenantId:S,stsTokenManager:I,createdAt:w,lastLoginAt:y});return F&&Array.isArray(F)&&(W.providerData=F.map(H=>Object.assign({},H))),C&&(W._redirectEventId=C),W}static async _fromIdTokenResponse(e,n,r=!1){const i=new Jl;i.updateFromServerResponse(n);const s=new Ss({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Qe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?q3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Jl;a.updateFromIdToken(r);const l=new Ss({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new v1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=new Map;function Ns(t){Os(t instanceof Function,"Expected a class definition");let e=hw.get(t);return e?(Os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$3.type="NONE";const fw=$3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(t,e,n){return`firebase:${t}:${e}:${n}`}class Xl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Pf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Pf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ss._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xl(Ns(fw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ns(fw);const o=Pf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const h=Ss._fromJSON(e,f);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Xl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Xl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J3(e))return"Blackberry";if(X3(e))return"Webos";if(Y3(e))return"Safari";if((e.includes("chrome/")||G3(e))&&!e.includes("edge/"))return"Chrome";if(Q3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function V3(t=dr()){return/firefox\//i.test(t)}function Y3(t=dr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G3(t=dr()){return/crios\//i.test(t)}function K3(t=dr()){return/iemobile/i.test(t)}function Q3(t=dr()){return/android/i.test(t)}function J3(t=dr()){return/blackberry/i.test(t)}function X3(t=dr()){return/webos/i.test(t)}function u2(t=dr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uI(t=dr()){var e;return u2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cI(){return NA()&&document.documentMode===10}function Z3(t=dr()){return u2(t)||Q3(t)||X3(t)||J3(t)||/windows phone/i.test(t)||K3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t,e=[]){let n;switch(t){case"Browser":n=pw(dr());break;case"Worker":n=`${pw(dr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(t,e={}){return Go(t,"GET","/v2/passwordPolicy",Ha(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=6;class pI{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:fI,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mw(this),this.idTokenSubscription=new mw(this),this.beforeStateQueue=new dI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ns(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Xl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await H3(this,{idToken:e}),r=await Ss._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bs(this.app))return Promise.reject(To(this));const n=e?Wn(e):null;return n&&Qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bs(this.app)?Promise.reject(To(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bs(this.app)?Promise.reject(To(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hI(this),n=new pI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lI(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ns(e)||this._popupRedirectResolver;Qe(n,this,"argument-error"),this.redirectPersistenceManager=await Xl.create(this,[Ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=e4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$P(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function xu(t){return Wn(t)}class mw{constructor(e){this.auth=e,this.observer=null,this.addObserver=RA(n=>this.observer=n)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gI(t){em=t}function t4(t){return em.loadJS(t)}function vI(){return em.recaptchaEnterpriseScript}function yI(){return em.gapiScript}function wI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const _I="recaptcha-enterprise",bI="NO_RECAPTCHA";class xI{constructor(e){this.type=_I,this.auth=xu(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{eI(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new ZP(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;cw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(bI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&cw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=vI();l.length!==0&&(l+=a),t4(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function gw(t,e,n,r=!1){const i=new xI(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function vw(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await gw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await gw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t,e){const n=i2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(lp(s,e??{}))return i;Ai(i,"already-initialized")}return n.initialize({options:e})}function NI(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ns);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CI(t,e,n){const r=xu(t);Qe(r._canInitEmulator,r,"emulator-config-failed"),Qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=n4(e),{host:o,port:a}=EI(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),kI()}function n4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EI(t){const e=n4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:yw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:yw(o)}}}function yw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kI(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,n){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}async function AI(t,e){return Go(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(t,e){return Zp(t,"POST","/v1/accounts:signInWithPassword",Ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(t,e){return Zp(t,"POST","/v1/accounts:signInWithEmailLink",Ha(t,e))}async function TI(t,e){return Zp(t,"POST","/v1/accounts:signInWithEmailLink",Ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends c2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new md(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new md(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vw(e,n,"signInWithPassword",PI);case"emailLink":return II(e,{email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vw(e,r,"signUpPassword",AI);case"emailLink":return TI(e,{idToken:n,email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(t,e){return Zp(t,"POST","/v1/accounts:signInWithIdp",Ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="http://localhost";class Ra extends c2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=s2(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ra(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Zl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zl(e,n)}buildRequest(){const e={requestUri:LI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OI(t){const e=Cc(Ec(t)).link,n=e?Cc(Ec(e)).deep_link_id:null,r=Cc(Ec(t)).deep_link_id;return(r?Cc(Ec(r)).link:null)||r||n||e||t}class d2{constructor(e){var n,r,i,s,o,a;const l=Cc(Ec(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,h=RI((i=l.mode)!==null&&i!==void 0?i:null);Qe(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=OI(e);try{return new d2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this.providerId=Su.PROVIDER_ID}static credential(e,n){return md._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=d2.parseLink(n);return Qe(r,"argument-error"),md._fromEmailAndCode(e,r.code,r.tenantId)}}Su.PROVIDER_ID="password";Su.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Su.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends r4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Fd{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";uo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends Fd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ra._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return co.credential(n,r)}catch{return null}}}co.GOOGLE_SIGN_IN_METHOD="google.com";co.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends Fd{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.GITHUB_SIGN_IN_METHOD="github.com";ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Fd{constructor(){super("twitter.com")}static credential(e,n){return Ra._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fo.credential(n,r)}catch{return null}}}fo.TWITTER_SIGN_IN_METHOD="twitter.com";fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ss._fromIdTokenResponse(e,r,i),o=ww(r);return new du({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ww(r);return new du({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ww(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends Yo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hp(e,n,r,i)}}function i4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hp._fromErrorAndOperation(t,s,e,r):s})}async function DI(t,e,n=!1){const r=await pd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return du._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(t,e,n=!1){const{auth:r}=t;if(bs(r.app))return Promise.reject(To(r));const i="reauthenticate";try{const s=await pd(t,i4(r,i,e,t),n);Qe(s.idToken,r,"internal-error");const o=l2(s.idToken);Qe(o,r,"internal-error");const{sub:a}=o;return Qe(t.uid===a,r,"user-mismatch"),du._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ai(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(t,e,n=!1){if(bs(t.app))return Promise.reject(To(t));const r="signIn",i=await i4(t,r,e),s=await du._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function MI(t,e){return s4(xu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(t){const e=xu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function BI(t,e,n){return bs(t.app)?Promise.reject(To(t)):MI(Wn(t),Su.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FI(t),r})}function UI(t,e,n,r){return Wn(t).onIdTokenChanged(e,n,r)}function zI(t,e,n){return Wn(t).beforeAuthStateChanged(e,n)}function WI(t,e,n,r){return Wn(t).onAuthStateChanged(e,n,r)}function HI(t){return Wn(t).signOut()}const fp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fp,"1"),this.storage.removeItem(fp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=1e3,$I=10;class a4 extends o4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Z3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);cI()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$I):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}a4.type="LOCAL";const VI=a4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4 extends o4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}l4.type="SESSION";const u4=l4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await YI(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=h2("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(){return window}function KI(t){Xi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function QI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XI(){return c4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="firebaseLocalStorageDb",ZI=1,pp="firebaseLocalStorage",h4="fbase_key";class Bd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nm(t,e){return t.transaction([pp],e?"readwrite":"readonly").objectStore(pp)}function eT(){const t=indexedDB.deleteDatabase(d4);return new Bd(t).toPromise()}function y1(){const t=indexedDB.open(d4,ZI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pp,{keyPath:h4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pp)?e(r):(r.close(),await eT(),e(await y1()))})})}async function _w(t,e,n){const r=nm(t,!0).put({[h4]:e,value:n});return new Bd(r).toPromise()}async function tT(t,e){const n=nm(t,!1).get(e),r=await new Bd(n).toPromise();return r===void 0?null:r.value}function bw(t,e){const n=nm(t,!0).delete(e);return new Bd(n).toPromise()}const nT=800,rT=3;class f4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await y1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rT)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return c4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tm._getInstance(XI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QI(),!this.activeServiceWorker)return;this.sender=new GI(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await y1();return await _w(e,fp,"1"),await bw(e,fp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_w(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tT(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=nm(i,!1).getAll();return new Bd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f4.type="LOCAL";const iT=f4;new Md(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t,e){return e?Ns(e):(Qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2 extends c2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oT(t){return s4(t.auth,new f2(t),t.bypassAuthState)}function aT(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),jI(n,new f2(t),t.bypassAuthState)}async function lT(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),DI(n,new f2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oT;case"linkViaPopup":case"linkViaRedirect":return lT;case"reauthViaPopup":case"reauthViaRedirect":return aT;default:Ai(this.auth,"internal-error")}}resolve(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Md(2e3,1e4);class Wl extends p4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Wl.currentPopupAction&&Wl.currentPopupAction.cancel(),Wl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const e=h2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uT.get())};e()}}Wl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="pendingRedirect",If=new Map;class dT extends p4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=If.get(this.auth._key());if(!e){try{const r=await hT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}If.set(this.auth._key(),e)}return this.bypassAuthState||If.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hT(t,e){const n=mT(e),r=pT(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function fT(t,e){If.set(t._key(),e)}function pT(t){return Ns(t._redirectPersistence)}function mT(t){return Pf(cT,t.config.apiKey,t.name)}async function gT(t,e,n=!1){if(bs(t.app))return Promise.reject(To(t));const r=xu(t),i=sT(r,e),o=await new dT(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=10*60*1e3;class yT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wT(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!m4(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ji(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vT&&this.cachedEventUids.clear(),this.cachedEventUids.has(xw(e))}saveEventToCache(e){this.cachedEventUids.add(xw(e)),this.lastProcessedEventTime=Date.now()}}function xw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function m4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wT(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(t,e={}){return Go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xT=/^https?/;async function ST(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _T(t);for(const n of e)try{if(NT(n))return}catch{}Ai(t,"unauthorized-domain")}function NT(t){const e=g1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!xT.test(n))return!1;if(bT.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Md(3e4,6e4);function Sw(){const t=Xi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ET(t){return new Promise((e,n)=>{var r,i,s;function o(){Sw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sw(),n(Ji(t,"network-request-failed"))},timeout:CT.get()})}if(!((i=(r=Xi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Xi().gapi)===null||s===void 0)&&s.load)o();else{const a=wI("iframefcb");return Xi()[a]=()=>{gapi.load?o():n(Ji(t,"network-request-failed"))},t4(`${yI()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Tf=null,e})}let Tf=null;function kT(t){return Tf=Tf||ET(t),Tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=new Md(5e3,15e3),PT="__/auth/iframe",IT="emulator/auth/iframe",TT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RT(t){const e=t.config;Qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?a2(e,IT):`https://${t.config.authDomain}/${PT}`,r={apiKey:e.apiKey,appName:t.name,v:bu},i=LT.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_u(r).slice(1)}`}async function OT(t){const e=await kT(t),n=Xi().gapi;return Qe(n,t,"internal-error"),e.open({where:document.body,url:RT(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TT,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ji(t,"network-request-failed"),a=Xi().setTimeout(()=>{s(o)},AT.get());function l(){Xi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jT=500,MT=600,FT="_blank",BT="http://localhost";class Nw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UT(t,e,n,r=jT,i=MT){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},DT),{width:r.toString(),height:i.toString(),top:s,left:o}),c=dr().toLowerCase();n&&(a=G3(c)?FT:n),V3(c)&&(e=e||BT,l.scrollbars="yes");const f=Object.entries(l).reduce((m,[p,b])=>`${m}${p}=${b},`,"");if(uI(c)&&a!=="_self")return zT(e||"",a),new Nw(null);const h=window.open(e||"",a,f);Qe(h,t,"popup-blocked");try{h.focus()}catch{}return new Nw(h)}function zT(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="__/auth/handler",HT="emulator/auth/handler",qT=encodeURIComponent("fac");async function Cw(t,e,n,r,i,s){Qe(t.config.authDomain,t,"auth-domain-config-required"),Qe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bu,eventId:i};if(e instanceof r4){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",c1(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Fd){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),c=l?`#${qT}=${encodeURIComponent(l)}`:"";return`${$T(t)}?${_u(a).slice(1)}${c}`}function $T({config:t}){return t.emulator?a2(t,HT):`https://${t.authDomain}/${WT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="webStorageSupport";class VT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=u4,this._completeRedirectFn=gT,this._overrideRedirectResult=fT}async _openPopup(e,n,r,i){var s;Os((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Cw(e,n,r,g1(),i);return UT(e,o,h2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Cw(e,n,r,g1(),i);return KI(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Os(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await OT(e),r=new yT(e);return n.register("authEvent",i=>(Qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(q0,{type:q0},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[q0];o!==void 0&&n(!!o),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ST(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Z3()||Y3()||u2()}}const YT=VT;var Ew="@firebase/auth",kw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QT(t){cu(new La("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Qe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e4(t)},c=new mI(r,i,s,l);return NI(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),cu(new La("auth-internal",e=>{const n=xu(e.getProvider("auth").getImmediate());return(r=>new GT(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Io(Ew,kw,KT(t)),Io(Ew,kw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=5*60,XT=k3("authIdTokenMaxAge")||JT;let Aw=null;const ZT=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XT)return;const i=n==null?void 0:n.token;Aw!==i&&(Aw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function eL(t=O3()){const e=i2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SI(t,{popupRedirectResolver:YT,persistence:[iT,VI,u4]}),r=k3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=ZT(s.toString());zI(n,o,()=>o(n.currentUser)),UI(n,a=>o(a))}}const i=C3("auth");return i&&CI(n,`http://${i}`),n}function tL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}gI({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ji("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",tL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QT("Browser");var nL="firebase",rL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io(nL,rL,"app");var Pw={};const Iw="@firebase/database",Tw="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g4="";function iL(t){g4=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:hd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return es(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new sL(e)}}catch{}return new oL},va=v4("localStorage"),aL=v4("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new n2("@firebase/database"),lL=function(){let t=1;return function(){return t++}}(),y4=function(t){const e=jA(t),n=new LA;n.update(e);const r=n.digest();return Zv.encodeByteArray(r)},Ud=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ud.apply(null,r):typeof r=="object"?e+=Nn(r):e+=r,e+=" "}return e};let Mc=null,Lw=!0;const uL=function(t,e){Ae(!e,"Can't turn on custom loggers persistently."),eu.logLevel=Tt.VERBOSE,Mc=eu.log.bind(eu)},Fn=function(...t){if(Lw===!0&&(Lw=!1,Mc===null&&aL.get("logging_enabled")===!0&&uL()),Mc){const e=Ud.apply(null,t);Mc(e)}},zd=function(t){return function(...e){Fn(t,...e)}},w1=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ud(...t);eu.error(e)},Ds=function(...t){const e=`FIREBASE FATAL ERROR: ${Ud(...t)}`;throw eu.error(e),new Error(e)},cr=function(...t){const e="FIREBASE WARNING: "+Ud(...t);eu.warn(e)},cL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&cr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},p2=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},dL=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Oa="[MIN_NAME]",Mo="[MAX_NAME]",qa=function(t,e){if(t===e)return 0;if(t===Oa||e===Mo)return-1;if(e===Oa||t===Mo)return 1;{const n=Rw(t),r=Rw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},hL=function(t,e){return t===e?0:t<e?-1:1},fc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Nn(e))},m2=function(t){if(typeof t!="object"||t===null)return Nn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Nn(e[r]),n+=":",n+=m2(t[e[r]]);return n+="}",n},w4=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function zn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const _4=function(t){Ae(!p2(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const f=c.join("");let h="";for(l=0;l<64;l+=8){let m=parseInt(f.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),h=h+m}return h.toLowerCase()},fL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},pL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function mL(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const gL=new RegExp("^-?(0*)\\d{1,10}$"),vL=-2147483648,yL=2147483647,Rw=function(t){if(gL.test(t)){const e=Number(t);if(e>=vL&&e<=yL)return e}return null},Nu=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw cr("Exception was thrown by user callback.",n),e},Math.floor(0))}},wL=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){cr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',cr(e)}}class Lf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Lf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="5",b4="v",x4="s",S4="r",N4="f",C4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,E4="ls",k4="p",_1="ac",A4="websocket",P4="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=va.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&va.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function xL(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function T4(t,e,n){Ae(typeof e=="string","typeof type must == string"),Ae(typeof n=="object","typeof params must == object");let r;if(e===A4)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===P4)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);xL(t)&&(n.ns=t.namespace);const i=[];return zn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.counters_={}}incrementCounter(e,n=1){es(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return pA(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0={},V0={};function v2(t){const e=t.toString();return $0[e]||($0[e]=new SL),$0[e]}function NL(t,e){const n=t.toString();return V0[n]||(V0[n]=e()),V0[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Nu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="start",EL="close",kL="pLPCommand",AL="pRTLPCB",L4="id",R4="pw",O4="ser",PL="cb",IL="seg",TL="ts",LL="d",RL="dframe",D4=1870,j4=30,OL=D4-j4,DL=25e3,jL=3e4;class Hl{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zd(e),this.stats_=v2(n),this.urlFn=l=>(this.appCheckToken&&(l[_1]=this.appCheckToken),T4(n,P4,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new CL(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(jL)),dL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new y2((...s)=>{const[o,a,l,c,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Ow)this.id=a,this.password=l;else if(o===EL)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Ow]="t",r[O4]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[PL]=this.scriptTagHolder.uniqueCallbackIdentifier),r[b4]=g2,this.transportSessionId&&(r[x4]=this.transportSessionId),this.lastSessionId&&(r[E4]=this.lastSessionId),this.applicationId&&(r[k4]=this.applicationId),this.appCheckToken&&(r[_1]=this.appCheckToken),typeof location<"u"&&location.hostname&&C4.test(location.hostname)&&(r[S4]=N4);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hl.forceAllow_=!0}static forceDisallow(){Hl.forceDisallow_=!0}static isAvailable(){return Hl.forceAllow_?!0:!Hl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fL()&&!pL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Nn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=S3(n),i=w4(r,OL);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[RL]="t",r[L4]=e,r[R4]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Nn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class y2{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=lL(),window[kL+this.uniqueCallbackIdentifier]=e,window[AL+this.uniqueCallbackIdentifier]=n,this.myIFrame=y2.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Fn("frame writing exception"),a.stack&&Fn(a.stack),Fn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[L4]=this.myID,e[R4]=this.myPW,e[O4]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+j4+r.length<=D4;){const o=this.pendingSegs.shift();r=r+"&"+IL+i+"="+o.seg+"&"+TL+i+"="+o.ts+"&"+LL+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(DL)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Fn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=16384,FL=45e3;let mp=null;typeof MozWebSocket<"u"?mp=MozWebSocket:typeof WebSocket<"u"&&(mp=WebSocket);class xi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zd(this.connId),this.stats_=v2(n),this.connURL=xi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[b4]=g2,typeof location<"u"&&location.hostname&&C4.test(location.hostname)&&(o[S4]=N4),n&&(o[x4]=n),r&&(o[E4]=r),i&&(o[_1]=i),s&&(o[k4]=s),T4(e,A4,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,va.set("previous_websocket_failure",!0);try{let r;P3(),this.mySock=new mp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){xi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&mp!==null&&!xi.forceDisallow_}static previouslyFailed(){return va.isInMemoryStorage||va.get("previous_websocket_failure")===!0}markConnectionHealthy(){va.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=hd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ae(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Nn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=w4(n,ML);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(FL))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}xi.responsesRequiredToBeHealthy=2;xi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Hl,xi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=xi&&xi.isAvailable();let r=n&&!xi.previouslyFailed();if(e.webSocketOnly&&(n||cr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[xi];else{const i=this.transports_=[];for(const s of gd.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);gd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}gd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=6e4,UL=5e3,zL=10*1024,WL=100*1024,Y0="t",Dw="d",HL="s",jw="r",qL="e",Mw="o",Fw="a",Bw="n",Uw="p",$L="h";class VL{constructor(e,n,r,i,s,o,a,l,c,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zd("c:"+this.id+":"),this.transportManager_=new gd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Fc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>WL?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>zL?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Y0 in e){const n=e[Y0];n===Fw?this.upgradeIfSecondaryHealthy_():n===jw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Mw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=fc("t",e),r=fc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Uw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Fw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Bw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=fc("t",e),r=fc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=fc(Y0,e);if(Dw in e){const r=e[Dw];if(n===$L){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Bw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===HL?this.onConnectionShutdown_(r):n===jw?this.onReset_(r):n===qL?w1("Server Error: "+r):n===Mw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):w1("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),g2!==r&&cr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Fc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BL))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(UL))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Uw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(va.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.allowedEvents_=e,this.listeners_={},Ae(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Ae(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends F4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!t2()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gp}getInitialEvent(e){return Ae(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=32,Ww=768;class At{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function wt(){return new At("")}function lt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Fo(t){return t.pieces_.length-t.pieceNum_}function Ft(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new At(t.pieces_,e)}function w2(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function YL(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function vd(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function B4(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new At(e,0)}function sn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof At)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new At(n,0)}function ut(t){return t.pieceNum_>=t.pieces_.length}function lr(t,e){const n=lt(t),r=lt(e);if(n===null)return e;if(n===r)return lr(Ft(t),Ft(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function GL(t,e){const n=vd(t,0),r=vd(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=qa(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function _2(t,e){if(Fo(t)!==Fo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Zr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Fo(t)>Fo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class KL{constructor(e,n){this.errorPrefix_=n,this.parts_=vd(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Xp(this.parts_[r]);U4(this)}}function QL(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Xp(e),U4(t)}function JL(t){const e=t.parts_.pop();t.byteLength_-=Xp(e),t.parts_.length>0&&(t.byteLength_-=1)}function U4(t){if(t.byteLength_>Ww)throw new Error(t.errorPrefix_+"has a key path longer than "+Ww+" bytes ("+t.byteLength_+").");if(t.parts_.length>zw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zw+") or object contains a cycle "+da(t))}function da(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2 extends F4{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new b2}getInitialEvent(e){return Ae(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=1e3,XL=60*5*1e3,Hw=30*1e3,ZL=1.3,e8=3e4,t8="server_kill",qw=3;class ks extends M4{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ks.nextPersistentConnectionId_++,this.log_=zd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=pc,this.maxReconnectDelay_=XL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!P3())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");b2.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&gp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Nn(s)),Ae(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Dd,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ae(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ae(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;ks.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&es(e,"w")){const r=uu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();cr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||TA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Hw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=IA(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ae(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Nn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):w1("Unrecognized action received from server: "+Nn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ae(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=pc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>e8&&(this.reconnectDelay_=pc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ZL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ks.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){Ae(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,m]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?Fn("getToken() completed but was canceled"):(Fn("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=m&&m.token,a=new VL(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{cr(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(t8)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&cr(h),l())}}}interrupt(e){Fn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],c1(this.interruptReasons_)&&(this.reconnectDelay_=pc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>m2(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new At(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Fn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qw&&(this.reconnectDelay_=Hw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+g4.replace(/\./g,"-")]=1,t2()?e["framework.cordova"]=1:A3()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gp.getInstance().currentlyOnline();return c1(this.interruptReasons_)&&e}}ks.nextPersistentConnectionId_=0;ks.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ct(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ct(Oa,e),i=new ct(Oa,n);return this.compare(r,i)!==0}minPost(){return ct.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf;class z4 extends rm{static get __EMPTY_NODE(){return rf}static set __EMPTY_NODE(e){rf=e}compare(e,n){return qa(e.name,n.name)}isDefinedOn(e){throw wu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ct.MIN}maxPost(){return new ct(Mo,rf)}makePost(e,n){return Ae(typeof e=="string","KeyIndex indexValue must always be a string."),new ct(e,rf)}toString(){return".key"}}const xa=new z4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ln{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ln.RED,this.left=i??Nr.EMPTY_NODE,this.right=s??Nr.EMPTY_NODE}copy(e,n,r,i,s){return new Ln(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Nr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ln.RED=!0;Ln.BLACK=!1;class n8{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ln(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Nr{constructor(e,n=Nr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Nr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ln.BLACK,null,null))}remove(e){return new Nr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ln.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new sf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new sf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new sf(this.root_,null,this.comparator_,!0,e)}}Nr.EMPTY_NODE=new n8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t,e){return qa(t.name,e.name)}function x2(t,e){return qa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b1;function i8(t){b1=t}const W4=function(t){return typeof t=="number"?"number:"+_4(t):"string:"+t},H4=function(t){if(t.isLeafNode()){const e=t.val();Ae(typeof e=="string"||typeof e=="number"||typeof e=="object"&&es(e,".sv"),"Priority must be a string or number.")}else Ae(t===b1||t.isEmpty(),"priority of unexpected type.");Ae(t===b1||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $w;class In{constructor(e,n=In.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ae(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),H4(this.priorityNode_)}static set __childrenNodeConstructor(e){$w=e}static get __childrenNodeConstructor(){return $w}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new In(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:In.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ut(e)?this:lt(e)===".priority"?this.priorityNode_:In.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:In.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=lt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ae(r!==".priority"||Fo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,In.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ft(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+W4(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=_4(this.value_):e+=this.value_,this.lazyHash_=y4(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===In.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof In.__childrenNodeConstructor?-1:(Ae(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=In.VALUE_TYPE_ORDER.indexOf(n),s=In.VALUE_TYPE_ORDER.indexOf(r);return Ae(i>=0,"Unknown leaf type: "+n),Ae(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}In.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q4,$4;function s8(t){q4=t}function o8(t){$4=t}class a8 extends rm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?qa(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ct.MIN}maxPost(){return new ct(Mo,new In("[PRIORITY-POST]",$4))}makePost(e,n){const r=q4(e);return new ct(n,new In("[PRIORITY-POST]",r))}toString(){return".priority"}}const Kt=new a8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=Math.log(2);class u8{constructor(e){const n=s=>parseInt(Math.log(s)/l8,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vp=function(t,e,n,r){t.sort(e);const i=function(l,c){const f=c-l;let h,m;if(f===0)return null;if(f===1)return h=t[l],m=n?n(h):h,new Ln(m,h.node,Ln.BLACK,null,null);{const p=parseInt(f/2,10)+l,b=i(l,p),S=i(p+1,c);return h=t[p],m=n?n(h):h,new Ln(m,h.node,Ln.BLACK,b,S)}},s=function(l){let c=null,f=null,h=t.length;const m=function(b,S){const C=h-b,w=h;h-=b;const y=i(C+1,w),_=t[C],E=n?n(_):_;p(new Ln(E,_.node,S,null,y))},p=function(b){c?(c.left=b,c=b):(f=b,c=b)};for(let b=0;b<l.count;++b){const S=l.nextBitIsOne(),C=Math.pow(2,l.count-(b+1));S?m(C,Ln.BLACK):(m(C,Ln.BLACK),m(C,Ln.RED))}return f},o=new u8(t.length),a=s(o);return new Nr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G0;const Sl={};class Cs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Ae(Sl&&Kt,"ChildrenNode.ts has not been loaded"),G0=G0||new Cs({".priority":Sl},{".priority":Kt}),G0}get(e){const n=uu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Nr?n:null}hasIndex(e){return es(this.indexSet_,e.toString())}addIndex(e,n){Ae(e!==xa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ct.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=vp(r,e.getCompare()):a=Sl;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const f=Object.assign({},this.indexes_);return f[l]=a,new Cs(f,c)}addToIndexes(e,n){const r=ap(this.indexes_,(i,s)=>{const o=uu(this.indexSet_,s);if(Ae(o,"Missing index implementation for "+s),i===Sl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ct.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),vp(a,o.getCompare())}else return Sl;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ct(e.name,a))),l.insert(e,e.node)}});return new Cs(r,this.indexSet_)}removeFromIndexes(e,n){const r=ap(this.indexes_,i=>{if(i===Sl)return i;{const s=n.get(e.name);return s?i.remove(new ct(e.name,s)):i}});return new Cs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc;class Ke{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&H4(this.priorityNode_),this.children_.isEmpty()&&Ae(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return mc||(mc=new Ke(new Nr(x2),null,Cs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mc}updatePriority(e){return this.children_.isEmpty()?this:new Ke(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?mc:n}}getChild(e){const n=lt(e);return n===null?this:this.getImmediateChild(n).getChild(Ft(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ae(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ct(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?mc:this.priorityNode_;return new Ke(i,o,s)}}updateChild(e,n){const r=lt(e);if(r===null)return n;{Ae(lt(e)!==".priority"||Fo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ft(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Kt,(o,a)=>{n[o]=a.val(e),r++,s&&Ke.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+W4(this.getPriority().val())+":"),this.forEachChild(Kt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":y4(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ct(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ct(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ct(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ct.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ct.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wd?-1:0}withIndex(e){if(e===xa||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ke(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===xa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Kt),i=n.getIterator(Kt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===xa?null:this.indexMap_.get(e.toString())}}Ke.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class c8 extends Ke{constructor(){super(new Nr(x2),Ke.EMPTY_NODE,Cs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ke.EMPTY_NODE}isEmpty(){return!1}}const Wd=new c8;Object.defineProperties(ct,{MIN:{value:new ct(Oa,Ke.EMPTY_NODE)},MAX:{value:new ct(Mo,Wd)}});z4.__EMPTY_NODE=Ke.EMPTY_NODE;In.__childrenNodeConstructor=Ke;i8(Wd);o8(Wd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=!0;function Sn(t,e=null){if(t===null)return Ke.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ae(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new In(n,Sn(e))}if(!(t instanceof Array)&&d8){const n=[];let r=!1;if(zn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Sn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ct(o,l)))}}),n.length===0)return Ke.EMPTY_NODE;const s=vp(n,r8,o=>o.name,x2);if(r){const o=vp(n,Kt.getCompare());return new Ke(s,Sn(e),new Cs({".priority":o},{".priority":Kt}))}else return new Ke(s,Sn(e),Cs.Default)}else{let n=Ke.EMPTY_NODE;return zn(t,(r,i)=>{if(es(t,r)&&r.substring(0,1)!=="."){const s=Sn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Sn(e))}}s8(Sn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2 extends rm{constructor(e){super(),this.indexPath_=e,Ae(!ut(e)&&lt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?qa(e.name,n.name):s}makePost(e,n){const r=Sn(e),i=Ke.EMPTY_NODE.updateChild(this.indexPath_,r);return new ct(n,i)}maxPost(){const e=Ke.EMPTY_NODE.updateChild(this.indexPath_,Wd);return new ct(Mo,e)}toString(){return vd(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8 extends rm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?qa(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ct.MIN}maxPost(){return ct.MAX}makePost(e,n){const r=Sn(e);return new ct(n,r)}toString(){return".value"}}const V4=new h8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){return{type:"value",snapshotNode:t}}function hu(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function yd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function wd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function f8(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){Ae(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(yd(n,a)):Ae(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(hu(n,r)):o.trackChildChange(wd(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Kt,(i,s)=>{n.hasChild(i)||r.trackChildChange(yd(i,s))}),n.isLeafNode()||n.forEachChild(Kt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(wd(i,s,o))}else r.trackChildChange(hu(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ke.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){this.indexedFilter_=new N2(e.getIndex()),this.index_=e.getIndex(),this.startPost_=_d.getStartPost_(e),this.endPost_=_d.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ct(n,r))||(r=Ke.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ke.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ke.EMPTY_NODE);const s=this;return n.forEachChild(Kt,(o,a)=>{s.matches(new ct(o,a))||(i=i.updateImmediateChild(o,Ke.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new _d(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ct(n,r))||(r=Ke.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ke.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ke.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ke.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Ke.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(m,p)=>h(p,m)}else o=this.index_.getCompare();const a=e;Ae(a.numChildren()===this.limit_,"");const l=new ct(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let m=i.getChildAfterChild(this.index_,c,this.reverse_);for(;m!=null&&(m.name===n||a.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);const p=m==null?1:o(m,l);if(f&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(wd(n,r,h)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(yd(n,h));const S=a.updateImmediateChild(n,Ke.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(s!=null&&s.trackChildChange(hu(m.name,m.node)),S.updateImmediateChild(m.name,m.node)):S}}else return r.isEmpty()?e:f&&o(c,l)>=0?(s!=null&&(s.trackChildChange(yd(c.name,c.node)),s.trackChildChange(hu(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Ke.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ae(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ae(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Oa}hasEnd(){return this.endSet_}getIndexEndValue(){return Ae(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ae(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Mo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ae(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Kt}copy(){const e=new C2;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function m8(t){return t.loadsAllData()?new N2(t.getIndex()):t.hasLimit()?new p8(t):new _d(t)}function g8(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function v8(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function y8(t,e){const n=t.copy();return n.index_=e,n}function Vw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Kt?n="$priority":t.index_===V4?n="$value":t.index_===xa?n="$key":(Ae(t.index_ instanceof S2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Nn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Nn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Nn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Nn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Nn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Yw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Kt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends M4{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=zd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ae(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=yp.getListenId_(e,r),a={};this.listens_[o]=a;const l=Vw(e._queryParams);this.restRequest_(s+".json",l,(c,f)=>{let h=f;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),uu(this.listens_,o)===a){let m;c?c===401?m="permission_denied":m="rest_error:"+c:m="ok",i(m,null)}})}unlisten(e,n){const r=yp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Vw(e._queryParams),r=e._path.toString(),i=new Dd;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_u(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=hd(a.responseText)}catch{cr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&cr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.rootNode_=Ke.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(){return{value:null,children:new Map}}function G4(t,e,n){if(ut(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=lt(e);t.children.has(r)||t.children.set(r,wp());const i=t.children.get(r);e=Ft(e),G4(i,e,n)}}function x1(t,e,n){t.value!==null?n(e,t.value):_8(t,(r,i)=>{const s=new At(e.toString()+"/"+r);x1(i,s,n)})}function _8(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&zn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=10*1e3,x8=30*1e3,S8=5*60*1e3;class N8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new b8(e);const r=Gw+(x8-Gw)*Math.random();Fc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;zn(e,(i,s)=>{s>0&&es(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Fc(this.reportStats_.bind(this),Math.floor(Math.random()*2*S8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Si||(Si={}));function E2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function k2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function A2(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Si.ACK_USER_WRITE,this.source=E2()}operationForChild(e){if(ut(this.path)){if(this.affectedTree.value!=null)return Ae(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new At(e));return new _p(wt(),n,this.revert)}}else return Ae(lt(this.path)===e,"operationForChild called for unrelated child."),new _p(Ft(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.source=e,this.path=n,this.type=Si.LISTEN_COMPLETE}operationForChild(e){return ut(this.path)?new bd(this.source,wt()):new bd(this.source,Ft(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Si.OVERWRITE}operationForChild(e){return ut(this.path)?new Da(this.source,wt(),this.snap.getImmediateChild(e)):new Da(this.source,Ft(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Si.MERGE}operationForChild(e){if(ut(this.path)){const n=this.children.subtree(new At(e));return n.isEmpty()?null:n.value?new Da(this.source,wt(),n.value):new fu(this.source,wt(),n)}else return Ae(lt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new fu(this.source,Ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ut(e))return this.isFullyInitialized()&&!this.filtered_;const n=lt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function E8(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(f8(o.childName,o.snapshotNode))}),gc(t,i,"child_removed",e,r,n),gc(t,i,"child_added",e,r,n),gc(t,i,"child_moved",s,r,n),gc(t,i,"child_changed",e,r,n),gc(t,i,"value",e,r,n),i}function gc(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>A8(t,a,l)),o.forEach(a=>{const l=k8(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function k8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function A8(t,e,n){if(e.childName==null||n.childName==null)throw wu("Should only compare child_ events.");const r=new ct(e.childName,e.snapshotNode),i=new ct(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t,e){return{eventCache:t,serverCache:e}}function Bc(t,e,n,r){return im(new Bo(e,n,r),t.serverCache)}function K4(t,e,n,r){return im(t.eventCache,new Bo(e,n,r))}function bp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ja(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K0;const P8=()=>(K0||(K0=new Nr(hL)),K0);class Mt{constructor(e,n=P8()){this.value=e,this.children=n}static fromObject(e){let n=new Mt(null);return zn(e,(r,i)=>{n=n.set(new At(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:wt(),value:this.value};if(ut(e))return null;{const r=lt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Ft(e),n);return s!=null?{path:sn(new At(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ut(e))return this;{const n=lt(e),r=this.children.get(n);return r!==null?r.subtree(Ft(e)):new Mt(null)}}set(e,n){if(ut(e))return new Mt(n,this.children);{const r=lt(e),s=(this.children.get(r)||new Mt(null)).set(Ft(e),n),o=this.children.insert(r,s);return new Mt(this.value,o)}}remove(e){if(ut(e))return this.children.isEmpty()?new Mt(null):new Mt(null,this.children);{const n=lt(e),r=this.children.get(n);if(r){const i=r.remove(Ft(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Mt(null):new Mt(this.value,s)}else return this}}get(e){if(ut(e))return this.value;{const n=lt(e),r=this.children.get(n);return r?r.get(Ft(e)):null}}setTree(e,n){if(ut(e))return n;{const r=lt(e),s=(this.children.get(r)||new Mt(null)).setTree(Ft(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Mt(this.value,o)}}fold(e){return this.fold_(wt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(sn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,wt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ut(e))return null;{const s=lt(e),o=this.children.get(s);return o?o.findOnPath_(Ft(e),sn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,wt(),n)}foreachOnPath_(e,n,r){if(ut(e))return this;{this.value&&r(n,this.value);const i=lt(e),s=this.children.get(i);return s?s.foreachOnPath_(Ft(e),sn(n,i),r):new Mt(null)}}foreach(e){this.foreach_(wt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(sn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.writeTree_=e}static empty(){return new Ei(new Mt(null))}}function Uc(t,e,n){if(ut(e))return new Ei(new Mt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=lr(i,e);return s=s.updateChild(o,n),new Ei(t.writeTree_.set(i,s))}else{const i=new Mt(n),s=t.writeTree_.setTree(e,i);return new Ei(s)}}}function S1(t,e,n){let r=t;return zn(n,(i,s)=>{r=Uc(r,sn(e,i),s)}),r}function Kw(t,e){if(ut(e))return Ei.empty();{const n=t.writeTree_.setTree(e,new Mt(null));return new Ei(n)}}function N1(t,e){return $a(t,e)!=null}function $a(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(lr(n.path,e)):null}function Qw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Kt,(r,i)=>{e.push(new ct(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ct(r,i.value))}),e}function Lo(t,e){if(ut(e))return t;{const n=$a(t,e);return n!=null?new Ei(new Mt(n)):new Ei(t.writeTree_.subtree(e))}}function C1(t){return t.writeTree_.isEmpty()}function pu(t,e){return Q4(wt(),t.writeTree_,e)}function Q4(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Ae(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Q4(sn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(sn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t,e){return eS(e,t)}function I8(t,e,n,r,i){Ae(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Uc(t.visibleWrites,e,n)),t.lastWriteId=r}function T8(t,e,n,r){Ae(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=S1(t.visibleWrites,e,n),t.lastWriteId=r}function L8(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function R8(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Ae(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&O8(a,r.path)?i=!1:Zr(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return D8(t),!0;if(r.snap)t.visibleWrites=Kw(t.visibleWrites,r.path);else{const a=r.children;zn(a,l=>{t.visibleWrites=Kw(t.visibleWrites,sn(r.path,l))})}return!0}else return!1}function O8(t,e){if(t.snap)return Zr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Zr(sn(t.path,n),e))return!0;return!1}function D8(t){t.visibleWrites=J4(t.allWrites,j8,wt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function j8(t){return t.visible}function J4(t,e,n){let r=Ei.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Zr(n,o)?(a=lr(n,o),r=Uc(r,a,s.snap)):Zr(o,n)&&(a=lr(o,n),r=Uc(r,wt(),s.snap.getChild(a)));else if(s.children){if(Zr(n,o))a=lr(n,o),r=S1(r,a,s.children);else if(Zr(o,n))if(a=lr(o,n),ut(a))r=S1(r,wt(),s.children);else{const l=uu(s.children,lt(a));if(l){const c=l.getChild(Ft(a));r=Uc(r,wt(),c)}}}else throw wu("WriteRecord should have .snap or .children")}}return r}function X4(t,e,n,r,i){if(!r&&!i){const s=$a(t.visibleWrites,e);if(s!=null)return s;{const o=Lo(t.visibleWrites,e);if(C1(o))return n;if(n==null&&!N1(o,wt()))return null;{const a=n||Ke.EMPTY_NODE;return pu(o,a)}}}else{const s=Lo(t.visibleWrites,e);if(!i&&C1(s))return n;if(!i&&n==null&&!N1(s,wt()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Zr(c.path,e)||Zr(e,c.path))},a=J4(t.allWrites,o,e),l=n||Ke.EMPTY_NODE;return pu(a,l)}}}function M8(t,e,n){let r=Ke.EMPTY_NODE;const i=$a(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Kt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Lo(t.visibleWrites,e);return n.forEachChild(Kt,(o,a)=>{const l=pu(Lo(s,new At(o)),a);r=r.updateImmediateChild(o,l)}),Qw(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Lo(t.visibleWrites,e);return Qw(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function F8(t,e,n,r,i){Ae(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=sn(e,n);if(N1(t.visibleWrites,s))return null;{const o=Lo(t.visibleWrites,s);return C1(o)?i.getChild(n):pu(o,i.getChild(n))}}function B8(t,e,n,r){const i=sn(e,n),s=$a(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Lo(t.visibleWrites,i);return pu(o,r.getNode().getImmediateChild(n))}else return null}function U8(t,e){return $a(t.visibleWrites,e)}function z8(t,e,n,r,i,s,o){let a;const l=Lo(t.visibleWrites,e),c=$a(l,wt());if(c!=null)a=c;else if(n!=null)a=pu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const f=[],h=o.getCompare(),m=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=m.getNext();for(;p&&f.length<i;)h(p,r)!==0&&f.push(p),p=m.getNext();return f}else return[]}function W8(){return{visibleWrites:Ei.empty(),allWrites:[],lastWriteId:-1}}function xp(t,e,n,r){return X4(t.writeTree,t.treePath,e,n,r)}function P2(t,e){return M8(t.writeTree,t.treePath,e)}function Jw(t,e,n,r){return F8(t.writeTree,t.treePath,e,n,r)}function Sp(t,e){return U8(t.writeTree,sn(t.treePath,e))}function H8(t,e,n,r,i,s){return z8(t.writeTree,t.treePath,e,n,r,i,s)}function I2(t,e,n){return B8(t.writeTree,t.treePath,e,n)}function Z4(t,e){return eS(sn(t.treePath,e),t.writeTree)}function eS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Ae(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ae(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,wd(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,yd(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,hu(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,wd(r,e.snapshotNode,i.oldSnap));else throw wu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const tS=new $8;class T2{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Bo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return I2(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ja(this.viewCache_),s=H8(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t){return{filter:t}}function Y8(t,e){Ae(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ae(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function G8(t,e,n,r,i){const s=new q8;let o,a;if(n.type===Si.OVERWRITE){const c=n;c.source.fromUser?o=E1(t,e,c.path,c.snap,r,i,s):(Ae(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ut(c.path),o=Np(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Si.MERGE){const c=n;c.source.fromUser?o=Q8(t,e,c.path,c.children,r,i,s):(Ae(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=k1(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Si.ACK_USER_WRITE){const c=n;c.revert?o=Z8(t,e,c.path,r,i,s):o=J8(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Si.LISTEN_COMPLETE)o=X8(t,e,n.path,r,s);else throw wu("Unknown operation type: "+n.type);const l=s.getChanges();return K8(e,o,l),{viewCache:o,changes:l}}function K8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=bp(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Y4(bp(e)))}}function nS(t,e,n,r,i,s){const o=e.eventCache;if(Sp(r,n)!=null)return e;{let a,l;if(ut(n))if(Ae(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ja(e),f=c instanceof Ke?c:Ke.EMPTY_NODE,h=P2(r,f);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=xp(r,ja(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=lt(n);if(c===".priority"){Ae(Fo(n)===1,"Can't have a priority with additional path components");const f=o.getNode();l=e.serverCache.getNode();const h=Jw(r,n,f,l);h!=null?a=t.filter.updatePriority(f,h):a=o.getNode()}else{const f=Ft(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const m=Jw(r,n,o.getNode(),l);m!=null?h=o.getNode().getImmediateChild(c).updateChild(f,m):h=o.getNode().getImmediateChild(c)}else h=I2(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,f,i,s):a=o.getNode()}}return Bc(e,a,o.isFullyInitialized()||ut(n),t.filter.filtersNodes())}}function Np(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const f=o?t.filter:t.filter.getIndexedFilter();if(ut(n))c=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=f.updateFullNode(l.getNode(),p,null)}else{const p=lt(n);if(!l.isCompleteForPath(n)&&Fo(n)>1)return e;const b=Ft(n),C=l.getNode().getImmediateChild(p).updateChild(b,r);p===".priority"?c=f.updatePriority(l.getNode(),C):c=f.updateChild(l.getNode(),p,C,b,tS,null)}const h=K4(e,c,l.isFullyInitialized()||ut(n),f.filtersNodes()),m=new T2(i,h,s);return nS(t,h,n,i,m,a)}function E1(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const f=new T2(i,e,s);if(ut(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Bc(e,c,!0,t.filter.filtersNodes());else{const h=lt(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Bc(e,c,a.isFullyInitialized(),a.isFiltered());else{const m=Ft(n),p=a.getNode().getImmediateChild(h);let b;if(ut(m))b=r;else{const S=f.getCompleteChild(h);S!=null?w2(m)===".priority"&&S.getChild(B4(m)).isEmpty()?b=S:b=S.updateChild(m,r):b=Ke.EMPTY_NODE}if(p.equals(b))l=e;else{const S=t.filter.updateChild(a.getNode(),h,b,m,f,o);l=Bc(e,S,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Xw(t,e){return t.eventCache.isCompleteForChild(e)}function Q8(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const f=sn(n,l);Xw(e,lt(f))&&(a=E1(t,a,f,c,i,s,o))}),r.foreach((l,c)=>{const f=sn(n,l);Xw(e,lt(f))||(a=E1(t,a,f,c,i,s,o))}),a}function Zw(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function k1(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ut(n)?c=r:c=new Mt(null).setTree(n,r);const f=e.serverCache.getNode();return c.children.inorderTraversal((h,m)=>{if(f.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),b=Zw(t,p,m);l=Np(t,l,new At(h),b,i,s,o,a)}}),c.children.inorderTraversal((h,m)=>{const p=!e.serverCache.isCompleteForChild(h)&&m.value===null;if(!f.hasChild(h)&&!p){const b=e.serverCache.getNode().getImmediateChild(h),S=Zw(t,b,m);l=Np(t,l,new At(h),S,i,s,o,a)}}),l}function J8(t,e,n,r,i,s,o){if(Sp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ut(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Np(t,e,n,l.getNode().getChild(n),i,s,a,o);if(ut(n)){let c=new Mt(null);return l.getNode().forEachChild(xa,(f,h)=>{c=c.set(new At(f),h)}),k1(t,e,n,c,i,s,a,o)}else return e}else{let c=new Mt(null);return r.foreach((f,h)=>{const m=sn(n,f);l.isCompleteForPath(m)&&(c=c.set(f,l.getNode().getChild(m)))}),k1(t,e,n,c,i,s,a,o)}}function X8(t,e,n,r,i){const s=e.serverCache,o=K4(e,s.getNode(),s.isFullyInitialized()||ut(n),s.isFiltered());return nS(t,o,n,r,tS,i)}function Z8(t,e,n,r,i,s){let o;if(Sp(r,n)!=null)return e;{const a=new T2(r,e,i),l=e.eventCache.getNode();let c;if(ut(n)||lt(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=xp(r,ja(e));else{const h=e.serverCache.getNode();Ae(h instanceof Ke,"serverChildren would be complete if leaf node"),f=P2(r,h)}f=f,c=t.filter.updateFullNode(l,f,s)}else{const f=lt(n);let h=I2(r,f,e.serverCache);h==null&&e.serverCache.isCompleteForChild(f)&&(h=l.getImmediateChild(f)),h!=null?c=t.filter.updateChild(l,f,h,Ft(n),a,s):e.eventCache.getNode().hasChild(f)?c=t.filter.updateChild(l,f,Ke.EMPTY_NODE,Ft(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=xp(r,ja(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Sp(r,wt())!=null,Bc(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new N2(r.getIndex()),s=m8(r);this.processor_=V8(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Ke.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Ke.EMPTY_NODE,a.getNode(),null),f=new Bo(l,o.isFullyInitialized(),i.filtersNodes()),h=new Bo(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=im(h,f),this.eventGenerator_=new C8(this.query_)}get query(){return this.query_}}function t7(t){return t.viewCache_.serverCache.getNode()}function n7(t){return bp(t.viewCache_)}function r7(t,e){const n=ja(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ut(e)&&!n.getImmediateChild(lt(e)).isEmpty())?n.getChild(e):null}function e_(t){return t.eventRegistrations_.length===0}function i7(t,e){t.eventRegistrations_.push(e)}function t_(t,e,n){const r=[];if(n){Ae(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function n_(t,e,n,r){e.type===Si.MERGE&&e.source.queryId!==null&&(Ae(ja(t.viewCache_),"We should always have a full cache before handling merges"),Ae(bp(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=G8(t.processor_,i,e,n,r);return Y8(t.processor_,s.viewCache),Ae(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,rS(t,s.changes,s.viewCache.eventCache.getNode(),null)}function s7(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Kt,(s,o)=>{r.push(hu(s,o))}),n.isFullyInitialized()&&r.push(Y4(n.getNode())),rS(t,r,n.getNode(),e)}function rS(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return E8(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cp;class iS{constructor(){this.views=new Map}}function o7(t){Ae(!Cp,"__referenceConstructor has already been defined"),Cp=t}function a7(){return Ae(Cp,"Reference.ts has not been loaded"),Cp}function l7(t){return t.views.size===0}function L2(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Ae(s!=null,"SyncTree gave us an op for an invalid query."),n_(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(n_(o,e,n,r));return s}}function sS(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=xp(n,i?r:null),l=!1;a?l=!0:r instanceof Ke?(a=P2(n,r),l=!1):(a=Ke.EMPTY_NODE,l=!1);const c=im(new Bo(a,l,!1),new Bo(r,i,!1));return new e7(e,c)}return o}function u7(t,e,n,r,i,s){const o=sS(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),i7(o,n),s7(o,n)}function c7(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Uo(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(t_(c,n,r)),e_(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(t_(l,n,r)),e_(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Uo(t)&&s.push(new(a7())(e._repo,e._path)),{removed:s,events:o}}function oS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ro(t,e){let n=null;for(const r of t.views.values())n=n||r7(r,e);return n}function aS(t,e){if(e._queryParams.loadsAllData())return om(t);{const r=e._queryIdentifier;return t.views.get(r)}}function lS(t,e){return aS(t,e)!=null}function Uo(t){return om(t)!=null}function om(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep;function d7(t){Ae(!Ep,"__referenceConstructor has already been defined"),Ep=t}function h7(){return Ae(Ep,"Reference.ts has not been loaded"),Ep}let f7=1;class r_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mt(null),this.pendingWriteTree_=W8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uS(t,e,n,r,i){return I8(t.pendingWriteTree_,e,n,r,i),i?Cu(t,new Da(E2(),e,n)):[]}function p7(t,e,n,r){T8(t.pendingWriteTree_,e,n,r);const i=Mt.fromObject(n);return Cu(t,new fu(E2(),e,i))}function yo(t,e,n=!1){const r=L8(t.pendingWriteTree_,e);if(R8(t.pendingWriteTree_,e)){let s=new Mt(null);return r.snap!=null?s=s.set(wt(),!0):zn(r.children,o=>{s=s.set(new At(o),!0)}),Cu(t,new _p(r.path,s,n))}else return[]}function Hd(t,e,n){return Cu(t,new Da(k2(),e,n))}function m7(t,e,n){const r=Mt.fromObject(n);return Cu(t,new fu(k2(),e,r))}function g7(t,e){return Cu(t,new bd(k2(),e))}function v7(t,e,n){const r=O2(t,n);if(r){const i=D2(r),s=i.path,o=i.queryId,a=lr(s,e),l=new bd(A2(o),a);return j2(t,s,l)}else return[]}function kp(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||lS(o,e))){const l=c7(o,e,n,r);l7(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const f=c.findIndex(m=>m._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(m,p)=>Uo(p));if(f&&!h){const m=t.syncPointTree_.subtree(s);if(!m.isEmpty()){const p=_7(m);for(let b=0;b<p.length;++b){const S=p[b],C=S.query,w=fS(t,S);t.listenProvider_.startListening(zc(C),xd(t,C),w.hashFn,w.onComplete)}}}!h&&c.length>0&&!r&&(f?t.listenProvider_.stopListening(zc(e),null):c.forEach(m=>{const p=t.queryToTagMap.get(am(m));t.listenProvider_.stopListening(zc(m),p)}))}b7(t,c)}return a}function cS(t,e,n,r){const i=O2(t,r);if(i!=null){const s=D2(i),o=s.path,a=s.queryId,l=lr(o,e),c=new Da(A2(a),l,n);return j2(t,o,c)}else return[]}function y7(t,e,n,r){const i=O2(t,r);if(i){const s=D2(i),o=s.path,a=s.queryId,l=lr(o,e),c=Mt.fromObject(n),f=new fu(A2(a),l,c);return j2(t,o,f)}else return[]}function A1(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(m,p)=>{const b=lr(m,i);s=s||Ro(p,b),o=o||Uo(p)});let a=t.syncPointTree_.get(i);a?(o=o||Uo(a),s=s||Ro(a,wt())):(a=new iS,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Ke.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,b)=>{const S=Ro(b,wt());S&&(s=s.updateImmediateChild(p,S))}));const c=lS(a,e);if(!c&&!e._queryParams.loadsAllData()){const m=am(e);Ae(!t.queryToTagMap.has(m),"View does not exist, but we have a tag");const p=x7();t.queryToTagMap.set(m,p),t.tagToQueryMap.set(p,m)}const f=sm(t.pendingWriteTree_,i);let h=u7(a,e,n,f,s,l);if(!c&&!o&&!r){const m=aS(a,e);h=h.concat(S7(t,e,m))}return h}function R2(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=lr(o,e),c=Ro(a,l);if(c)return c});return X4(i,e,s,n,!0)}function w7(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,f)=>{const h=lr(c,n);r=r||Ro(f,h)});let i=t.syncPointTree_.get(n);i?r=r||Ro(i,wt()):(i=new iS,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Bo(r,!0,!1):null,a=sm(t.pendingWriteTree_,e._path),l=sS(i,e,a,s?o.getNode():Ke.EMPTY_NODE,s);return n7(l)}function Cu(t,e){return dS(e,t.syncPointTree_,null,sm(t.pendingWriteTree_,wt()))}function dS(t,e,n,r){if(ut(t.path))return hS(t,e,n,r);{const i=e.get(wt());n==null&&i!=null&&(n=Ro(i,wt()));let s=[];const o=lt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,f=Z4(r,o);s=s.concat(dS(a,l,c,f))}return i&&(s=s.concat(L2(i,t,r,n))),s}}function hS(t,e,n,r){const i=e.get(wt());n==null&&i!=null&&(n=Ro(i,wt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=Z4(r,o),f=t.operationForChild(o);f&&(s=s.concat(hS(f,a,l,c)))}),i&&(s=s.concat(L2(i,t,r,n))),s}function fS(t,e){const n=e.query,r=xd(t,n);return{hashFn:()=>(t7(e)||Ke.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?v7(t,n._path,r):g7(t,n._path);{const s=mL(i,n);return kp(t,n,null,s)}}}}function xd(t,e){const n=am(e);return t.queryToTagMap.get(n)}function am(t){return t._path.toString()+"$"+t._queryIdentifier}function O2(t,e){return t.tagToQueryMap.get(e)}function D2(t){const e=t.indexOf("$");return Ae(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new At(t.substr(0,e))}}function j2(t,e,n){const r=t.syncPointTree_.get(e);Ae(r,"Missing sync point for query tag that we're tracking");const i=sm(t.pendingWriteTree_,e);return L2(r,n,i,null)}function _7(t){return t.fold((e,n,r)=>{if(n&&Uo(n))return[om(n)];{let i=[];return n&&(i=oS(n)),zn(r,(s,o)=>{i=i.concat(o)}),i}})}function zc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(h7())(t._repo,t._path):t}function b7(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=am(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function x7(){return f7++}function S7(t,e,n){const r=e._path,i=xd(t,e),s=fS(t,n),o=t.listenProvider_.startListening(zc(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)Ae(!Uo(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,f,h)=>{if(!ut(c)&&f&&Uo(f))return[om(f).query];{let m=[];return f&&(m=m.concat(oS(f).map(p=>p.query))),zn(h,(p,b)=>{m=m.concat(b)}),m}});for(let c=0;c<l.length;++c){const f=l[c];t.listenProvider_.stopListening(zc(f),xd(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new M2(n)}node(){return this.node_}}class F2{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=sn(this.path_,e);return new F2(this.syncTree_,n)}node(){return R2(this.syncTree_,this.path_)}}const N7=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},i_=function(t,e,n){if(!t||typeof t!="object")return t;if(Ae(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return C7(t[".sv"],e,n);if(typeof t[".sv"]=="object")return E7(t[".sv"],e);Ae(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},C7=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ae(!1,"Unexpected server value: "+t)}},E7=function(t,e,n){t.hasOwnProperty("increment")||Ae(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Ae(!1,"Unexpected increment value: "+r);const i=e.node();if(Ae(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},pS=function(t,e,n,r){return B2(e,new F2(n,t),r)},mS=function(t,e,n){return B2(t,new M2(e),n)};function B2(t,e,n){const r=t.getPriority().val(),i=i_(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=i_(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new In(a,Sn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new In(i))),o.forEachChild(Kt,(a,l)=>{const c=B2(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function z2(t,e){let n=e instanceof At?e:new At(e),r=t,i=lt(n);for(;i!==null;){const s=uu(r.node.children,i)||{children:{},childCount:0};r=new U2(i,r,s),n=Ft(n),i=lt(n)}return r}function Eu(t){return t.node.value}function gS(t,e){t.node.value=e,P1(t)}function vS(t){return t.node.childCount>0}function k7(t){return Eu(t)===void 0&&!vS(t)}function lm(t,e){zn(t.node.children,(n,r)=>{e(new U2(n,t,r))})}function yS(t,e,n,r){n&&!r&&e(t),lm(t,i=>{yS(i,e,!0,r)}),n&&r&&e(t)}function A7(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function qd(t){return new At(t.parent===null?t.name:qd(t.parent)+"/"+t.name)}function P1(t){t.parent!==null&&P7(t.parent,t.name,t)}function P7(t,e,n){const r=k7(n),i=es(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,P1(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,P1(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=/[\[\].#$\/\u0000-\u001F\u007F]/,T7=/[\[\].#$\u0000-\u001F\u007F]/,Q0=10*1024*1024,W2=function(t){return typeof t=="string"&&t.length!==0&&!I7.test(t)},wS=function(t){return typeof t=="string"&&t.length!==0&&!T7.test(t)},L7=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wS(t)},I1=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!p2(t)||t&&typeof t=="object"&&es(t,".sv")},$d=function(t,e,n,r){r&&e===void 0||um(Jp(t,"value"),e,n)},um=function(t,e,n){const r=n instanceof At?new KL(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+da(r));if(typeof e=="function")throw new Error(t+"contains a function "+da(r)+" with contents = "+e.toString());if(p2(e))throw new Error(t+"contains "+e.toString()+" "+da(r));if(typeof e=="string"&&e.length>Q0/3&&Xp(e)>Q0)throw new Error(t+"contains a string greater than "+Q0+" utf8 bytes "+da(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(zn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!W2(o)))throw new Error(t+" contains an invalid key ("+o+") "+da(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);QL(r,o),um(t,a,r),JL(r)}),i&&s)throw new Error(t+' contains ".value" child '+da(r)+" in addition to actual children.")}},R7=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=vd(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!W2(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(GL);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Zr(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},O7=function(t,e,n,r){const i=Jp(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];zn(e,(o,a)=>{const l=new At(o);if(um(i,a,sn(n,l)),w2(l)===".priority"&&!I1(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),R7(i,s)},H2=function(t,e,n,r){if(!wS(n))throw new Error(Jp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},D7=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),H2(t,e,n)},q2=function(t,e){if(lt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},j7=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!W2(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!L7(n))throw new Error(Jp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!_2(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function _S(t,e,n){cm(t,n),bS(t,r=>_2(r,e))}function ri(t,e,n){cm(t,n),bS(t,r=>Zr(r,e)||Zr(e,r))}function bS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(F7(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function F7(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Mc&&Fn("event: "+n.toString()),Nu(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7="repo_interrupt",U7=25;class z7{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new M7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wp(),this.transactionQueueTree_=new U2,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function W7(t,e,n){if(t.stats_=v2(t.repoInfo_),t.forceRestClient_||wL())t.server_=new yp(t.repoInfo_,(r,i,s,o)=>{s_(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>o_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ks(t.repoInfo_,e,(r,i,s,o)=>{s_(t,r,i,s,o)},r=>{o_(t,r)},r=>{H7(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=NL(t.repoInfo_,()=>new N8(t.stats_,t.server_)),t.infoData_=new w8,t.infoSyncTree_=new r_({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Hd(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),$2(t,"connected",!1),t.serverSyncTree_=new r_({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);ri(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function xS(t){const n=t.infoData_.getNode(new At(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function dm(t){return N7({timestamp:xS(t)})}function s_(t,e,n,r,i){t.dataUpdateCount++;const s=new At(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=ap(n,c=>Sn(c));o=y7(t.serverSyncTree_,s,l,i)}else{const l=Sn(n);o=cS(t.serverSyncTree_,s,l,i)}else if(r){const l=ap(n,c=>Sn(c));o=m7(t.serverSyncTree_,s,l)}else{const l=Sn(n);o=Hd(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=mu(t,s)),ri(t.eventQueue_,a,o)}function o_(t,e){$2(t,"connected",e),e===!1&&Y7(t)}function H7(t,e){zn(e,(n,r)=>{$2(t,n,r)})}function $2(t,e,n){const r=new At("/.info/"+e),i=Sn(n);t.infoData_.updateSnapshot(r,i);const s=Hd(t.infoSyncTree_,r,i);ri(t.eventQueue_,r,s)}function V2(t){return t.nextWriteId_++}function q7(t,e,n){const r=w7(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Sn(i).withIndex(e._queryParams.getIndex());A1(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Hd(t.serverSyncTree_,e._path,s);else{const a=xd(t.serverSyncTree_,e);o=cS(t.serverSyncTree_,e._path,s,a)}return ri(t.eventQueue_,e._path,o),kp(t.serverSyncTree_,e,n,null,!0),s},i=>(Vd(t,"get for query "+Nn(e)+" failed: "+i),Promise.reject(new Error(i))))}function $7(t,e,n,r,i){Vd(t,"set",{path:e.toString(),value:n,priority:r});const s=dm(t),o=Sn(n,r),a=R2(t.serverSyncTree_,e),l=mS(o,a,s),c=V2(t),f=uS(t.serverSyncTree_,e,l,c,!0);cm(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(m,p)=>{const b=m==="ok";b||cr("set at "+e+" failed: "+m);const S=yo(t.serverSyncTree_,c,!b);ri(t.eventQueue_,e,S),T1(t,i,m,p)});const h=G2(t,e);mu(t,h),ri(t.eventQueue_,h,[])}function V7(t,e,n,r){Vd(t,"update",{path:e.toString(),value:n});let i=!0;const s=dm(t),o={};if(zn(n,(a,l)=>{i=!1,o[a]=pS(sn(e,a),Sn(l),t.serverSyncTree_,s)}),i)Fn("update() called with empty data.  Don't do anything."),T1(t,r,"ok",void 0);else{const a=V2(t),l=p7(t.serverSyncTree_,e,o,a);cm(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,f)=>{const h=c==="ok";h||cr("update at "+e+" failed: "+c);const m=yo(t.serverSyncTree_,a,!h),p=m.length>0?mu(t,e):e;ri(t.eventQueue_,p,m),T1(t,r,c,f)}),zn(n,c=>{const f=G2(t,sn(e,c));mu(t,f)}),ri(t.eventQueue_,e,[])}}function Y7(t){Vd(t,"onDisconnectEvents");const e=dm(t),n=wp();x1(t.onDisconnect_,wt(),(i,s)=>{const o=pS(i,s,t.serverSyncTree_,e);G4(n,i,o)});let r=[];x1(n,wt(),(i,s)=>{r=r.concat(Hd(t.serverSyncTree_,i,s));const o=G2(t,i);mu(t,o)}),t.onDisconnect_=wp(),ri(t.eventQueue_,wt(),r)}function G7(t,e,n){let r;lt(e._path)===".info"?r=A1(t.infoSyncTree_,e,n):r=A1(t.serverSyncTree_,e,n),_S(t.eventQueue_,e._path,r)}function K7(t,e,n){let r;lt(e._path)===".info"?r=kp(t.infoSyncTree_,e,n):r=kp(t.serverSyncTree_,e,n),_S(t.eventQueue_,e._path,r)}function Q7(t){t.persistentConnection_&&t.persistentConnection_.interrupt(B7)}function Vd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fn(n,...e)}function T1(t,e,n,r){e&&Nu(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function SS(t,e,n){return R2(t.serverSyncTree_,e,n)||Ke.EMPTY_NODE}function Y2(t,e=t.transactionQueueTree_){if(e||hm(t,e),Eu(e)){const n=CS(t,e);Ae(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&J7(t,qd(e),n)}else vS(e)&&lm(e,n=>{Y2(t,n)})}function J7(t,e,n){const r=n.map(c=>c.currentWriteId),i=SS(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const f=n[c];Ae(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const h=lr(e,f.path);s=s.updateChild(h,f.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Vd(t,"transaction put response",{path:l.toString(),status:c});let f=[];if(c==="ok"){const h=[];for(let m=0;m<n.length;m++)n[m].status=2,f=f.concat(yo(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&h.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();hm(t,z2(t.transactionQueueTree_,e)),Y2(t,t.transactionQueueTree_),ri(t.eventQueue_,e,f);for(let m=0;m<h.length;m++)Nu(h[m])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{cr("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}mu(t,e)}},o)}function mu(t,e){const n=NS(t,e),r=qd(n),i=CS(t,n);return X7(t,i,r),r}function X7(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=lr(n,l.path);let f=!1,h;if(Ae(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,h=l.abortReason,i=i.concat(yo(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=U7)f=!0,h="maxretry",i=i.concat(yo(t.serverSyncTree_,l.currentWriteId,!0));else{const m=SS(t,l.path,o);l.currentInputSnapshot=m;const p=e[a].update(m.val());if(p!==void 0){um("transaction failed: Data returned ",p,l.path);let b=Sn(p);typeof p=="object"&&p!=null&&es(p,".priority")||(b=b.updatePriority(m.getPriority()));const C=l.currentWriteId,w=dm(t),y=mS(b,m,w);l.currentOutputSnapshotRaw=b,l.currentOutputSnapshotResolved=y,l.currentWriteId=V2(t),o.splice(o.indexOf(C),1),i=i.concat(uS(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(yo(t.serverSyncTree_,C,!0))}else f=!0,h="nodata",i=i.concat(yo(t.serverSyncTree_,l.currentWriteId,!0))}ri(t.eventQueue_,n,i),i=[],f&&(e[a].status=2,function(m){setTimeout(m,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}hm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Nu(r[a]);Y2(t,t.transactionQueueTree_)}function NS(t,e){let n,r=t.transactionQueueTree_;for(n=lt(e);n!==null&&Eu(r)===void 0;)r=z2(r,n),e=Ft(e),n=lt(e);return r}function CS(t,e){const n=[];return ES(t,e,n),n.sort((r,i)=>r.order-i.order),n}function ES(t,e,n){const r=Eu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);lm(e,i=>{ES(t,i,n)})}function hm(t,e){const n=Eu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,gS(e,n.length>0?n:void 0)}lm(e,r=>{hm(t,r)})}function G2(t,e){const n=qd(NS(t,e)),r=z2(t.transactionQueueTree_,e);return A7(r,i=>{J0(t,i)}),J0(t,r),yS(r,i=>{J0(t,i)}),n}function J0(t,e){const n=Eu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Ae(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ae(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(yo(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?gS(e,void 0):n.length=s+1,ri(t.eventQueue_,qd(e),i);for(let o=0;o<r.length;o++)Nu(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function eR(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):cr(`Invalid query segment '${n}' in query '${t}'`)}return e}const a_=function(t,e){const n=tR(t),r=n.namespace;n.domain==="firebase.com"&&Ds(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ds("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||cL();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new I4(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new At(n.pathString)}},tR=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let f=t.indexOf("/");f===-1&&(f=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(f,h)),f<h&&(i=Z7(t.substring(f,h)));const m=eR(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const b=e.indexOf(".");r=e.substring(0,b).toLowerCase(),n=e.substring(b+1),s=r}"ns"in m&&(s=m.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",nR=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=l_.charAt(n%64),n=Math.floor(n/64);Ae(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=l_.charAt(e[i]);return Ae(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Nn(this.snapshot.exportVal())}}class iR{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Ae(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ut(this._path)?null:w2(this._path)}get ref(){return new Fs(this._repo,this._path)}get _queryIdentifier(){const e=Yw(this._queryParams),n=m2(e);return n==="{}"?"default":n}get _queryObject(){return Yw(this._queryParams)}isEqual(e){if(e=Wn(e),!(e instanceof ku))return!1;const n=this._repo===e._repo,r=_2(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+YL(this._path)}}function sR(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function K2(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===xa){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Oa)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Mo)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Kt){if(e!=null&&!I1(e)||n!=null&&!I1(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Ae(t.getIndex()instanceof S2||t.getIndex()===V4,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function AS(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Fs extends ku{constructor(e,n){super(e,n,new C2,!1)}get parent(){const e=B4(this._path);return e===null?null:new Fs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Sd{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new At(e),r=Nd(this.ref,e);return new Sd(this._node.getChild(n),r,Kt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Sd(i,Nd(this.ref,r),Kt)))}hasChild(e){const n=new At(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function br(t,e){return t=Wn(t),t._checkNotDeleted("ref"),e!==void 0?Nd(t._root,e):t._root}function Nd(t,e){return t=Wn(t),lt(t._path)===null?D7("child","path",e):H2("child","path",e),new Fs(t._repo,sn(t._path,e))}function oR(t,e){t=Wn(t),q2("push",t._path),$d("push",e,t._path,!0);const n=xS(t._repo),r=nR(n),i=Nd(t,r),s=Nd(t,r);let o;return e!=null?o=Ap(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function aR(t){return q2("remove",t._path),Ap(t,null)}function Ap(t,e){t=Wn(t),q2("set",t._path),$d("set",e,t._path,!1);const n=new Dd;return $7(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function ql(t,e){O7("update",e,t._path);const n=new Dd;return V7(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function L1(t){t=Wn(t);const e=new kS(()=>{}),n=new fm(e);return q7(t._repo,t,n).then(r=>new Sd(r,new Fs(t._repo,t._path),t._queryParams.getIndex()))}class fm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new rR("value",this,new Sd(e.snapshotNode,new Fs(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new iR(this,e,n):null}matches(e){return e instanceof fm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function lR(t,e,n,r,i){const s=new kS(n,void 0),o=new fm(s);return G7(t._repo,t,o),()=>K7(t._repo,t,o)}function uR(t,e,n,r){return lR(t,"value",e)}class pm{}class cR extends pm{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){$d("endAt",this._value,e._path,!0);const n=v8(e._queryParams,this._value,this._key);if(AS(n),K2(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ku(e._repo,e._path,n,e._orderByCalled)}}class dR extends pm{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){$d("startAt",this._value,e._path,!0);const n=g8(e._queryParams,this._value,this._key);if(AS(n),K2(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ku(e._repo,e._path,n,e._orderByCalled)}}class hR extends pm{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){sR(e,"orderByChild");const n=new At(this._path);if(ut(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new S2(n),i=y8(e._queryParams,r);return K2(i),new ku(e._repo,e._path,i,!0)}}function R1(t){return H2("orderByChild","path",t),new hR(t)}class fR extends pm{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if($d("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new cR(this._value,this._key)._apply(new dR(this._value,this._key)._apply(e))}}function O1(t,e){return new fR(t,e)}function D1(t,...e){let n=Wn(t);for(const r of e)n=r._apply(n);return n}o7(Fs);d7(Fs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="FIREBASE_DATABASE_EMULATOR_HOST",j1={};let mR=!1;function gR(t,e,n,r){t.repoInfo_=new I4(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function vR(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Ds("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=a_(s,i),a=o.repoInfo,l;typeof process<"u"&&Pw&&(l=Pw[pR]),l?(s=`http://${l}?ns=${a.namespace}`,o=a_(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new bL(t.name,t.options,e);j7("Invalid Firebase Database URL",o),ut(o.path)||Ds("Database URL must point to the root of a Firebase Database (not including a child path).");const f=wR(a,t,c,new _L(t.name,n));return new _R(f,t)}function yR(t,e){const n=j1[e];(!n||n[t.key]!==t)&&Ds(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Q7(t),delete n[t.key]}function wR(t,e,n,r){let i=j1[e.name];i||(i={},j1[e.name]=i);let s=i[t.toURLString()];return s&&Ds("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new z7(t,mR,n,r),i[t.toURLString()]=s,s}class _R{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(W7(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fs(this._repo,wt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(yR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ds("Cannot call "+e+" on a deleted database.")}}function bR(t=O3(),e){const n=i2(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=_A("database");r&&xR(n,...r)}return n}function xR(t,e,n,r={}){t=Wn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ds("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ds('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Lf(Lf.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:bA(r.mockUserToken,t.app.options.projectId);s=new Lf(o)}gR(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){iL(bu),cu(new La("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return vR(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Io(Iw,Tw,t),Io(Iw,Tw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR={".sv":"timestamp"};function Pp(){return NR}ks.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ks.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};SR();const CR={apiKey:"AIzaSyACnaYrNYJ5r_nt3htBP6clslXGc73X8Ko",authDomain:"nrd-cierres.firebaseapp.com",databaseURL:"https://nrd-cierres-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nrd-cierres",storageBucket:"nrd-cierres.firebasestorage.app",messagingSenderId:"272887514298",appId:"1:272887514298:web:d68ee45c0696ec33602e83"},PS=R3(CR),X0=eL(PS),xr=bR(PS),IS=me.createContext(null),Au=()=>{const t=me.useContext(IS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},ER=({children:t})=>{const[e,n]=me.useState(null),[r,i]=me.useState(!0);me.useEffect(()=>WI(X0,c=>{n(c),i(!1)}),[]);const a={currentUser:e,login:async(l,c)=>{await BI(X0,l,c)},logout:()=>HI(X0),loading:r};return N.jsx(IS.Provider,{value:a,children:!r&&t})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Vt=(t,e)=>{const n=me.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},f)=>me.createElement("svg",{ref:f,...kR,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${AR(t)}`,a].join(" "),...c},[...e.map(([h,m])=>me.createElement(h,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=Vt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=Vt("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Vt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=Vt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=Vt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=Vt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=Vt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=Vt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=Vt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Vt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=Vt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=Vt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Vt("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=Vt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=Vt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=Vt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=Vt("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=Vt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=Vt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=Vt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=Vt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=Vt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=Vt("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Vt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function WR(){const[t,e]=me.useState(""),[n,r]=me.useState(""),[i,s]=me.useState(!1),{login:o}=Au(),a=Xv(),l=async c=>{c.preventDefault(),s(!0);try{await o(t,n),a("/dashboard"),zt.success("Bienvenido!")}catch(f){const h=f.code==="auth/invalid-credential"?"Credenciales invlidas. Por favor, verifique su correo y contrasea.":"Error al iniciar sesin. Por favor, intente nuevamente.";zt.error(h)}finally{s(!1)}};return N.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center p-4",children:N.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[N.jsxs("div",{className:"text-center mb-8",children:[N.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cierres Diarios"}),N.jsx("p",{className:"text-gray-600 mt-2",children:"Inicie sesin para continuar"})]}),N.jsxs("form",{onSubmit:l,className:"space-y-6",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:N.jsx(FR,{className:"h-5 w-5 text-gray-400"})}),N.jsx("input",{type:"email",value:t,onChange:c=>e(c.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"usuario@ejemplo.com",required:!0,disabled:i})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:N.jsx(OS,{className:"h-5 w-5 text-gray-400"})}),N.jsx("input",{type:"password",value:n,onChange:c=>r(c.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"",required:!0,disabled:i})]})]}),N.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Iniciando sesin..."]}):"Iniciar Sesin"})]})]})})}function M1({children:t}){const{logout:e,currentUser:n}=Au(),r=Xv(),i=async()=>{try{await e(),r("/login"),zt.success("Sesin cerrada exitosamente")}catch{zt.error("Error al cerrar sesin")}};return N.jsxs("div",{className:"min-h-screen bg-gray-50",children:[N.jsx("nav",{className:"bg-white shadow-sm",children:N.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:N.jsxs("div",{className:"flex justify-between h-16",children:[N.jsx("div",{className:"flex items-center",children:N.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Cierres Diarios"})}),N.jsxs("div",{className:"flex items-center space-x-4",children:[N.jsx("span",{className:"text-sm text-gray-600",children:n==null?void 0:n.email}),N.jsxs("button",{onClick:i,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-700 hover:text-gray-900 focus:outline-none transition",children:[N.jsx(MR,{className:"h-4 w-4 mr-2"}),"Cerrar Sesin"]})]})]})})}),N.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t})]})}function bt(t){"@babel/helpers - typeof";return bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(t)}function js(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Hn(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Pi(t){Hn(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||bt(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function HR(t,e){Hn(2,arguments);var n=Pi(t),r=js(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function qR(t,e){Hn(2,arguments);var n=Pi(t).getTime(),r=js(e);return new Date(n+r)}var $R={};function mm(){return $R}function VR(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var BS=6e4,US=36e5;function YR(t){return Hn(1,arguments),t instanceof Date||bt(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function GR(t){if(Hn(1,arguments),!YR(t)&&typeof t!="number")return!1;var e=Pi(t);return!isNaN(Number(e))}function KR(t,e){Hn(2,arguments);var n=js(e);return qR(t,-n)}var QR=864e5;function JR(t){Hn(1,arguments);var e=Pi(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/QR)+1}function Ip(t){Hn(1,arguments);var e=1,n=Pi(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function zS(t){Hn(1,arguments);var e=Pi(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Ip(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Ip(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function XR(t){Hn(1,arguments);var e=zS(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Ip(n);return r}var ZR=6048e5;function eO(t){Hn(1,arguments);var e=Pi(t),n=Ip(e).getTime()-XR(e).getTime();return Math.round(n/ZR)+1}function Tp(t,e){var n,r,i,s,o,a,l,c;Hn(1,arguments);var f=mm(),h=js((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Pi(t),p=m.getUTCDay(),b=(p<h?7:0)+p-h;return m.setUTCDate(m.getUTCDate()-b),m.setUTCHours(0,0,0,0),m}function WS(t,e){var n,r,i,s,o,a,l,c;Hn(1,arguments);var f=Pi(t),h=f.getUTCFullYear(),m=mm(),p=js((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:m.firstWeekContainsDate)!==null&&r!==void 0?r:(l=m.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(h+1,0,p),b.setUTCHours(0,0,0,0);var S=Tp(b,e),C=new Date(0);C.setUTCFullYear(h,0,p),C.setUTCHours(0,0,0,0);var w=Tp(C,e);return f.getTime()>=S.getTime()?h+1:f.getTime()>=w.getTime()?h:h-1}function tO(t,e){var n,r,i,s,o,a,l,c;Hn(1,arguments);var f=mm(),h=js((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=WS(t,e),p=new Date(0);p.setUTCFullYear(m,0,h),p.setUTCHours(0,0,0,0);var b=Tp(p,e);return b}var nO=6048e5;function rO(t,e){Hn(1,arguments);var n=Pi(t),r=Tp(n,e).getTime()-tO(n,e).getTime();return Math.round(r/nO)+1}function Et(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var to={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Et(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Et(r+1,2)},d:function(e,n){return Et(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Et(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Et(e.getUTCHours(),n.length)},m:function(e,n){return Et(e.getUTCMinutes(),n.length)},s:function(e,n){return Et(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Et(s,n.length)}},Nl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iO={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return to.y(e,n)},Y:function(e,n,r,i){var s=WS(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Et(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Et(o,n.length)},R:function(e,n){var r=zS(e);return Et(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Et(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Et(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Et(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return to.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Et(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=rO(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Et(s,n.length)},I:function(e,n,r){var i=eO(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Et(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):to.d(e,n)},D:function(e,n,r){var i=JR(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Et(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Et(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Et(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Et(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=Nl.noon:i===0?s=Nl.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=Nl.evening:i>=12?s=Nl.afternoon:i>=4?s=Nl.morning:s=Nl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return to.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):to.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Et(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Et(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):to.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):to.s(e,n)},S:function(e,n){return to.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return d_(o);case"XXXX":case"XX":return ha(o);case"XXXXX":case"XXX":default:return ha(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return d_(o);case"xxxx":case"xx":return ha(o);case"xxxxx":case"xxx":default:return ha(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+c_(o,":");case"OOOO":default:return"GMT"+ha(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+c_(o,":");case"zzzz":default:return"GMT"+ha(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return Et(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return Et(o,n.length)}};function c_(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e;return n+String(i)+o+Et(s,2)}function d_(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Et(Math.abs(t)/60,2)}return ha(t,e)}function ha(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=Et(Math.floor(i/60),2),o=Et(i%60,2);return r+s+n+o}var h_=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},HS=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},sO=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return h_(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",h_(i,n)).replace("{{time}}",HS(s,n))},oO={p:HS,P:sO},aO=["D","DD"],lO=["YY","YYYY"];function uO(t){return aO.indexOf(t)!==-1}function cO(t){return lO.indexOf(t)!==-1}function f_(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var dO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hO=function(e,n,r){var i,s=dO[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function tu(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var fO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gO={date:tu({formats:fO,defaultWidth:"full"}),time:tu({formats:pO,defaultWidth:"full"}),dateTime:tu({formats:mO,defaultWidth:"full"})},vO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yO=function(e,n,r,i){return vO[e]};function Vi(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var wO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_O={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},SO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},NO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CO=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},EO={ordinalNumber:CO,era:Vi({values:wO,defaultWidth:"wide"}),quarter:Vi({values:_O,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Vi({values:bO,defaultWidth:"wide"}),day:Vi({values:xO,defaultWidth:"wide"}),dayPeriod:Vi({values:SO,defaultWidth:"wide",formattingValues:NO,defaultFormattingWidth:"wide"})};function Yi(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?AO(a,function(h){return h.test(o)}):kO(a,function(h){return h.test(o)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var f=e.slice(o.length);return{value:c,rest:f}}}function kO(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function AO(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function qS(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var PO=/^(\d+)(th|st|nd|rd)?/i,IO=/\d+/i,TO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},LO={any:[/^b/i,/^(a|c)/i]},RO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},OO={any:[/1/i,/2/i,/3/i,/4/i]},DO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},MO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},UO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zO={ordinalNumber:qS({matchPattern:PO,parsePattern:IO,valueCallback:function(e){return parseInt(e,10)}}),era:Yi({matchPatterns:TO,defaultMatchWidth:"wide",parsePatterns:LO,defaultParseWidth:"any"}),quarter:Yi({matchPatterns:RO,defaultMatchWidth:"wide",parsePatterns:OO,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Yi({matchPatterns:DO,defaultMatchWidth:"wide",parsePatterns:jO,defaultParseWidth:"any"}),day:Yi({matchPatterns:MO,defaultMatchWidth:"wide",parsePatterns:FO,defaultParseWidth:"any"}),dayPeriod:Yi({matchPatterns:BO,defaultMatchWidth:"any",parsePatterns:UO,defaultParseWidth:"any"})},WO={code:"en-US",formatDistance:hO,formatLong:gO,formatRelative:yO,localize:EO,match:zO,options:{weekStartsOn:0,firstWeekContainsDate:1}},HO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$O=/^'([^]*?)'?$/,VO=/''/g,YO=/[a-zA-Z]/;function Yd(t,e,n){var r,i,s,o,a,l,c,f,h,m,p,b,S,C,w,y,_,E;Hn(2,arguments);var O=String(e),F=mm(),R=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:F.locale)!==null&&r!==void 0?r:WO,I=js((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(f=c.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&a!==void 0?a:F.firstWeekContainsDate)!==null&&o!==void 0?o:(h=F.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var W=js((p=(b=(S=(C=n==null?void 0:n.weekStartsOn)!==null&&C!==void 0?C:n==null||(w=n.locale)===null||w===void 0||(y=w.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&S!==void 0?S:F.weekStartsOn)!==null&&b!==void 0?b:(_=F.locale)===null||_===void 0||(E=_.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&p!==void 0?p:0);if(!(W>=0&&W<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!R.localize)throw new RangeError("locale must contain localize property");if(!R.formatLong)throw new RangeError("locale must contain formatLong property");var H=Pi(t);if(!GR(H))throw new RangeError("Invalid time value");var P=VR(H),k=KR(H,P),V={firstWeekContainsDate:I,weekStartsOn:W,locale:R,_originalDate:H},Y=O.match(qO).map(function(oe){var Q=oe[0];if(Q==="p"||Q==="P"){var G=oO[Q];return G(oe,R.formatLong)}return oe}).join("").match(HO).map(function(oe){if(oe==="''")return"'";var Q=oe[0];if(Q==="'")return GO(oe);var G=iO[Q];if(G)return!(n!=null&&n.useAdditionalWeekYearTokens)&&cO(oe)&&f_(oe,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&uO(oe)&&f_(oe,e,String(t)),G(k,oe,R.localize,V);if(Q.match(YO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return oe}).join("");return Y}function GO(t){var e=t.match($O);return e?e[1].replace(VO,"'"):t}function J2(t,e){var n;Hn(1,arguments);var r=js((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=XO(t),s;if(i.date){var o=ZO(i.date,r);s=eD(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,c;if(i.time&&(l=tD(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=nD(i.timezone),isNaN(c))return new Date(NaN)}else{var f=new Date(a+l),h=new Date(0);return h.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),h.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),h}return new Date(a+l+c)}var of={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},KO=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,QO=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,JO=/^([+-])(\d{2})(?::?(\d{2}))?$/;function XO(t){var e={},n=t.split(of.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],of.timeZoneDelimiter.test(e.date)&&(e.date=t.split(of.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=of.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function ZO(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function eD(t,e){if(e===null)return new Date(NaN);var n=t.match(KO);if(!n)return new Date(NaN);var r=!!n[4],i=vc(n[1]),s=vc(n[2])-1,o=vc(n[3]),a=vc(n[4]),l=vc(n[5])-1;if(r)return aD(e,a,l)?rD(e,a,l):new Date(NaN);var c=new Date(0);return!sD(e,s,o)||!oD(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,o)),c)}function vc(t){return t?parseInt(t):1}function tD(t){var e=t.match(QO);if(!e)return NaN;var n=Z0(e[1]),r=Z0(e[2]),i=Z0(e[3]);return lD(n,r,i)?n*US+r*BS+i*1e3:NaN}function Z0(t){return t&&parseFloat(t.replace(",","."))||0}function nD(t){if(t==="Z")return 0;var e=t.match(JO);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return uD(r,i)?n*(r*US+i*BS):NaN}function rD(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var iD=[31,null,31,30,31,30,31,31,30,31,30,31];function $S(t){return t%400===0||t%4===0&&t%100!==0}function sD(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(iD[e]||($S(t)?29:28))}function oD(t,e){return e>=1&&e<=($S(t)?366:365)}function aD(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function lD(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function uD(t,e){return e>=0&&e<=59}var cD={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},dD=function(e,n,r){var i,s=cD[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+i:"hace "+i:i},hD={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},fD={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},pD={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mD={date:tu({formats:hD,defaultWidth:"full"}),time:tu({formats:fD,defaultWidth:"full"}),dateTime:tu({formats:pD,defaultWidth:"full"})},gD={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},vD={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},yD=function(e,n,r,i){return n.getUTCHours()!==1?vD[e]:gD[e]},wD={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},_D={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},bD={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},xD={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},SD={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},ND={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},CD=function(e,n){var r=Number(e);return r+""},ED={ordinalNumber:CD,era:Vi({values:wD,defaultWidth:"wide"}),quarter:Vi({values:_D,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Vi({values:bD,defaultWidth:"wide"}),day:Vi({values:xD,defaultWidth:"wide"}),dayPeriod:Vi({values:SD,defaultWidth:"wide",formattingValues:ND,defaultFormattingWidth:"wide"})},kD=/^(\d+)()?/i,AD=/\d+/i,PD={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},ID={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},TD={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},LD={any:[/1/i,/2/i,/3/i,/4/i]},RD={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},OD={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},DD={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},jD={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},MD={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},FD={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},BD={ordinalNumber:qS({matchPattern:kD,parsePattern:AD,valueCallback:function(e){return parseInt(e,10)}}),era:Yi({matchPatterns:PD,defaultMatchWidth:"wide",parsePatterns:ID,defaultParseWidth:"any"}),quarter:Yi({matchPatterns:TD,defaultMatchWidth:"wide",parsePatterns:LD,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Yi({matchPatterns:RD,defaultMatchWidth:"wide",parsePatterns:OD,defaultParseWidth:"any"}),day:Yi({matchPatterns:DD,defaultMatchWidth:"wide",parsePatterns:jD,defaultParseWidth:"any"}),dayPeriod:Yi({matchPatterns:MD,defaultMatchWidth:"any",parsePatterns:FD,defaultParseWidth:"any"})},VS={code:"es",formatDistance:dD,formatLong:mD,formatRelative:yD,localize:ED,match:BD,options:{weekStartsOn:1,firstWeekContainsDate:1}},F1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(F1,F1.exports);var UD=F1.exports;const zD=Z1(UD);var B1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(B1,B1.exports);var WD=B1.exports;const p_=Z1(WD);function HD(t,e){var n=YD(e);return n.formatToParts?$D(n,t):VD(n,t)}var qD={year:0,month:1,day:2,hour:3,minute:4,second:5};function $D(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=qD[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function VD(t,e){var n=t.format(e),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var eg={};function YD(t){if(!eg[t]){var e=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="06/25/2014 00:00:00";eg[t]=n?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return eg[t]}function YS(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var m_=36e5,GD=6e4,tg={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function GS(t,e,n){var r,i;if(!t||(r=tg.timezoneZ.exec(t),r))return 0;var s;if(r=tg.timezoneHH.exec(t),r)return s=parseInt(r[1],10),g_(s)?-(s*m_):NaN;if(r=tg.timezoneHHMM.exec(t),r){s=parseInt(r[2],10);var o=parseInt(r[3],10);return g_(s,o)?(i=Math.abs(s)*m_+o*GD,r[1]==="+"?-i:i):NaN}if(JD(t)){e=new Date(e||Date.now());var a=n?e:KD(e),l=U1(a,t),c=n?l:QD(e,l,t);return-c}return NaN}function KD(t){return YS(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function U1(t,e){var n=HD(t,e),r=YS(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function QD(t,e,n){var r=t.getTime(),i=r-e,s=U1(new Date(i),n);if(e===s)return e;i-=s-e;var o=U1(new Date(i),n);return s===o?s:Math.max(s,o)}function g_(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var v_={};function JD(t){if(v_[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),v_[t]=!0,!0}catch{return!1}}var XD=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,ng=36e5,y_=6e4,ZD=2,ar={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:XD};function ej(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n={},r=n.additionalDigits==null?ZD:zD(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=tj(t),s=nj(i.date,r),o=s.year,a=s.restDateString,l=rj(a,o);if(isNaN(l))return new Date(NaN);if(l){var c=l.getTime(),f=0,h;if(i.time&&(f=ij(i.time),isNaN(f)))return new Date(NaN);if(i.timeZone||n.timeZone){if(h=GS(i.timeZone||n.timeZone,new Date(c+f)),isNaN(h))return new Date(NaN)}else h=p_(new Date(c+f)),h=p_(new Date(c+f+h));return new Date(c+f+h)}else return new Date(NaN)}function tj(t){var e={},n=ar.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=ar.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=ar.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function nj(t,e){var n=ar.YYY[e],r=ar.YYYYY[e],i;if(i=ar.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=ar.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function rj(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=ar.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,__(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=ar.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return aj(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=ar.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return __(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=ar.Www.exec(t),n)return s=parseInt(n[1],10)-1,b_(e,s)?w_(e,s):new Date(NaN);if(n=ar.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return b_(e,s,l)?w_(e,s,l):new Date(NaN)}return null}function ij(t){var e,n,r;if(e=ar.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),rg(n)?n%24*ng:NaN;if(e=ar.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),rg(n,r)?n%24*ng+r*y_:NaN;if(e=ar.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return rg(n,r,i)?n%24*ng+r*y_+i*1e3:NaN}return null}function w_(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var sj=[31,28,31,30,31,30,31,31,30,31,30,31],oj=[31,29,31,30,31,30,31,31,30,31,30,31];function KS(t){return t%400===0||t%4===0&&t%100!==0}function __(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=KS(t);if(r&&n>oj[e]||!r&&n>sj[e])return!1}return!0}function aj(t,e){if(e<1)return!1;var n=KS(t);return!(n&&e>366||!n&&e>365)}function b_(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function rg(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}function gm(t,e,n){var r=ej(t,n),i=GS(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}const vm="America/Montevideo",ym=t=>{const e=typeof t=="string"?J2(t):new Date(t),n=gm(e,vm);return Yd(n,"d 'de' MMMM, yyyy",{locale:VS})},X2=t=>{const e=gm(new Date(t),vm);return Yd(e,"dd/MM/yyyy HH:mm",{locale:VS})},x_=t=>{const e=typeof t=="string"?J2(t):t,n=gm(e,vm);return Yd(n,"yyyy-MM-dd")},Z2=()=>{const e=gm(new Date,vm);return Yd(e,"yyyy-MM-dd")},lj=t=>{const e=HR(J2(t),1);return Yd(e,"yyyy-MM-dd")};function uj({closures:t,onClosureClick:e}){const n=Z2(),r=i=>i.accounts.reduce((s,o)=>(o.type==="efectivo"?s.cashBalance+=o.currentBalance:o.type==="banco"&&(s.bankBalance+=o.currentBalance),s),{cashBalance:0,bankBalance:0});return N.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:N.jsx("div",{className:"divide-y divide-gray-200",children:t.map((i,s)=>{const{cashBalance:o,bankBalance:a}=r(i),l=i.date===n,c=s===0;return N.jsxs("button",{onClick:()=>e(i),className:`w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors ${l?"bg-blue-50 hover:bg-blue-100":""} ${c?"border-b-4 border-gray-200":""}`,children:[N.jsxs("div",{className:"flex-1",children:[N.jsxs("div",{className:"flex items-center",children:[N.jsxs("div",{className:"flex items-center",children:[l&&N.jsx(LS,{className:"h-5 w-5 text-blue-600 mr-2"}),N.jsx("span",{className:`text-lg font-medium ${l?"text-blue-900":"text-gray-900"}`,children:ym(i.date)})]}),N.jsx("span",{className:`ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.status==="open"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i.status==="open"?"Abierto":"Cerrado"})]}),N.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[N.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[N.jsx(RS,{className:"h-4 w-4 text-green-500 mr-1"}),N.jsxs("span",{className:o>=0?"text-green-600":"text-red-600",children:["$",o.toLocaleString("es-AR")]})]}),N.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[N.jsx(Q2,{className:"h-4 w-4 text-purple-500 mr-1"}),N.jsxs("span",{className:a>=0?"text-green-600":"text-red-600",children:["$",a.toLocaleString("es-AR")]})]}),N.jsxs("div",{className:"text-sm text-gray-500",children:["Saldo final: ",N.jsxs("span",{className:i.finalBalance>=0?"text-green-600":"text-red-600",children:["$",i.finalBalance.toLocaleString("es-AR")]})]})]})]}),N.jsx(OR,{className:`h-5 w-5 ${l?"text-blue-400":"text-gray-400"}`})]},i.id)})})})}const af={CASH:"efectivo",BANK:"banco"},Cl={INCOME:"ingreso",EXPENSE:"egreso"},cj={"account-1":{name:"Caja Cofre",type:af.CASH},"account-2":{name:"Caja Mostrador",type:af.CASH},"account-3":{name:"Cuenta Dbito Santander",type:af.BANK},"account-4":{name:"Cuenta Crdito Santander",type:af.BANK}},Pn={PENDING_INVOICE:{id:"pending-invoice",name:"Pendiente a Facturar",order:1,isFinal:!1,description:"Este movimiento requiere generar una factura. Para completar este estado, debe emitir la factura correspondiente en el sistema de facturacin y registrar el nmero de comprobante."},PENDING_ACCOUNTING:{id:"pending-accounting",name:"Pendiente a Contabilizar",order:2,isFinal:!1,description:"Este movimiento debe ser registrado en el sistema contable. Para avanzar, registre el asiento contable correspondiente y verifique que los montos coincidan."},PENDING_PAYMENT:{id:"pending-payment",name:"Pendiente a Pagar",order:1,isFinal:!1,description:"Este movimiento est pendiente de pago. Para completar este estado, realice el pago correspondiente y registre el comprobante de pago."},PENDING_CONTROL:{id:"pending-control",name:"Pendiente a Controlar",order:2,isFinal:!1,description:"Este movimiento requiere verificacin y control. Revise la documentacin respaldatoria y verifique que los montos y conceptos sean correctos antes de avanzar."},COMPLETED:{id:"completed",name:"Finalizado",order:3,isFinal:!0,description:"Este movimiento ha completado todos sus estados y ha sido procesado correctamente. No se requieren ms acciones."}},Ma={"concept-1":{name:"(+) Ingresos por Venta",type:Cl.INCOME,states:[Pn.PENDING_INVOICE,Pn.PENDING_ACCOUNTING,Pn.COMPLETED]},"concept-2":{name:"(+) Ingresos Varios",type:Cl.INCOME,states:[Pn.PENDING_PAYMENT,Pn.PENDING_CONTROL,Pn.COMPLETED]},"concept-3":{name:"(-) Pago a Proveedores",type:Cl.EXPENSE,states:[Pn.PENDING_PAYMENT,Pn.COMPLETED]},"concept-4":{name:"(-) Pago de Servicios",type:Cl.EXPENSE,states:[Pn.PENDING_PAYMENT,Pn.PENDING_ACCOUNTING,Pn.COMPLETED]},"concept-5":{name:"(-) Salarios",type:Cl.EXPENSE,states:[Pn.PENDING_CONTROL,Pn.COMPLETED]},"concept-6":{name:"(-) Egresos Varios",type:Cl.EXPENSE,states:[Pn.PENDING_CONTROL,Pn.COMPLETED]}};function ey(){const[t,e]=me.useState([]),[n,r]=me.useState([]),[i,s]=me.useState(!0),[o,a]=me.useState(null);return me.useEffect(()=>{try{const l=Object.entries(cj).map(([f,h])=>({id:f,name:h.name,type:h.type}));e(l);const c=Object.entries(Ma).map(([f,h])=>({id:f,name:h.name,type:h.type,states:h.states}));r(c),s(!1)}catch(l){console.error("Error loading predefined data:",l),a("Error al cargar los datos predefinidos"),s(!1)}},[]),{accounts:t,concepts:n,loading:i,error:o}}function er(t){return`$${t.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function S_({value:t,quantity:e,onChange:n,type:r,onEnterPress:i,inputRef:s}){const o=t*e,a=r==="bill"?"bg-green-100":"bg-blue-100",l=r==="bill"?"text-green-700":"text-blue-700",c=r==="bill"?"focus:border-green-500":"focus:border-blue-500",f=r==="bill"?"focus:ring-green-500":"focus:ring-blue-500",h=p=>{p.key==="Enter"&&i&&(p.preventDefault(),i())},m=p=>{const b=p.target.value===""?"":Math.max(0,parseInt(p.target.value)||0);n(b===""?0:b)};return N.jsxs("div",{className:`grid grid-cols-[1fr_120px] items-center gap-4 p-4 ${a} rounded-lg`,children:[N.jsxs("div",{className:"flex flex-col",children:[N.jsx("span",{className:`text-xl font-semibold ${l}`,children:er(t)}),N.jsxs("span",{className:`text-sm ${l} opacity-75`,children:["Subtotal: ",er(o)]})]}),N.jsx("div",{children:N.jsx("input",{ref:s,type:"number",min:"0",value:e===0?"":e,onChange:m,onKeyDown:h,className:`w-full px-4 py-3 text-lg border rounded-md shadow-sm ${c} ${f} focus:ring-2 focus:ring-opacity-50 bg-white text-center font-medium`,placeholder:"0"})})]})}const ms=[2e3,1e3,500,200,100,50,20],yc=[50,10,5,2,1];function QS({isOpen:t,onClose:e,onConfirm:n,initialAmount:r=0}){const[i,s]=me.useState({}),[o,a]=me.useState(0),l=me.useRef({});me.useEffect(()=>{[...ms,...yc].forEach(m=>{l.current[m]=iv.createRef()})},[]),me.useEffect(()=>{var m,p;if(t){const b={};[...ms,...yc].forEach(S=>{b[S]=0}),s(b),a(0),(m=l.current[ms[0]])!=null&&m.current&&((p=l.current[ms[0]].current)==null||p.focus())}},[t]);const c=(m,p)=>{const b={...i,[m]:p};s(b);const S=Object.entries(b).reduce((C,[w,y])=>C+Number(w)*Number(y),0);a(S)},f=()=>{var p,b;const m={};[...ms,...yc].forEach(S=>{m[S]=0}),s(m),a(0),(p=l.current[ms[0]])!=null&&p.current&&((b=l.current[ms[0]].current)==null||b.focus())},h=m=>{var C,w;const p=[...ms,...yc],b=p.indexOf(m),S=p[b+1];if(S&&((C=l.current[S])!=null&&C.current))(w=l.current[S].current)==null||w.focus();else{const y=document.querySelector("[data-confirm-button]");y==null||y.focus()}};return t?N.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:N.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:e}),N.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-3xl w-full",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50",children:[N.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Calculadora de Efectivo"}),N.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:N.jsx(ts,{className:"h-6 w-6"})})]}),N.jsxs("div",{className:"p-6",children:[N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[N.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[N.jsxs("h4",{className:"text-lg font-medium text-green-800 mb-4 flex items-center",children:[N.jsx("span",{className:"w-8 h-8 bg-green-200 rounded-full flex items-center justify-center mr-2 text-green-700",children:"$"}),"Billetes"]}),N.jsx("div",{className:"space-y-3",children:ms.map(m=>N.jsx(S_,{value:m,quantity:i[m]||0,onChange:p=>c(m,p),type:"bill",onEnterPress:()=>h(m),inputRef:l.current[m]},m))})]}),N.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[N.jsxs("h4",{className:"text-lg font-medium text-blue-800 mb-4 flex items-center",children:[N.jsx("span",{className:"w-8 h-8 bg-blue-200 rounded-full flex items-center justify-center mr-2 text-blue-700",children:""}),"Monedas"]}),N.jsx("div",{className:"space-y-3",children:yc.map(m=>N.jsx(S_,{value:m,quantity:i[m]||0,onChange:p=>c(m,p),type:"coin",onEnterPress:()=>h(m),inputRef:l.current[m]},m))})]})]}),N.jsx("div",{className:"mt-6 p-6 bg-gray-900 rounded-lg text-white",children:N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsx("span",{className:"text-lg font-medium text-gray-200",children:"Total:"}),N.jsx("span",{className:"text-3xl font-bold",children:er(o)})]})}),N.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[N.jsx("button",{type:"button",onClick:f,className:"btn bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Limpiar"}),N.jsx("button",{type:"button",onClick:e,className:"btn bg-gray-800 text-white hover:bg-gray-900",children:"Cancelar"}),N.jsx("button",{type:"button",onClick:()=>n(o),className:"btn bg-green-600 text-white hover:bg-green-700","data-confirm-button":!0,children:"Confirmar"})]})]})]})]})}):null}function N_({account:t,value:e,previousBalance:n,onChange:r,disabled:i}){const[s,o]=me.useState(!1),a=c=>{const f=c.target.value;(f===""||parseFloat(f)>=0)&&r(f)},l=()=>t.type==="efectivo"?N.jsx(FS,{className:"h-5 w-5 text-green-500"}):N.jsx(Q2,{className:"h-5 w-5 text-purple-500"});return N.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm hover:border-gray-300 transition-colors",children:[N.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:N.jsxs("div",{className:"flex-1",children:[N.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[l(),N.jsx("label",{className:"text-sm font-medium text-gray-700",children:t.name})]}),N.jsxs("span",{className:`text-sm ${n>=0?"text-green-600":"text-red-600"}`,children:["(Saldo anterior: $",n.toLocaleString("es-AR"),")"]})]}),N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:N.jsx("span",{className:"text-gray-500",children:"$"})}),N.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Ingrese el saldo inicial",value:e,onChange:a,className:"input pl-8 pr-12 w-full",required:!0,disabled:i}),t.type==="efectivo"&&N.jsx("button",{type:"button",onClick:()=>o(!0),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",disabled:i,children:N.jsx(TS,{className:"h-5 w-5"})})]})]})}),N.jsx(QS,{isOpen:s,onClose:()=>o(!1),onConfirm:c=>{r(c.toString()),o(!1)},initialAmount:e?parseFloat(e):void 0})]})}function dj({date:t,onDateChange:e,isSubmitting:n,lastClosureDate:r}){const s=(()=>{if(r)return lj(r)})(),o=Z2();return N.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha del Cierre"}),N.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[N.jsxs("div",{className:"relative flex-1 w-full",children:[N.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:N.jsx(LS,{className:"h-5 w-5 text-gray-400"})}),N.jsx("input",{type:"date",value:t,onChange:a=>e(a.target.value),className:"input pl-10 w-full",required:!0,disabled:n,min:s,max:o})]}),r&&N.jsxs("div",{className:"text-sm text-gray-500 bg-white px-3 py-2 rounded-md border border-gray-200",children:[N.jsx("span",{className:"font-medium",children:"ltimo cierre:"})," ",ym(r)]})]}),s&&t<s&&N.jsx("p",{className:"mt-2 text-sm text-red-600",children:"La fecha debe ser posterior al ltimo cierre"}),t>o&&N.jsx("p",{className:"mt-2 text-sm text-red-600",children:"La fecha no puede ser posterior a hoy"})]})}function hj({date:t,onDateChange:e,accounts:n,selectedAccounts:r,onAccountChange:i,isSubmitting:s,lastClosureDate:o,previousBalances:a}){const l=r.reduce((h,m)=>{const p=parseFloat(m.initialBalance)||0;return h+p},0),c=n.filter(h=>h.type==="efectivo"),f=n.filter(h=>h.type==="banco");return N.jsxs("div",{className:"space-y-6",children:[N.jsx(dj,{date:t,onDateChange:e,isSubmitting:s,lastClosureDate:o}),N.jsxs("div",{children:[N.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[N.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Saldos Iniciales"}),N.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm",children:[N.jsx("span",{className:"text-sm text-gray-500",children:"Balance Total:"})," ",N.jsxs("span",{className:`font-medium ${l>=0?"text-green-600":"text-red-600"}`,children:["$",l.toLocaleString("es-AR")]})]})]}),N.jsxs("div",{className:"space-y-6",children:[c.length>0&&N.jsxs("div",{children:[N.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-3",children:"Efectivo"}),N.jsx("div",{className:"space-y-3",children:c.map((h,m)=>{var p;return N.jsx(N_,{account:h,value:((p=r[m])==null?void 0:p.initialBalance)||"",previousBalance:a[h.id]||0,onChange:b=>i(m,"initialBalance",b),disabled:s},h.id)})})]}),f.length>0&&N.jsxs("div",{children:[N.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-3",children:"Banco"}),N.jsx("div",{className:"space-y-3",children:f.map((h,m)=>{var p;return N.jsx(N_,{account:h,value:((p=r[c.length+m])==null?void 0:p.initialBalance)||"",previousBalance:a[h.id]||0,onChange:b=>i(c.length+m,"initialBalance",b),disabled:s},h.id)})})]})]})]})]})}const fj=({isOpen:t,onClose:e})=>{const{currentUser:n}=Au(),{accounts:r,loading:i,error:s}=ey(),[o,a]=me.useState(Z2()),[l,c]=me.useState([]),[f,h]=me.useState(!1),[m,p]=me.useState(null),[b,S]=me.useState({});me.useEffect(()=>{s&&zt.error(s)},[s]),me.useEffect(()=>{!n||!r||(c(r.map(E=>({accountId:E.id,initialBalance:""}))),C())},[n,r]);const C=async()=>{if(n)try{const E=br(xr,"closures"),O=D1(E,R1("userId"),O1(n.uid)),F=await L1(O);if(F.exists()){const I=Object.values(F.val()).sort((W,H)=>new Date(H.date).getTime()-new Date(W.date).getTime());if(I.length>0){const W=I[0];p(W.date);const H={};W.accounts.forEach(P=>{H[P.id]=P.currentBalance}),S(H),c(r.map(P=>{var k;return{accountId:P.id,initialBalance:((k=H[P.id])==null?void 0:k.toString())||""}}))}}}catch(E){console.error("Error loading last closure:",E),zt.error("Error al cargar el ltimo cierre")}},w=(E,O,F)=>{c(l.map((R,I)=>I===E?{...R,[O]:F}:R))},y=async E=>{if(!n)return!1;try{const O=br(xr,"closures"),F=x_(E),R=D1(O,R1("userId"),O1(n.uid)),I=await L1(R);return I.exists()?Object.values(I.val()).some(H=>H.date===F):!1}catch(O){throw console.error("Error checking date:",O),new Error("Error al verificar la fecha")}},_=async E=>{if(E.preventDefault(),!n){zt.error("Usuario no autenticado");return}h(!0);try{if(!o)throw new Error("La fecha es requerida");if(m&&o<=m)throw new Error("La fecha debe ser posterior al ltimo cierre");if(await y(o))throw new Error("Ya existe un cierre para la fecha seleccionada");if(l.some(H=>!H.accountId||H.initialBalance===""))throw new Error("Por favor complete todos los saldos iniciales");const F=l.map(H=>{const P=r.find(V=>V.id===H.accountId);if(!P)throw new Error("Cuenta no encontrada");const k=parseFloat(H.initialBalance);if(isNaN(k))throw new Error("El saldo inicial debe ser un nmero vlido");if(k<0)throw new Error("Los saldos iniciales no pueden ser negativos");return{id:H.accountId,name:P.name,type:P.type,initialBalance:k,currentBalance:k}}),R=F.reduce((H,P)=>H+P.initialBalance,0),W={date:x_(o),status:"open",accounts:F,transactions:[],observations:"",userId:n.uid,finalBalance:R,createdAt:Pp(),updatedAt:Pp()};await oR(br(xr,"closures"),W),zt.success("Cierre diario creado exitosamente"),e()}catch(O){console.error("Error al crear el cierre:",O),zt.error(O instanceof Error?O.message:"Error al crear el cierre diario")}finally{h(!1)}};return t?i?N.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"}),N.jsx("div",{className:"relative bg-white rounded-lg p-6",children:N.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):N.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:N.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:e}),N.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[N.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Nuevo Cierre Diario"}),N.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",disabled:f,children:N.jsx(ts,{className:"h-6 w-6"})})]}),N.jsxs("form",{onSubmit:_,className:"p-6",children:[N.jsx(hj,{date:o,onDateChange:a,accounts:r,selectedAccounts:l,onAccountChange:w,isSubmitting:f,lastClosureDate:m,previousBalances:b}),N.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[N.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary",disabled:f,children:"Cancelar"}),N.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creando..."]}):"Crear Cierre"})]})]})]})]})}):null};function pj({concept:t,accountId:e,amount:n}){if(!t)return"El concepto es requerido";if(!e)return"La cuenta es requerida";if(n==null)return"El monto es requerido";if(n===0)return"El monto debe ser diferente de cero";const r=Object.values(Ma).find(i=>i.name===t);return r?r.type==="ingreso"&&n<0?"El monto debe ser positivo para ingresos":r.type==="egreso"&&n>0?"El monto debe ser negativo para egresos":null:"Concepto invlido"}function mj(t){var n;const e=Object.values(Ma).find(r=>r.name===t);return((n=e==null?void 0:e.states[0])==null?void 0:n.name)||""}function gj(t,e){return e==="ingreso"?Math.abs(t):e==="egreso"?-Math.abs(t):t}function vj(){const[t,e]=me.useState(!1);return{addTransaction:async({closureId:r,transaction:i,accounts:s,currentTransactions:o})=>{if(!i.concept||!i.accountId)throw new Error("Datos de transaccin incompletos");const a=pj({concept:i.concept,accountId:i.accountId,amount:i.amount});if(a)throw new Error(a);e(!0);try{const l=Object.values(Ma).find(b=>b.name===i.concept);if(!l)throw new Error("Concepto no encontrado");const c=gj(i.amount||0,l.type),f={id:Date.now().toString(),concept:i.concept,description:i.description||"",amount:c,status:mj(i.concept),accountId:i.accountId,timestamp:Date.now(),paymentType:i.paymentType||"efectivo"},h=s.map(b=>b.id===i.accountId?{...b,currentBalance:b.currentBalance+c}:b),m=[...o,f],p=h.reduce((b,S)=>b+S.currentBalance,0);return await ql(br(xr,`closures/${r}`),{accounts:h,transactions:m,finalBalance:p,updatedAt:Pp()}),{transaction:f,accounts:h,finalBalance:p}}finally{e(!1)}},isSubmitting:t}}function yj({isOpen:t,onClose:e,onConfirm:n,isLoading:r}){return t?N.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:N.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:e}),N.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[N.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Eliminar Cierre"}),N.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:N.jsx(ts,{className:"h-6 w-6"})})]}),N.jsxs("div",{className:"p-6",children:[N.jsx("p",{className:"text-gray-700 mb-6",children:"Est seguro que desea eliminar este cierre diario? Esta accin no se puede deshacer."}),N.jsxs("div",{className:"flex justify-end gap-3",children:[N.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary",disabled:r,children:"Cancelar"}),N.jsx("button",{type:"button",onClick:n,className:"btn bg-red-600 text-white hover:bg-red-700",disabled:r,children:r?N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Eliminando..."]}):"Eliminar"})]})]})]})]})}):null}function wj({isOpen:t,onClose:e,onConfirm:n,isLoading:r}){return t?N.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:N.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:e}),N.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[N.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Eliminar Movimiento"}),N.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",disabled:r,children:N.jsx(ts,{className:"h-6 w-6"})})]}),N.jsxs("div",{className:"p-6",children:[N.jsx("p",{className:"text-gray-700 mb-6",children:"Est seguro que desea eliminar este movimiento? Esta accin no se puede deshacer."}),N.jsxs("div",{className:"flex justify-end gap-3",children:[N.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary",disabled:r,children:"Cancelar"}),N.jsx("button",{type:"button",onClick:n,className:"btn bg-red-600 text-white hover:bg-red-700",disabled:r,children:r?N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Eliminando..."]}):"Eliminar"})]})]})]})]})}):null}function _j({accounts:t,finalBalance:e}){return N.jsx("div",{className:"overflow-x-auto",children:N.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cuenta"}),N.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Saldo Inicial"}),N.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Saldo Actual"})]})}),N.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[t.map(n=>N.jsxs("tr",{children:[N.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.name}),N.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:["$",n.initialBalance.toLocaleString("es-AR")]}),N.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:["$",n.currentBalance.toLocaleString("es-AR")]})]},n.id)),N.jsxs("tr",{className:"bg-gray-50 font-medium",children:[N.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Total"}),N.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:["$",t.reduce((n,r)=>n+r.initialBalance,0).toLocaleString("es-AR")]}),N.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:["$",e.toLocaleString("es-AR")]})]})]})]})})}function bj(){const[t,e]=me.useState([]),[n,r]=me.useState(!0),{currentUser:i}=Au();return me.useEffect(()=>{if(!i)return;(async()=>{try{const l=br(xr,`users/${i.uid}/transactionTags`),c=await L1(l);c.exists()&&e(c.val())}catch(l){console.error("Error loading tags:",l)}finally{r(!1)}})()},[i]),{tags:t,loading:n,addTag:async a=>{if(!i||t.includes(a))return;const l=[...t,a];try{await Ap(br(xr,`users/${i.uid}/transactionTags`),l),e(l)}catch(c){console.error("Error adding tag:",c)}},addTags:async a=>{if(!i)return;const l=[...new Set([...t,...a])];try{await Ap(br(xr,`users/${i.uid}/transactionTags`),l),e(l)}catch(c){console.error("Error adding tags:",c)}}}}function xj({tags:t,suggestions:e,onTagsChange:n,disabled:r=!1,placeholder:i="Presione Enter para agregar una etiqueta"}){const[s,o]=me.useState(""),[a,l]=me.useState(!1),[c,f]=me.useState([]),h=me.useRef(null),m=me.useRef(null);me.useEffect(()=>{const C=w=>{m.current&&!m.current.contains(w.target)&&l(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),me.useEffect(()=>{if(s){const C=e.filter(w=>w.toLowerCase().includes(s.toLowerCase())&&!t.includes(w));f(C),l(C.length>0)}else l(!1)},[s,e,t]);const p=C=>{const w=C.trim();w&&!t.includes(w)&&n([...t,w]),o(""),l(!1)},b=C=>{n(t.filter(w=>w!==C))},S=C=>{C.key==="Enter"&&s?(C.preventDefault(),p(s)):C.key==="Backspace"&&!s&&t.length>0&&b(t[t.length-1])};return N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"min-h-[42px] w-full px-3 py-2 border border-gray-300 rounded-md focus-within:ring-1 focus-within:ring-blue-500 focus-within:border-blue-500 bg-white",children:N.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.map((C,w)=>N.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[C,!r&&N.jsx("button",{type:"button",onClick:()=>b(C),className:"ml-1 inline-flex items-center p-0.5 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500",children:N.jsx(ts,{className:"h-3 w-3"})})]},w)),N.jsx("input",{ref:h,type:"text",value:s,onChange:C=>o(C.target.value),onKeyDown:S,onFocus:()=>l(c.length>0),className:"flex-1 outline-none min-w-[120px] bg-transparent",placeholder:t.length===0?i:"",disabled:r})]})}),a&&!r&&N.jsx("div",{ref:m,className:"absolute z-10 mt-1 w-full bg-white rounded-md shadow-lg border border-gray-200",children:N.jsx("ul",{className:"max-h-60 overflow-auto py-1",children:c.map((C,w)=>N.jsx("li",{onClick:()=>p(C),className:"px-3 py-2 hover:bg-gray-100 cursor-pointer text-sm",children:C},w))})})]})}function Sj({transaction:t,onUpdate:e,onSubmit:n,onCancel:r,isSubmitting:i,isEditing:s,accounts:o}){const{concepts:a}=ey(),{tags:l,addTags:c}=bj(),[f,h]=iv.useState(!1);a==null||a.find(_=>_.name===t.concept);const m=o.find(_=>_.id===t.accountId),p=t.concept&&t.accountId&&t.amount!==void 0&&t.amount!==null&&t.amount!==0,b=()=>{t.amount!==void 0&&t.amount!==null&&e({...t,amount:-t.amount})},S=_=>{Object.values(Ma).find(O=>O.name===_)&&e({...t,concept:_,amount:void 0})},C=_=>{const E=_===""?void 0:parseFloat(_),O=Object.values(Ma).find(F=>F.name===t.concept);if(O&&E!==void 0){const F=O.type==="egreso"?-Math.abs(E):Math.abs(E);e({...t,amount:F})}else e({...t,amount:E})},w=_=>{e({...t,description:_.join(", ")}),c(_)},y=t.description?t.description.split(",").map(_=>_.trim()).filter(Boolean):[];return N.jsxs("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg",children:[N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsx("h4",{className:"text-lg font-medium text-gray-900",children:s?"Editar Movimiento":"Nuevo Movimiento"}),N.jsxs("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:[N.jsx("span",{className:"sr-only",children:"Cerrar"}),""]})]}),N.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[N.jsxs("select",{value:t.concept||"",onChange:_=>S(_.target.value),className:"input",disabled:i,children:[N.jsx("option",{value:"",children:"Seleccionar concepto"}),a==null?void 0:a.map(_=>N.jsx("option",{value:_.name,children:_.name},_.id))]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),N.jsx(xj,{tags:y,suggestions:l,onTagsChange:w,disabled:i,placeholder:"Agregar etiquetas (presione Enter para agregar)"})]}),N.jsxs("select",{value:t.accountId||"",onChange:_=>e({...t,accountId:_.target.value}),className:"input",disabled:i,children:[N.jsx("option",{value:"",children:"Seleccionar cuenta"}),o.map(_=>N.jsx("option",{value:_.id,children:_.name},_.id))]}),N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:N.jsx("button",{type:"button",onClick:b,className:`${t.amount&&t.amount<0?"text-red-500 hover:text-red-700":"text-green-500 hover:text-green-700"}`,disabled:i||t.amount===void 0||t.amount===null,title:t.amount&&t.amount<0?"Cambiar a positivo":"Cambiar a negativo",children:t.amount&&t.amount<0?N.jsx(BR,{className:"h-5 w-5"}):N.jsx(zR,{className:"h-5 w-5"})})}),N.jsx("input",{type:"number",step:"0.01",placeholder:"Monto",value:t.amount!==void 0?Math.abs(t.amount).toString():"",onChange:_=>C(_.target.value),className:"input pl-12 pr-12",disabled:i}),(m==null?void 0:m.type)==="efectivo"&&N.jsx("button",{type:"button",onClick:()=>h(!0),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",disabled:i,children:N.jsx(TS,{className:"h-5 w-5"})})]})]}),N.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[N.jsx("button",{onClick:r,className:"btn btn-secondary",disabled:i,children:"Cancelar"}),N.jsx("button",{onClick:n,className:"btn btn-primary",disabled:i||!p,children:i?"Guardando...":s?"Actualizar":"Guardar"})]}),N.jsx(QS,{isOpen:f,onClose:()=>h(!1),onConfirm:_=>{C(_.toString()),h(!1)},initialAmount:t.amount!==void 0?Math.abs(t.amount):void 0})]})}function Nj({isOpen:t,onClose:e,status:n,description:r}){return t?N.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:N.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:e}),N.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-lg w-full",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[N.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Estado: ",n]}),N.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:N.jsx(ts,{className:"h-6 w-6"})})]}),N.jsx("div",{className:"p-6",children:N.jsx("p",{className:"text-gray-700 text-base leading-relaxed",children:r})})]})]})}):null}function Cj({isOpen:t,onClose:e,onConfirm:n,currentStatus:r,nextStatus:i,isLoading:s}){return t?N.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:N.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:e}),N.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[N.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Cambiar Estado"}),N.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",disabled:s,children:N.jsx(ts,{className:"h-6 w-6"})})]}),N.jsxs("div",{className:"p-6",children:[N.jsxs("p",{className:"text-gray-700 mb-6",children:['Est seguro que desea cambiar el estado del movimiento de "',r,'" a "',i,'"?']}),N.jsxs("div",{className:"flex justify-end gap-3",children:[N.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary",disabled:s,children:"Cancelar"}),N.jsx("button",{type:"button",onClick:n,className:"btn btn-primary",disabled:s,children:s?N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cambiando..."]}):"Confirmar"})]})]})]})]})}):null}function Ej({transactions:t=[],accounts:e,concepts:n,isClosureOpen:r,isSubmitting:i,onStatusUpdate:s,onEdit:o,onDelete:a}){const[l,c]=me.useState(null),[f,h]=me.useState(null),m=(y,_)=>{const E=y.states.find(F=>F.name===_);if(!E)return"";const O=y.states[y.states.indexOf(E)+1];return E.isFinal?"Este movimiento est finalizado y no puede cambiar de estado":`Click para cambiar a "${O==null?void 0:O.name}"`},p=y=>{const _=Object.values(Pn).find(E=>E.name===y);return(_==null?void 0:_.description)||"Estado del movimiento"},b=y=>{const _=p(y);c({name:y,description:_})},S=y=>{if(!s)return;const _=n.find(F=>F.name===y.concept);if(!_)return;const E=_.states.find(F=>F.name===y.status);!E||!_.states[_.states.indexOf(E)+1]||h(y)},C=()=>{f&&s&&(s(f),h(null))},w=y=>{if(!y)return"";const _=n.find(F=>F.name===y.concept);if(!_)return"";const E=_.states.find(F=>F.name===y.status);if(!E)return"";const O=_.states[_.states.indexOf(E)+1];return(O==null?void 0:O.name)||""};return t.length?N.jsxs("div",{className:"overflow-x-auto -mx-6 lg:mx-0",children:[N.jsx("div",{className:"inline-block min-w-full align-middle",children:N.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg",children:N.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[N.jsx("thead",{className:"bg-gray-50",children:N.jsxs("tr",{children:[N.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sm:pl-6",children:"Fecha"}),N.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Concepto"}),N.jsx("th",{scope:"col",className:"hidden md:table-cell px-3 py-3.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripcin"}),N.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cuenta"}),N.jsx("th",{scope:"col",className:"px-3 py-3.5 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),N.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),r&&N.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:N.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),N.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(y=>{var R;const _=n==null?void 0:n.find(I=>I.name===y.concept),E=_==null?void 0:_.states.find(I=>I.name===y.status),O=E&&(_==null?void 0:_.states.indexOf(E))===_.states.length-1,F=y.paymentType==="transferencia";return N.jsxs("tr",{className:"hover:bg-gray-50",children:[N.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-900 sm:pl-6",children:X2(y.timestamp)}),N.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:y.concept}),N.jsx("td",{className:"hidden md:table-cell px-3 py-4 text-sm text-gray-500 max-w-xs truncate",children:y.description}),N.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:(R=e.find(I=>I.id===y.accountId))==null?void 0:R.name}),N.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-right font-medium",children:N.jsx("span",{className:y.amount>=0?"text-green-600":"text-red-600",children:er(Math.abs(y.amount))})}),N.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:N.jsxs("div",{className:"inline-flex items-center",children:[r&&!O&&!F?N.jsxs("button",{onClick:()=>S(y),className:"inline-flex items-center text-orange-600 hover:text-orange-800",disabled:i,title:_?m(_,y.status):"",children:[N.jsx(u_,{className:"h-4 w-4 mr-1"}),y.status]}):N.jsxs("span",{className:`inline-flex items-center ${O||F?"text-green-600":"text-orange-600"}`,children:[O||F?N.jsx(RR,{className:"h-4 w-4 mr-1"}):N.jsx(u_,{className:"h-4 w-4 mr-1"}),y.status]}),N.jsx("button",{onClick:()=>b(y.status),className:"ml-1 text-gray-400 hover:text-gray-600",children:N.jsx(jR,{className:"h-4 w-4"})})]})}),r&&N.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:N.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[!O&&!F&&o&&N.jsx("button",{onClick:()=>o(y),className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",disabled:i,title:"Editar movimiento",children:N.jsx(UR,{className:"h-4 w-4"})}),N.jsx("button",{onClick:()=>a(y.id),className:"text-gray-600 hover:text-red-600 transition-colors duration-200",disabled:i,title:"Eliminar movimiento",children:N.jsx(MS,{className:"h-4 w-4"})})]})})]},`${y.id}-${y.timestamp}`)})})]})})}),N.jsx(Nj,{isOpen:!!l,onClose:()=>c(null),status:(l==null?void 0:l.name)||"",description:(l==null?void 0:l.description)||""}),N.jsx(Cj,{isOpen:!!f,onClose:()=>h(null),onConfirm:C,currentStatus:(f==null?void 0:f.status)||"",nextStatus:w(f),isLoading:i})]}):N.jsx("div",{className:"text-center py-8 bg-white rounded-lg shadow",children:N.jsx("p",{className:"text-gray-500",children:"No hay movimientos registrados"})})}function kj({accounts:t,transactions:e=[],finalBalance:n}){const{cashTotal:r,bankTotal:i}=me.useMemo(()=>(new Map(t.map(o=>[o.id,o.type])),t.reduce((o,a)=>(a.type==="efectivo"?o.cashTotal+=a.currentBalance:a.type==="banco"&&(o.bankTotal+=a.currentBalance),o),{cashTotal:0,bankTotal:0})),[t]);return N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[N.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[N.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Total Efectivo"}),N.jsx("p",{className:`text-2xl font-semibold ${r>=0?"text-green-600":"text-red-600"}`,children:er(r)})]}),N.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[N.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Total Banco"}),N.jsx("p",{className:`text-2xl font-semibold ${i>=0?"text-green-600":"text-red-600"}`,children:er(i)})]}),N.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[N.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Saldo Final"}),N.jsx("p",{className:`text-2xl font-semibold ${n>=0?"text-green-600":"text-red-600"}`,children:er(n)})]})]})}function Aj({accounts:t,fromAccountId:e,toAccountId:n,amount:r,description:i,isSubmitting:s,onFromAccountChange:o,onToAccountChange:a,onAmountChange:l,onDescriptionChange:c,onSubmit:f,onCancel:h}){const m=t.find(b=>b.id===e),p=(m==null?void 0:m.currentBalance)||0;return N.jsxs("form",{onSubmit:f,className:"space-y-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cuenta Origen"}),N.jsxs("select",{value:e,onChange:b=>o(b.target.value),className:"input",required:!0,disabled:s,children:[N.jsx("option",{value:"",children:"Seleccionar cuenta"}),t.map(b=>N.jsxs("option",{value:b.id,disabled:b.id===n,children:[b.name," (",er(b.currentBalance),")"]},b.id))]})]}),N.jsx("div",{className:"flex justify-center",children:N.jsx(LR,{className:"h-6 w-6 text-gray-400"})}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cuenta Destino"}),N.jsxs("select",{value:n,onChange:b=>a(b.target.value),className:"input",required:!0,disabled:s,children:[N.jsx("option",{value:"",children:"Seleccionar cuenta"}),t.map(b=>N.jsxs("option",{value:b.id,disabled:b.id===e,children:[b.name," (",er(b.currentBalance),")"]},b.id))]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto"}),N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:N.jsx("span",{className:"text-gray-500",children:"$"})}),N.jsx("input",{type:"number",step:"0.01",min:"0.01",max:p,value:r,onChange:b=>l(b.target.value),className:"input pl-8",placeholder:"Ingrese el monto a transferir",required:!0,disabled:s})]}),m&&N.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Saldo disponible: ",er(p)]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin (opcional)"}),N.jsx("input",{type:"text",value:i,onChange:b=>c(b.target.value),className:"input",placeholder:"Agregar una descripcin",disabled:s})]}),N.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[N.jsx("button",{type:"button",onClick:h,className:"btn btn-secondary",disabled:s,children:"Cancelar"}),N.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s||!e||!n||!r||parseFloat(r)<=0||parseFloat(r)>p,children:s?N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Transfiriendo..."]}):"Transferir"})]})]})}function Pj({fromAccount:t,toAccountId:e,amount:n}){return!t||!e?"Por favor seleccione las cuentas de origen y destino":!n||n<=0?"El monto debe ser mayor a cero":t.id===e?"Las cuentas de origen y destino deben ser diferentes":t.currentBalance<n?"Saldo insuficiente en la cuenta de origen":null}function Ij({isOpen:t,onClose:e,accounts:n,onTransfer:r,isSubmitting:i}){const[s,o]=me.useState(""),[a,l]=me.useState(""),[c,f]=me.useState(""),[h,m]=me.useState(""),p=async S=>{S.preventDefault();try{const C=Math.abs(parseFloat(c)),w=n.find(_=>_.id===s),y=Pj({fromAccount:w,toAccountId:a,amount:C});if(y){zt.error(y);return}await r({fromAccountId:s,toAccountId:a,amount:C,description:h.trim()||"Transferencia entre cuentas"}),b(),e()}catch(C){console.error("Error en la transferencia:",C),zt.error("Error al realizar la transferencia")}},b=()=>{o(""),l(""),f(""),m("")};return t?N.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:N.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:e}),N.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[N.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Nueva Transferencia"}),N.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",disabled:i,children:N.jsx(ts,{className:"h-6 w-6"})})]}),N.jsx("div",{className:"p-6",children:N.jsx(Aj,{accounts:n,fromAccountId:s,toAccountId:a,amount:c,description:h,isSubmitting:i,onFromAccountChange:o,onToAccountChange:l,onAmountChange:f,onDescriptionChange:m,onSubmit:p,onCancel:e})})]})]})}):null}function Tj(){const[t,e]=me.useState(!1),n=i=>{const s=i.filter(a=>a.concept.startsWith("Transferencia #"));if(s.length===0)return 1;const o=s.map(a=>{const l=a.concept.match(/Transferencia #(\d+)/);return l?parseInt(l[1],10):0});return Math.max(...o)+1};return{executeTransfer:async({fromAccountId:i,toAccountId:s,amount:o,description:a,closureId:l,accounts:c,transactions:f})=>{e(!0);try{const h=n(f),m=Date.now(),p=`transfer-${h}`,b={id:`${p}-debit`,concept:`Transferencia #${h}`,description:`${a} (Dbito)`,amount:-Math.abs(o),status:Pn.COMPLETED.name,accountId:i,timestamp:m,transferId:p,relatedAccountId:s,paymentType:"transferencia"},S={id:`${p}-credit`,concept:`Transferencia #${h}`,description:`${a} (Crdito)`,amount:Math.abs(o),status:Pn.COMPLETED.name,accountId:s,timestamp:m,transferId:p,relatedAccountId:i,paymentType:"transferencia"},C=c.map(_=>_.id===i?{..._,currentBalance:_.currentBalance-Math.abs(o)}:_.id===s?{..._,currentBalance:_.currentBalance+Math.abs(o)}:_),w=C.reduce((_,E)=>_+E.currentBalance,0),y=[...f,b,S];return await ql(br(xr,`closures/${l}`),{accounts:C,transactions:y,finalBalance:w,updatedAt:Pp()}),{updatedAccounts:C,updatedTransactions:y,finalBalance:w,debitTransaction:b,creditTransaction:S}}finally{e(!1)}},isSubmitting:t}}const Lj="modulepreload",Rj=function(t,e){return new URL(t,e).href},C_={},z1=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=Rj(c,r),c in C_)return;C_[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(!!r)for(let b=o.length-1;b>=0;b--){const S=o[b];if(S.href===c&&(!f||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":Lj,f||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),f)return new Promise((b,S)=>{p.addEventListener("load",b),p.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var tr=Uint8Array,Mr=Uint16Array,ty=Int32Array,wm=new tr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_m=new tr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),W1=new tr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),JS=function(t,e){for(var n=new Mr(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new ty(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},XS=JS(wm,2),ZS=XS.b,H1=XS.r;ZS[28]=258,H1[258]=28;var eN=JS(_m,0),Oj=eN.b,E_=eN.r,q1=new Mr(32768);for(var Wt=0;Wt<32768;++Wt){var no=(Wt&43690)>>1|(Wt&21845)<<1;no=(no&52428)>>2|(no&13107)<<2,no=(no&61680)>>4|(no&3855)<<4,q1[Wt]=((no&65280)>>8|(no&255)<<8)>>1}var Zi=function(t,e,n){for(var r=t.length,i=0,s=new Mr(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Mr(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Mr(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],f=e-t[i],h=o[t[i]-1]++<<f,m=h|(1<<f)-1;h<=m;++h)a[q1[h]>>l]=c}else for(a=new Mr(r),i=0;i<r;++i)t[i]&&(a[i]=q1[o[t[i]-1]++]>>15-t[i]);return a},zo=new tr(288);for(var Wt=0;Wt<144;++Wt)zo[Wt]=8;for(var Wt=144;Wt<256;++Wt)zo[Wt]=9;for(var Wt=256;Wt<280;++Wt)zo[Wt]=7;for(var Wt=280;Wt<288;++Wt)zo[Wt]=8;var Cd=new tr(32);for(var Wt=0;Wt<32;++Wt)Cd[Wt]=5;var Dj=Zi(zo,9,0),jj=Zi(zo,9,1),Mj=Zi(Cd,5,0),Fj=Zi(Cd,5,1),ig=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},gi=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},sg=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},ny=function(t){return(t+7)/8|0},tN=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new tr(t.subarray(e,n))},Bj=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],wi=function(t,e,n){var r=new Error(e||Bj[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,wi),!n)throw r;return r},Uj=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new tr(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new tr(i*3));var c=function(we){var Pe=n.length;if(we>Pe){var Ie=new tr(Math.max(Pe*2,we));Ie.set(n),n=Ie}},f=e.f||0,h=e.p||0,m=e.b||0,p=e.l,b=e.d,S=e.m,C=e.n,w=i*8;do{if(!p){f=gi(t,h,1);var y=gi(t,h+1,3);if(h+=3,y)if(y==1)p=jj,b=Fj,S=9,C=5;else if(y==2){var F=gi(t,h,31)+257,R=gi(t,h+10,15)+4,I=F+gi(t,h+5,31)+1;h+=14;for(var W=new tr(I),H=new tr(19),P=0;P<R;++P)H[W1[P]]=gi(t,h+P*3,7);h+=R*3;for(var k=ig(H),V=(1<<k)-1,Y=Zi(H,k,1),P=0;P<I;){var oe=Y[gi(t,h,V)];h+=oe&15;var _=oe>>4;if(_<16)W[P++]=_;else{var Q=0,G=0;for(_==16?(G=3+gi(t,h,3),h+=2,Q=W[P-1]):_==17?(G=3+gi(t,h,7),h+=3):_==18&&(G=11+gi(t,h,127),h+=7);G--;)W[P++]=Q}}var z=W.subarray(0,F),$=W.subarray(F);S=ig(z),C=ig($),p=Zi(z,S,1),b=Zi($,C,1)}else wi(1);else{var _=ny(h)+4,E=t[_-4]|t[_-3]<<8,O=_+E;if(O>i){l&&wi(0);break}a&&c(m+E),n.set(t.subarray(_,O),m),e.b=m+=E,e.p=h=O*8,e.f=f;continue}if(h>w){l&&wi(0);break}}a&&c(m+131072);for(var te=(1<<S)-1,de=(1<<C)-1,A=h;;A=h){var Q=p[sg(t,h)&te],U=Q>>4;if(h+=Q&15,h>w){l&&wi(0);break}if(Q||wi(2),U<256)n[m++]=U;else if(U==256){A=h,p=null;break}else{var q=U-254;if(U>264){var P=U-257,Z=wm[P];q=gi(t,h,(1<<Z)-1)+ZS[P],h+=Z}var J=b[sg(t,h)&de],se=J>>4;J||wi(3),h+=J&15;var $=Oj[se];if(se>3){var Z=_m[se];$+=sg(t,h)&(1<<Z)-1,h+=Z}if(h>w){l&&wi(0);break}a&&c(m+131072);var ue=m+q;if(m<$){var he=s-$,Ne=Math.min($,ue);for(he+m<0&&wi(3);m<Ne;++m)n[m]=r[he+m]}for(;m<ue;++m)n[m]=n[m-$]}}e.l=p,e.p=A,e.b=m,e.f=f,p&&(f=1,e.m=S,e.d=b,e.n=C)}while(!f);return m!=n.length&&o?tN(n,0,m):n.subarray(0,m)},gs=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},wc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},og=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:rN,l:0};if(i==1){var o=new tr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(O,F){return O.f-F.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,f=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=i-1;)a=n[n[c].f<n[h].f?c++:h++],l=n[c!=f&&n[c].f<n[h].f?c++:h++],n[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var p=new Mr(m+1),b=$1(n[f-1],p,0);if(b>e){var r=0,S=0,C=b-e,w=1<<C;for(s.sort(function(F,R){return p[R.s]-p[F.s]||F.f-R.f});r<i;++r){var y=s[r].s;if(p[y]>e)S+=w-(1<<b-p[y]),p[y]=e;else break}for(S>>=C;S>0;){var _=s[r].s;p[_]<e?S-=1<<e-p[_]++-1:++r}for(;r>=0&&S;--r){var E=s[r].s;p[E]==e&&(--p[E],++S)}b=e}return{t:new tr(p),l:b}},$1=function(t,e,n){return t.s==-1?Math.max($1(t.l,e,n+1),$1(t.r,e,n+1)):e[t.s]=n},k_=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Mr(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},_c=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},nN=function(t,e,n){var r=n.length,i=ny(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},A_=function(t,e,n,r,i,s,o,a,l,c,f){gs(e,f++,n),++i[256];for(var h=og(i,15),m=h.t,p=h.l,b=og(s,15),S=b.t,C=b.l,w=k_(m),y=w.c,_=w.n,E=k_(S),O=E.c,F=E.n,R=new Mr(19),I=0;I<y.length;++I)++R[y[I]&31];for(var I=0;I<O.length;++I)++R[O[I]&31];for(var W=og(R,7),H=W.t,P=W.l,k=19;k>4&&!H[W1[k-1]];--k);var V=c+5<<3,Y=_c(i,zo)+_c(s,Cd)+o,oe=_c(i,m)+_c(s,S)+o+14+3*k+_c(R,H)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&V<=Y&&V<=oe)return nN(e,f,t.subarray(l,l+c));var Q,G,z,$;if(gs(e,f,1+(oe<Y)),f+=2,oe<Y){Q=Zi(m,p,0),G=m,z=Zi(S,C,0),$=S;var te=Zi(H,P,0);gs(e,f,_-257),gs(e,f+5,F-1),gs(e,f+10,k-4),f+=14;for(var I=0;I<k;++I)gs(e,f+3*I,H[W1[I]]);f+=3*k;for(var de=[y,O],A=0;A<2;++A)for(var U=de[A],I=0;I<U.length;++I){var q=U[I]&31;gs(e,f,te[q]),f+=H[q],q>15&&(gs(e,f,U[I]>>5&127),f+=U[I]>>12)}}else Q=Dj,G=zo,z=Mj,$=Cd;for(var I=0;I<a;++I){var Z=r[I];if(Z>255){var q=Z>>18&31;wc(e,f,Q[q+257]),f+=G[q+257],q>7&&(gs(e,f,Z>>23&31),f+=wm[q]);var J=Z&31;wc(e,f,z[J]),f+=$[J],J>3&&(wc(e,f,Z>>5&8191),f+=_m[J])}else wc(e,f,Q[Z]),f+=G[Z]}return wc(e,f,Q[256]),f+G[256]},zj=new ty([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),rN=new tr(0),Wj=function(t,e,n,r,i,s){var o=s.z||t.length,a=new tr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,f=(s.r||0)&7;if(e){f&&(l[0]=s.r>>3);for(var h=zj[e-1],m=h>>13,p=h&8191,b=(1<<n)-1,S=s.p||new Mr(32768),C=s.h||new Mr(b+1),w=Math.ceil(n/3),y=2*w,_=function(Ve){return(t[Ve]^t[Ve+1]<<w^t[Ve+2]<<y)&b},E=new ty(25e3),O=new Mr(288),F=new Mr(32),R=0,I=0,W=s.i||0,H=0,P=s.w||0,k=0;W+2<o;++W){var V=_(W),Y=W&32767,oe=C[V];if(S[Y]=oe,C[V]=Y,P<=W){var Q=o-W;if((R>7e3||H>24576)&&(Q>423||!c)){f=A_(t,l,0,E,O,F,I,H,k,W-k,f),H=R=I=0,k=W;for(var G=0;G<286;++G)O[G]=0;for(var G=0;G<30;++G)F[G]=0}var z=2,$=0,te=p,de=Y-oe&32767;if(Q>2&&V==_(W-de))for(var A=Math.min(m,Q)-1,U=Math.min(32767,W),q=Math.min(258,Q);de<=U&&--te&&Y!=oe;){if(t[W+z]==t[W+z-de]){for(var Z=0;Z<q&&t[W+Z]==t[W+Z-de];++Z);if(Z>z){if(z=Z,$=de,Z>A)break;for(var J=Math.min(de,Z-2),se=0,G=0;G<J;++G){var ue=W-de+G&32767,he=S[ue],Ne=ue-he&32767;Ne>se&&(se=Ne,oe=ue)}}}Y=oe,oe=S[Y],de+=Y-oe&32767}if($){E[H++]=268435456|H1[z]<<18|E_[$];var we=H1[z]&31,Pe=E_[$]&31;I+=wm[we]+_m[Pe],++O[257+we],++F[Pe],P=W+z,++R}else E[H++]=t[W],++O[t[W]]}}for(W=Math.max(W,P);W<o;++W)E[H++]=t[W],++O[t[W]];f=A_(t,l,c,E,O,F,I,H,k,W-k,f),c||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=C,s.p=S,s.i=W,s.w=P)}else{for(var W=s.w||0;W<o+c;W+=65535){var Ie=W+65535;Ie>=o&&(l[f/8|0]=c,Ie=o),f=nN(l,f+1,t.subarray(W,Ie))}s.i=o}return tN(a,0,r+ny(f)+i)},iN=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Hj=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new tr(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return Wj(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},sN=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},qj=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=iN();i.p(e.dictionary),sN(t,2,i.d())}},$j=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&wi(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&wi(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function V1(t,e){e||(e={});var n=iN();n.p(t);var r=Hj(t,e,e.dictionary?6:2,4);return qj(r,e),sN(r,r.length-4,n.d()),r}function Vj(t,e){return Uj(t.subarray($j(t,e),-4),{i:2},e,e)}var Yj=typeof TextDecoder<"u"&&new TextDecoder,Gj=0;try{Yj.decode(rN,{stream:!0}),Gj=1}catch{}var Ge=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function ag(){Ge.console&&typeof Ge.console.log=="function"&&Ge.console.log.apply(Ge.console,arguments)}var Ot={log:ag,warn:function(t){Ge.console&&(typeof Ge.console.warn=="function"?Ge.console.warn.apply(Ge.console,arguments):ag.call(null,arguments))},error:function(t){Ge.console&&(typeof Ge.console.error=="function"?Ge.console.error.apply(Ge.console,arguments):ag(t))}};function lg(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){fa(r.response,e,n)},r.onerror=function(){Ot.error("could not download file")},r.send()}function P_(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function lf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Wc,Y1,fa=Ge.saveAs||((typeof window>"u"?"undefined":bt(window))!=="object"||window!==Ge?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Ge.URL||Ge.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?P_(i.href)?lg(t,e,n):lf(i,i.target="_blank"):lf(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){lf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(P_(t))lg(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){lf(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:bt(s)!=="object"&&(Ot.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return lg(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Ge.HTMLElement)||Ge.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":bt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(t)}else{var l=Ge.URL||Ge.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function oN(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ug(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Kn(n,r,i,s,e[0],7,-680876936),s=Kn(s,n,r,i,e[1],12,-389564586),i=Kn(i,s,n,r,e[2],17,606105819),r=Kn(r,i,s,n,e[3],22,-1044525330),n=Kn(n,r,i,s,e[4],7,-176418897),s=Kn(s,n,r,i,e[5],12,1200080426),i=Kn(i,s,n,r,e[6],17,-1473231341),r=Kn(r,i,s,n,e[7],22,-45705983),n=Kn(n,r,i,s,e[8],7,1770035416),s=Kn(s,n,r,i,e[9],12,-1958414417),i=Kn(i,s,n,r,e[10],17,-42063),r=Kn(r,i,s,n,e[11],22,-1990404162),n=Kn(n,r,i,s,e[12],7,1804603682),s=Kn(s,n,r,i,e[13],12,-40341101),i=Kn(i,s,n,r,e[14],17,-1502002290),n=Qn(n,r=Kn(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Qn(s,n,r,i,e[6],9,-1069501632),i=Qn(i,s,n,r,e[11],14,643717713),r=Qn(r,i,s,n,e[0],20,-373897302),n=Qn(n,r,i,s,e[5],5,-701558691),s=Qn(s,n,r,i,e[10],9,38016083),i=Qn(i,s,n,r,e[15],14,-660478335),r=Qn(r,i,s,n,e[4],20,-405537848),n=Qn(n,r,i,s,e[9],5,568446438),s=Qn(s,n,r,i,e[14],9,-1019803690),i=Qn(i,s,n,r,e[3],14,-187363961),r=Qn(r,i,s,n,e[8],20,1163531501),n=Qn(n,r,i,s,e[13],5,-1444681467),s=Qn(s,n,r,i,e[2],9,-51403784),i=Qn(i,s,n,r,e[7],14,1735328473),n=Jn(n,r=Qn(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Jn(s,n,r,i,e[8],11,-2022574463),i=Jn(i,s,n,r,e[11],16,1839030562),r=Jn(r,i,s,n,e[14],23,-35309556),n=Jn(n,r,i,s,e[1],4,-1530992060),s=Jn(s,n,r,i,e[4],11,1272893353),i=Jn(i,s,n,r,e[7],16,-155497632),r=Jn(r,i,s,n,e[10],23,-1094730640),n=Jn(n,r,i,s,e[13],4,681279174),s=Jn(s,n,r,i,e[0],11,-358537222),i=Jn(i,s,n,r,e[3],16,-722521979),r=Jn(r,i,s,n,e[6],23,76029189),n=Jn(n,r,i,s,e[9],4,-640364487),s=Jn(s,n,r,i,e[12],11,-421815835),i=Jn(i,s,n,r,e[15],16,530742520),n=Xn(n,r=Jn(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Xn(s,n,r,i,e[7],10,1126891415),i=Xn(i,s,n,r,e[14],15,-1416354905),r=Xn(r,i,s,n,e[5],21,-57434055),n=Xn(n,r,i,s,e[12],6,1700485571),s=Xn(s,n,r,i,e[3],10,-1894986606),i=Xn(i,s,n,r,e[10],15,-1051523),r=Xn(r,i,s,n,e[1],21,-2054922799),n=Xn(n,r,i,s,e[8],6,1873313359),s=Xn(s,n,r,i,e[15],10,-30611744),i=Xn(i,s,n,r,e[6],15,-1560198380),r=Xn(r,i,s,n,e[13],21,1309151649),n=Xn(n,r,i,s,e[4],6,-145523070),s=Xn(s,n,r,i,e[11],10,-1120210379),i=Xn(i,s,n,r,e[2],15,718787259),r=Xn(r,i,s,n,e[9],21,-343485551),t[0]=wo(n,t[0]),t[1]=wo(r,t[1]),t[2]=wo(i,t[2]),t[3]=wo(s,t[3])}function bm(t,e,n,r,i,s){return e=wo(wo(e,t),wo(r,s)),wo(e<<i|e>>>32-i,n)}function Kn(t,e,n,r,i,s,o){return bm(e&n|~e&r,t,e,i,s,o)}function Qn(t,e,n,r,i,s,o){return bm(e&r|n&~r,t,e,i,s,o)}function Jn(t,e,n,r,i,s,o){return bm(e^n^r,t,e,i,s,o)}function Xn(t,e,n,r,i,s,o){return bm(n^(e|~r),t,e,i,s,o)}function aN(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)ug(r,Kj(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(ug(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,ug(r,i),r}function Kj(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Wc=Ge.atob.bind(Ge),Y1=Ge.btoa.bind(Ge);var I_="0123456789abcdef".split("");function Qj(t){for(var e="",n=0;n<4;n++)e+=I_[t>>8*n+4&15]+I_[t>>8*n&15];return e}function Jj(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function G1(t){return aN(t).map(Jj).join("")}var Xj=function(t){for(var e=0;e<t.length;e++)t[e]=Qj(t[e]);return t.join("")}(aN("hello"))!="5d41402abc4b2a76b9719d911017c592";function wo(t,e){if(Xj){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function K1(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var f=a[l];c=(c+f+o.charCodeAt(l))%256,a[l]=a[c],a[c]=f}n=t,r=a}else a=r;var h=e.length,m=0,p=0,b="";for(l=0;l<h;l++)p=(p+(f=a[m=(m+1)%256]))%256,a[m]=a[p],a[p]=f,o=a[(a[m]+a[p])%256],b+=String.fromCharCode(e.charCodeAt(l)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var T_={print:4,modify:8,copy:16,"annot-forms":32};function Al(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(T_.perm!==void 0)throw new Error("Invalid permission: "+a);i+=T_[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=G1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=K1(this.encryptionKey,this.padding)}function Pl(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function L_(t){if(bt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){Ge.console&&Ot.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ed(t){if(!(this instanceof Ed))return new Ed(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function lN(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function po(t,e,n,r,i){if(!(this instanceof po))return new po(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,lN.call(this,r,i)}function ya(t,e,n,r,i){if(!(this instanceof ya))return new ya(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,lN.call(this,r,i)}function $e(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",f=null;bt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=L_;var b="1.3",S=p.__private__.getPdfVersion=function(){return b};p.__private__.setPdfVersion=function(g){b=g};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return C};var w=p.__private__.getPageFormat=function(g){return C[g]};i=i||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},_=y.COMPAT;function E(){this.saveGraphicsState(),ee(new Ye(je,0,0,-je,0,zs()*je).toString()+" cm"),this.setFontSize(this.getFontSize()/je),c="n",_=y.ADVANCED}function O(){this.restoreGraphicsState(),c="S",_=y.COMPAT}var F=p.__private__.combineFontStyleAndFontWeight=function(g,L){if(g=="bold"&&L=="normal"||g=="bold"&&L==400||g=="normal"&&L=="italic"||g=="bold"&&L=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return L&&(g=L==400||L==="normal"?g==="italic"?"italic":"normal":L!=700&&L!=="bold"||g!=="normal"?(L==700?"bold":L)+""+g:"bold"),g};p.advancedAPI=function(g){var L=_===y.COMPAT;return L&&E.call(this),typeof g!="function"||(g(this),L&&O.call(this)),this},p.compatAPI=function(g){var L=_===y.ADVANCED;return L&&O.call(this),typeof g!="function"||(g(this),L&&E.call(this)),this},p.isAdvancedAPI=function(){return _===y.ADVANCED};var R,I=function(g){if(_!==y.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=p.roundToPrecision=p.__private__.roundToPrecision=function(g,L){var X=e||L;if(isNaN(g)||isNaN(X))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(X).replace(/0+$/,"")};R=p.hpf=p.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return W(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return W(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return W(g,16)};var H=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return W(g,2)},P=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return W(g,3)},k=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return _===y.COMPAT?g*je:_===y.ADVANCED?g:void 0},V=function(g){return _===y.COMPAT?zs()-g:_===y.ADVANCED?g:void 0},Y=function(g){return k(V(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var oe,Q="00000000000000000000000000000000",G=p.__private__.getFileId=function(){return Q},z=p.__private__.setFileId=function(g){return Q=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&($n=new Al(f.userPermissions,f.userPassword,f.ownerPassword,Q)),Q};p.setFileId=function(g){return z(g),this},p.getFileId=function(){return G()};var $=p.__private__.convertDateToPDFDate=function(g){var L=g.getTimezoneOffset(),X=L<0?"+":"-",ne=Math.floor(Math.abs(L/60)),ce=Math.abs(L%60),ve=[X,q(ne),"'",q(ce),"'"].join("");return["D:",g.getFullYear(),q(g.getMonth()+1),q(g.getDate()),q(g.getHours()),q(g.getMinutes()),q(g.getSeconds()),ve].join("")},te=p.__private__.convertPDFDateToDate=function(g){var L=parseInt(g.substr(2,4),10),X=parseInt(g.substr(6,2),10)-1,ne=parseInt(g.substr(8,2),10),ce=parseInt(g.substr(10,2),10),ve=parseInt(g.substr(12,2),10),Ce=parseInt(g.substr(14,2),10);return new Date(L,X,ne,ce,ve,Ce,0)},de=p.__private__.setCreationDate=function(g){var L;if(g===void 0&&(g=new Date),g instanceof Date)L=$(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");L=g}return oe=L},A=p.__private__.getCreationDate=function(g){var L=oe;return g==="jsDate"&&(L=te(oe)),L};p.setCreationDate=function(g){return de(g),this},p.getCreationDate=function(g){return A(g)};var U,q=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},Z=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},J=0,se=[],ue=[],he=0,Ne=[],we=[],Pe=!1,Ie=ue,Ve=function(){J=0,he=0,ue=[],se=[],Ne=[],is=fn(),ai=fn()};p.__private__.setCustomOutputDestination=function(g){Pe=!0,Ie=g};var ye=function(g){Pe||(Ie=g)};p.__private__.resetCustomOutputDestination=function(){Pe=!1,Ie=ue};var ee=p.__private__.out=function(g){return g=g.toString(),he+=g.length+1,Ie.push(g),Ie},rt=p.__private__.write=function(g){return ee(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},ze=p.__private__.getArrayBuffer=function(g){for(var L=g.length,X=new ArrayBuffer(L),ne=new Uint8Array(X);L--;)ne[L]=g.charCodeAt(L);return X},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ee};var Te=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return Te=_===y.ADVANCED?g/je:g,this};var De,Oe=p.__private__.getFontSize=p.getFontSize=function(){return _===y.COMPAT?Te:Te*je},We=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return We=g,this},p.__private__.getR2L=p.getR2L=function(){return We};var Ze,ot=p.__private__.setZoomMode=function(g){var L=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))De=g;else if(isNaN(g)){if(L.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');De=g}else De=parseInt(g,10)};p.__private__.getZoomMode=function(){return De};var at,mt=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Ze=g};p.__private__.getPageMode=function(){return Ze};var Pt=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');at=g};p.__private__.getLayoutMode=function(){return at},p.__private__.setDisplayMode=p.setDisplayMode=function(g,L,X){return ot(g),Pt(L),mt(X),this};var Je={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(Je).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Je[g]},p.__private__.getDocumentProperties=function(){return Je},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var L in Je)Je.hasOwnProperty(L)&&g[L]&&(Je[L]=g[L]);return this},p.__private__.setDocumentProperty=function(g,L){if(Object.keys(Je).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Je[g]=L};var dt,je,qn,yt,ii,Lt={},qt={},Li=[],xt={},Ko={},Xt={},si={},rs=null,Zt=0,et=[],St=new L_(p),Qo=t.hotfixes||[],On={},Ri={},Oi=[],Ye=function g(L,X,ne,ce,ve,Ce){if(!(this instanceof g))return new g(L,X,ne,ce,ve,Ce);isNaN(L)&&(L=1),isNaN(X)&&(X=0),isNaN(ne)&&(ne=0),isNaN(ce)&&(ce=1),isNaN(ve)&&(ve=0),isNaN(Ce)&&(Ce=0),this._matrix=[L,X,ne,ce,ve,Ce]};Object.defineProperty(Ye.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Ye.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Ye.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Ye.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Ye.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Ye.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Ye.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Ye.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Ye.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Ye.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Ye.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Ye.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Ye.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ye.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ye.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ye.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ye.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(g)},Ye.prototype.multiply=function(g){var L=g.sx*this.sx+g.shy*this.shx,X=g.sx*this.shy+g.shy*this.sy,ne=g.shx*this.sx+g.sy*this.shx,ce=g.shx*this.shy+g.sy*this.sy,ve=g.tx*this.sx+g.ty*this.shx+this.tx,Ce=g.tx*this.shy+g.ty*this.sy+this.ty;return new Ye(L,X,ne,ce,ve,Ce)},Ye.prototype.decompose=function(){var g=this.sx,L=this.shy,X=this.shx,ne=this.sy,ce=this.tx,ve=this.ty,Ce=Math.sqrt(g*g+L*L),Me=(g/=Ce)*X+(L/=Ce)*ne;X-=g*Me,ne-=L*Me;var He=Math.sqrt(X*X+ne*ne);return Me/=He,g*(ne/=He)<L*(X/=He)&&(g=-g,L=-L,Me=-Me,Ce=-Ce),{scale:new Ye(Ce,0,0,He,0,0),translate:new Ye(1,0,0,1,ce,ve),rotate:new Ye(g,L,-L,g,0,0),skew:new Ye(1,0,Me,1,0,0)}},Ye.prototype.toString=function(g){return this.join(" ")},Ye.prototype.inversed=function(){var g=this.sx,L=this.shy,X=this.shx,ne=this.sy,ce=this.tx,ve=this.ty,Ce=1/(g*ne-L*X),Me=ne*Ce,He=-L*Ce,it=-X*Ce,tt=g*Ce;return new Ye(Me,He,it,tt,-Me*ce-it*ve,-He*ce-tt*ve)},Ye.prototype.applyToPoint=function(g){var L=g.x*this.sx+g.y*this.shx+this.tx,X=g.x*this.shy+g.y*this.sy+this.ty;return new ol(L,X)},Ye.prototype.applyToRectangle=function(g){var L=this.applyToPoint(g),X=this.applyToPoint(new ol(g.x+g.w,g.y+g.h));return new Bu(L.x,L.y,X.x-L.x,X.y-L.y)},Ye.prototype.clone=function(){var g=this.sx,L=this.shy,X=this.shx,ne=this.sy,ce=this.tx,ve=this.ty;return new Ye(g,L,X,ne,ce,ve)},p.Matrix=Ye;var oi=p.matrixMult=function(g,L){return L.multiply(g)},Di=new Ye(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Di;var pr=function(g,L){if(!Ko[g]){var X=(L instanceof po?"Sh":"P")+(Object.keys(xt).length+1).toString(10);L.id=X,Ko[g]=X,xt[X]=L,St.publish("addPattern",L)}};p.ShadingPattern=po,p.TilingPattern=ya,p.addShadingPattern=function(g,L){return I("addShadingPattern()"),pr(g,L),this},p.beginTilingPattern=function(g){I("beginTilingPattern()"),hh(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,L){I("endTilingPattern()"),L.stream=we[U].join(`
`),pr(g,L),St.publish("endTilingPattern",L),Oi.pop().restore()};var wn=p.__private__.newObject=function(){var g=fn();return Pr(g,!0),g},fn=p.__private__.newObjectDeferred=function(){return J++,se[J]=function(){return he},J},Pr=function(g,L){return L=typeof L=="boolean"&&L,se[g]=he,L&&ee(g+" 0 obj"),g},Ya=p.__private__.newAdditionalObject=function(){var g={objId:fn(),content:""};return Ne.push(g),g},is=fn(),ai=fn(),li=p.__private__.decodeColorString=function(g){var L=g.split(" ");if(L.length!==2||L[1]!=="g"&&L[1]!=="G")L.length===5&&(L[4]==="k"||L[4]==="K")&&(L=[(1-L[0])*(1-L[3]),(1-L[1])*(1-L[3]),(1-L[2])*(1-L[3]),"r"]);else{var X=parseFloat(L[0]);L=[X,X,X,"r"]}for(var ne="#",ce=0;ce<3;ce++)ne+=("0"+Math.floor(255*parseFloat(L[ce])).toString(16)).slice(-2);return ne},ui=p.__private__.encodeColorString=function(g){var L;typeof g=="string"&&(g={ch1:g});var X=g.ch1,ne=g.ch2,ce=g.ch3,ve=g.ch4,Ce=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof X=="string"&&X.charAt(0)!=="#"){var Me=new oN(X);if(Me.ok)X=Me.toHex();else if(!/^\d*\.?\d*$/.test(X))throw new Error('Invalid color "'+X+'" passed to jsPDF.encodeColorString.')}if(typeof X=="string"&&/^#[0-9A-Fa-f]{3}$/.test(X)&&(X="#"+X[1]+X[1]+X[2]+X[2]+X[3]+X[3]),typeof X=="string"&&/^#[0-9A-Fa-f]{6}$/.test(X)){var He=parseInt(X.substr(1),16);X=He>>16&255,ne=He>>8&255,ce=255&He}if(ne===void 0||ve===void 0&&X===ne&&ne===ce)if(typeof X=="string")L=X+" "+Ce[0];else switch(g.precision){case 2:L=H(X/255)+" "+Ce[0];break;case 3:default:L=P(X/255)+" "+Ce[0]}else if(ve===void 0||bt(ve)==="object"){if(ve&&!isNaN(ve.a)&&ve.a===0)return L=["1.","1.","1.",Ce[1]].join(" ");if(typeof X=="string")L=[X,ne,ce,Ce[1]].join(" ");else switch(g.precision){case 2:L=[H(X/255),H(ne/255),H(ce/255),Ce[1]].join(" ");break;default:case 3:L=[P(X/255),P(ne/255),P(ce/255),Ce[1]].join(" ")}}else if(typeof X=="string")L=[X,ne,ce,ve,Ce[2]].join(" ");else switch(g.precision){case 2:L=[H(X),H(ne),H(ce),H(ve),Ce[2]].join(" ");break;case 3:default:L=[P(X),P(ne),P(ce),P(ve),Ce[2]].join(" ")}return L},ji=p.__private__.getFilters=function(){return o},Wr=p.__private__.putStream=function(g){var L=(g=g||{}).data||"",X=g.filters||ji(),ne=g.alreadyAppliedFilters||[],ce=g.addLength1||!1,ve=L.length,Ce=g.objectId,Me=function(Vn){return Vn};if(f!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Me=$n.encryptor(Ce,0));var He={};X===!0&&(X=["FlateEncode"]);var it=g.additionalKeyValues||[],tt=(He=$e.API.processDataByFilters!==void 0?$e.API.processDataByFilters(L,X):{data:L,reverseChain:[]}).reverseChain+(Array.isArray(ne)?ne.join(" "):ne.toString());if(He.data.length!==0&&(it.push({key:"Length",value:He.data.length}),ce===!0&&it.push({key:"Length1",value:ve})),tt.length!=0)if(tt.split("/").length-1==1)it.push({key:"Filter",value:tt});else{it.push({key:"Filter",value:"["+tt+"]"});for(var pt=0;pt<it.length;pt+=1)if(it[pt].key==="DecodeParms"){for(var Yt=[],en=0;en<He.reverseChain.split("/").length-1;en+=1)Yt.push("null");Yt.push(it[pt].value),it[pt].value="["+Yt.join(" ")+"]"}}ee("<<");for(var pn=0;pn<it.length;pn++)ee("/"+it[pn].key+" "+it[pn].value);ee(">>"),He.data.length!==0&&(ee("stream"),ee(Me(He.data)),ee("endstream"))},Mi=p.__private__.putPage=function(g){var L=g.number,X=g.data,ne=g.objId,ce=g.contentsObjId;Pr(ne,!0),ee("<</Type /Page"),ee("/Parent "+g.rootDictionaryObjId+" 0 R"),ee("/Resources "+g.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(R(g.mediaBox.bottomLeftX))+" "+parseFloat(R(g.mediaBox.bottomLeftY))+" "+R(g.mediaBox.topRightX)+" "+R(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&ee("/CropBox ["+R(g.cropBox.bottomLeftX)+" "+R(g.cropBox.bottomLeftY)+" "+R(g.cropBox.topRightX)+" "+R(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&ee("/BleedBox ["+R(g.bleedBox.bottomLeftX)+" "+R(g.bleedBox.bottomLeftY)+" "+R(g.bleedBox.topRightX)+" "+R(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&ee("/TrimBox ["+R(g.trimBox.bottomLeftX)+" "+R(g.trimBox.bottomLeftY)+" "+R(g.trimBox.topRightX)+" "+R(g.trimBox.topRightY)+"]"),g.artBox!==null&&ee("/ArtBox ["+R(g.artBox.bottomLeftX)+" "+R(g.artBox.bottomLeftY)+" "+R(g.artBox.topRightX)+" "+R(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&ee("/UserUnit "+g.userUnit),St.publish("putPage",{objId:ne,pageContext:et[L],pageNumber:L,page:X}),ee("/Contents "+ce+" 0 R"),ee(">>"),ee("endobj");var ve=X.join(`
`);return _===y.ADVANCED&&(ve+=`
Q`),Pr(ce,!0),Wr({data:ve,filters:ji(),objectId:ce}),ee("endobj"),ne},Jo=p.__private__.putPages=function(){var g,L,X=[];for(g=1;g<=Zt;g++)et[g].objId=fn(),et[g].contentsObjId=fn();for(g=1;g<=Zt;g++)X.push(Mi({number:g,data:we[g],objId:et[g].objId,contentsObjId:et[g].contentsObjId,mediaBox:et[g].mediaBox,cropBox:et[g].cropBox,bleedBox:et[g].bleedBox,trimBox:et[g].trimBox,artBox:et[g].artBox,userUnit:et[g].userUnit,rootDictionaryObjId:is,resourceDictionaryObjId:ai}));Pr(is,!0),ee("<</Type /Pages");var ne="/Kids [";for(L=0;L<Zt;L++)ne+=X[L]+" 0 R ";ee(ne+"]"),ee("/Count "+Zt),ee(">>"),ee("endobj"),St.publish("postPutPages")},Ga=function(g){St.publish("putFont",{font:g,out:ee,newObject:wn,putStream:Wr}),g.isAlreadyPutted!==!0&&(g.objectNumber=wn(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+Pl(g.postScriptName)),ee("/Subtype /Type1"),typeof g.encoding=="string"&&ee("/Encoding /"+g.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Ka=function(){for(var g in Lt)Lt.hasOwnProperty(g)&&(h===!1||h===!0&&m.hasOwnProperty(g))&&Ga(Lt[g])},Qa=function(g){g.objectNumber=wn();var L=[];L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Form"}),L.push({key:"BBox",value:"["+[R(g.x),R(g.y),R(g.x+g.width),R(g.y+g.height)].join(" ")+"]"}),L.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var X=g.pages[1].join(`
`);Wr({data:X,additionalKeyValues:L,objectId:g.objectNumber}),ee("endobj")},Ja=function(){for(var g in On)On.hasOwnProperty(g)&&Qa(On[g])},Gd=function(g,L){var X,ne=[],ce=1/(L-1);for(X=0;X<1;X+=ce)ne.push(X);if(ne.push(1),g[0].offset!=0){var ve={offset:0,color:g[0].color};g.unshift(ve)}if(g[g.length-1].offset!=1){var Ce={offset:1,color:g[g.length-1].color};g.push(Ce)}for(var Me="",He=0,it=0;it<ne.length;it++){for(X=ne[it];X>g[He+1].offset;)He++;var tt=g[He].offset,pt=(X-tt)/(g[He+1].offset-tt),Yt=g[He].color,en=g[He+1].color;Me+=Z(Math.round((1-pt)*Yt[0]+pt*en[0]).toString(16))+Z(Math.round((1-pt)*Yt[1]+pt*en[1]).toString(16))+Z(Math.round((1-pt)*Yt[2]+pt*en[2]).toString(16))}return Me.trim()},xm=function(g,L){L||(L=21);var X=wn(),ne=Gd(g.colors,L),ce=[];ce.push({key:"FunctionType",value:"0"}),ce.push({key:"Domain",value:"[0.0 1.0]"}),ce.push({key:"Size",value:"["+L+"]"}),ce.push({key:"BitsPerSample",value:"8"}),ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Wr({data:ne,additionalKeyValues:ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:X}),ee("endobj"),g.objectNumber=wn(),ee("<< /ShadingType "+g.type),ee("/ColorSpace /DeviceRGB");var ve="/Coords ["+R(parseFloat(g.coords[0]))+" "+R(parseFloat(g.coords[1]))+" ";g.type===2?ve+=R(parseFloat(g.coords[2]))+" "+R(parseFloat(g.coords[3])):ve+=R(parseFloat(g.coords[2]))+" "+R(parseFloat(g.coords[3]))+" "+R(parseFloat(g.coords[4]))+" "+R(parseFloat(g.coords[5])),ee(ve+="]"),g.matrix&&ee("/Matrix ["+g.matrix.toString()+"]"),ee("/Function "+X+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},Sm=function(g,L){var X=fn(),ne=wn();L.push({resourcesOid:X,objectOid:ne}),g.objectNumber=ne;var ce=[];ce.push({key:"Type",value:"/Pattern"}),ce.push({key:"PatternType",value:"1"}),ce.push({key:"PaintType",value:"1"}),ce.push({key:"TilingType",value:"1"}),ce.push({key:"BBox",value:"["+g.boundingBox.map(R).join(" ")+"]"}),ce.push({key:"XStep",value:R(g.xStep)}),ce.push({key:"YStep",value:R(g.yStep)}),ce.push({key:"Resources",value:X+" 0 R"}),g.matrix&&ce.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Wr({data:g.stream,additionalKeyValues:ce,objectId:g.objectNumber}),ee("endobj")},Xa=function(g){var L;for(L in xt)xt.hasOwnProperty(L)&&(xt[L]instanceof po?xm(xt[L]):xt[L]instanceof ya&&Sm(xt[L],g))},Kd=function(g){for(var L in g.objectNumber=wn(),ee("<<"),g)switch(L){case"opacity":ee("/ca "+H(g[L]));break;case"stroke-opacity":ee("/CA "+H(g[L]))}ee(">>"),ee("endobj")},Nm=function(){var g;for(g in Xt)Xt.hasOwnProperty(g)&&Kd(Xt[g])},Pu=function(){for(var g in ee("/XObject <<"),On)On.hasOwnProperty(g)&&On[g].objectNumber>=0&&ee("/"+g+" "+On[g].objectNumber+" 0 R");St.publish("putXobjectDict"),ee(">>")},Cm=function(){$n.oid=wn(),ee("<<"),ee("/Filter /Standard"),ee("/V "+$n.v),ee("/R "+$n.r),ee("/U <"+$n.toHexString($n.U)+">"),ee("/O <"+$n.toHexString($n.O)+">"),ee("/P "+$n.P),ee(">>"),ee("endobj")},Qd=function(){for(var g in ee("/Font <<"),Lt)Lt.hasOwnProperty(g)&&(h===!1||h===!0&&m.hasOwnProperty(g))&&ee("/"+g+" "+Lt[g].objectNumber+" 0 R");ee(">>")},Em=function(){if(Object.keys(xt).length>0){for(var g in ee("/Shading <<"),xt)xt.hasOwnProperty(g)&&xt[g]instanceof po&&xt[g].objectNumber>=0&&ee("/"+g+" "+xt[g].objectNumber+" 0 R");St.publish("putShadingPatternDict"),ee(">>")}},Za=function(g){if(Object.keys(xt).length>0){for(var L in ee("/Pattern <<"),xt)xt.hasOwnProperty(L)&&xt[L]instanceof p.TilingPattern&&xt[L].objectNumber>=0&&xt[L].objectNumber<g&&ee("/"+L+" "+xt[L].objectNumber+" 0 R");St.publish("putTilingPatternDict"),ee(">>")}},km=function(){if(Object.keys(Xt).length>0){var g;for(g in ee("/ExtGState <<"),Xt)Xt.hasOwnProperty(g)&&Xt[g].objectNumber>=0&&ee("/"+g+" "+Xt[g].objectNumber+" 0 R");St.publish("putGStateDict"),ee(">>")}},on=function(g){Pr(g.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Qd(),Em(),Za(g.objectOid),km(),Pu(),ee(">>"),ee("endobj")},Jd=function(){var g=[];Ka(),Nm(),Ja(),Xa(g),St.publish("putResources"),g.forEach(on),on({resourcesOid:ai,objectOid:Number.MAX_SAFE_INTEGER}),St.publish("postPutResources")},Xd=function(){St.publish("putAdditionalObjects");for(var g=0;g<Ne.length;g++){var L=Ne[g];Pr(L.objId,!0),ee(L.content),ee("endobj")}St.publish("postPutAdditionalObjects")},Zd=function(g){qt[g.fontName]=qt[g.fontName]||{},qt[g.fontName][g.fontStyle]=g.id},Iu=function(g,L,X,ne,ce){var ve={id:"F"+(Object.keys(Lt).length+1).toString(10),postScriptName:g,fontName:L,fontStyle:X,encoding:ne,isStandardFont:ce||!1,metadata:{}};return St.publish("addFont",{font:ve,instance:this}),Lt[ve.id]=ve,Zd(ve),ve.id},Am=function(g){for(var L=0,X=Ee.length;L<X;L++){var ne=Iu.call(this,g[L][0],g[L][1],g[L][2],Ee[L][3],!0);h===!1&&(m[ne]=!0);var ce=g[L][0].split("-");Zd({id:ne,fontName:ce[0],fontStyle:ce[1]||""})}St.publish("addFonts",{fonts:Lt,dictionary:qt})},ci=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(ne){var L=ne.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var X="Error in function "+L.split(`
`)[0].split("<")[0]+": "+ne.message;if(!Ge.console)throw new Error(X);Ge.console.error(X,ne),Ge.alert&&alert(X)}},g.foo.bar=g,g.foo},el=function(g,L){var X,ne,ce,ve,Ce,Me,He,it,tt;if(ce=(L=L||{}).sourceEncoding||"Unicode",Ce=L.outputEncoding,(L.autoencode||Ce)&&Lt[dt].metadata&&Lt[dt].metadata[ce]&&Lt[dt].metadata[ce].encoding&&(ve=Lt[dt].metadata[ce].encoding,!Ce&&Lt[dt].encoding&&(Ce=Lt[dt].encoding),!Ce&&ve.codePages&&(Ce=ve.codePages[0]),typeof Ce=="string"&&(Ce=ve[Ce]),Ce)){for(He=!1,Me=[],X=0,ne=g.length;X<ne;X++)(it=Ce[g.charCodeAt(X)])?Me.push(String.fromCharCode(it)):Me.push(g[X]),Me[X].charCodeAt(0)>>8&&(He=!0);g=Me.join("")}for(X=g.length;He===void 0&&X!==0;)g.charCodeAt(X-1)>>8&&(He=!0),X--;if(!He)return g;for(Me=L.noBOM?[]:[254,255],X=0,ne=g.length;X<ne;X++){if((tt=(it=g.charCodeAt(X))>>8)>>8)throw new Error("Character at position "+X+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Me.push(tt),Me.push(it-(tt<<8))}return String.fromCharCode.apply(void 0,Me)},mr=p.__private__.pdfEscape=p.pdfEscape=function(g,L){return el(g,L).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tu=p.__private__.beginPage=function(g){we[++Zt]=[],et[Zt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},th(Zt),ye(we[U])},eh=function(g,L){var X,ne,ce;switch(n=L||n,typeof g=="string"&&(X=w(g.toLowerCase()),Array.isArray(X)&&(ne=X[0],ce=X[1])),Array.isArray(g)&&(ne=g[0]*je,ce=g[1]*je),isNaN(ne)&&(ne=i[0],ce=i[1]),(ne>14400||ce>14400)&&(Ot.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ne=Math.min(14400,ne),ce=Math.min(14400,ce)),i=[ne,ce],n.substr(0,1)){case"l":ce>ne&&(i=[ce,ne]);break;case"p":ne>ce&&(i=[ce,ne])}Tu(i),ah(Du),ee(di),Mu!==0&&ee(Mu+" J"),Fu!==0&&ee(Fu+" j"),St.publish("addPage",{pageNumber:Zt})},Pm=function(g){g>0&&g<=Zt&&(we.splice(g,1),et.splice(g,1),Zt--,U>Zt&&(U=Zt),this.setPage(U))},th=function(g){g>0&&g<=Zt&&(U=g)},Im=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return we.length-1},nh=function(g,L,X){var ne,ce=void 0;return X=X||{},g=g!==void 0?g:Lt[dt].fontName,L=L!==void 0?L:Lt[dt].fontStyle,ne=g.toLowerCase(),qt[ne]!==void 0&&qt[ne][L]!==void 0?ce=qt[ne][L]:qt[g]!==void 0&&qt[g][L]!==void 0?ce=qt[g][L]:X.disableWarning===!1&&Ot.warn("Unable to look up font label for font '"+g+"', '"+L+"'. Refer to getFontList() for available fonts."),ce||X.noFallback||(ce=qt.times[L])==null&&(ce=qt.times.normal),ce},Tm=p.__private__.putInfo=function(){var g=wn(),L=function(ne){return ne};for(var X in f!==null&&(L=$n.encryptor(g,0)),ee("<<"),ee("/Producer ("+mr(L("jsPDF "+$e.version))+")"),Je)Je.hasOwnProperty(X)&&Je[X]&&ee("/"+X.substr(0,1).toUpperCase()+X.substr(1)+" ("+mr(L(Je[X]))+")");ee("/CreationDate ("+mr(L(oe))+")"),ee(">>"),ee("endobj")},Lu=p.__private__.putCatalog=function(g){var L=(g=g||{}).rootDictionaryObjId||is;switch(wn(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+L+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var X=""+De;X.substr(X.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+H(De)+"]")}switch(at||(at="continuous"),at){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Ze&&ee("/PageMode /"+Ze),St.publish("putCatalog"),ee(">>"),ee("endobj")},Lm=p.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(J+1)),ee("/Root "+J+" 0 R"),ee("/Info "+(J-1)+" 0 R"),f!==null&&ee("/Encrypt "+$n.oid+" 0 R"),ee("/ID [ <"+Q+"> <"+Q+"> ]"),ee(">>")},Rm=p.__private__.putHeader=function(){ee("%PDF-"+b),ee("%")},Om=p.__private__.putXRef=function(){var g="0000000000";ee("xref"),ee("0 "+(J+1)),ee("0000000000 65535 f ");for(var L=1;L<=J;L++)typeof se[L]=="function"?ee((g+se[L]()).slice(-10)+" 00000 n "):se[L]!==void 0?ee((g+se[L]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},ss=p.__private__.buildDocument=function(){Ve(),ye(ue),St.publish("buildDocument"),Rm(),Jo(),Xd(),Jd(),f!==null&&Cm(),Tm(),Lu();var g=he;return Om(),Lm(),ee("startxref"),ee(""+g),ee("%%EOF"),ye(we[U]),ue.join(`
`)},tl=p.__private__.getBlob=function(g){return new Blob([ze(g)],{type:"application/pdf"})},nl=p.output=p.__private__.output=ci(function(g,L){switch(typeof(L=L||{})=="string"?L={filename:L}:L.filename=L.filename||"generated.pdf",g){case void 0:return ss();case"save":p.save(L.filename);break;case"arraybuffer":return ze(ss());case"blob":return tl(ss());case"bloburi":case"bloburl":if(Ge.URL!==void 0&&typeof Ge.URL.createObjectURL=="function")return Ge.URL&&Ge.URL.createObjectURL(tl(ss()))||void 0;Ot.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var X="",ne=ss();try{X=Y1(ne)}catch{X=Y1(unescape(encodeURIComponent(ne)))}return"data:application/pdf;filename="+L.filename+";base64,"+X;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ge)==="[object Window]"){var ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';L.pdfObjectUrl&&(ce=L.pdfObjectUrl,ve="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ce+'"'+ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(L)+");<\/script></body></html>",Me=Ge.open();return Me!==null&&Me.document.write(Ce),Me}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ge)==="[object Window]"){var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(L.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+L.filename+'" width="500px" height="400px" /></body></html>',it=Ge.open();if(it!==null){it.document.write(He);var tt=this;it.document.documentElement.querySelector("#pdfViewer").onload=function(){it.document.title=L.filename,it.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tt.output("bloburl"))}}return it}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ge)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",L)+'"></iframe></body></html>',Yt=Ge.open();if(Yt!==null&&(Yt.document.write(pt),Yt.document.title=L.filename),Yt||typeof safari>"u")return Yt;break;case"datauri":case"dataurl":return Ge.document.location.href=this.output("datauristring",L);default:return null}}),rh=function(g){return Array.isArray(Qo)===!0&&Qo.indexOf(g)>-1};switch(r){case"pt":je=1;break;case"mm":je=72/25.4;break;case"cm":je=72/2.54;break;case"in":je=72;break;case"px":je=rh("px_scaling")==1?.75:96/72;break;case"pc":case"em":je=12;break;case"ex":je=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);je=r}var $n=null;de(),z();var Dm=function(g){return f!==null?$n.encryptor(g,0):function(L){return L}},ih=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:et[g].objId,pageNumber:g,pageContext:et[g]}},Xe=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var L in et)if(et[L].objId===g)break;return ih(L)},jm=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:et[U].objId,pageNumber:U,pageContext:et[U]}};p.addPage=function(){return eh.apply(this,arguments),this},p.setPage=function(){return th.apply(this,arguments),ye.call(this,we[U]),this},p.insertPage=function(g){return this.addPage(),this.movePage(U,g),this},p.movePage=function(g,L){var X,ne;if(g>L){X=we[g],ne=et[g];for(var ce=g;ce>L;ce--)we[ce]=we[ce-1],et[ce]=et[ce-1];we[L]=X,et[L]=ne,this.setPage(L)}else if(g<L){X=we[g],ne=et[g];for(var ve=g;ve<L;ve++)we[ve]=we[ve+1],et[ve]=et[ve+1];we[L]=X,et[L]=ne,this.setPage(L)}return this},p.deletePage=function(){return Pm.apply(this,arguments),this},p.__private__.text=p.text=function(g,L,X,ne,ce){var ve,Ce,Me,He,it,tt,pt,Yt,en,pn=(ne=ne||{}).scope||this;if(typeof g=="number"&&typeof L=="number"&&(typeof X=="string"||Array.isArray(X))){var Vn=X;X=L,L=g,g=Vn}if(arguments[3]instanceof Ye?(I("The transform parameter of text() with a Matrix value"),en=ce):(Me=arguments[4],He=arguments[5],bt(pt=arguments[3])==="object"&&pt!==null||(typeof Me=="string"&&(He=Me,Me=null),typeof pt=="string"&&(He=pt,pt=null),typeof pt=="number"&&(Me=pt,pt=null),ne={flags:pt,angle:Me,align:He})),isNaN(L)||isNaN(X)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return pn;var En="",hi=!1,Ir=typeof ne.lineHeightFactor=="number"?ne.lineHeightFactor:Zo,Ui=pn.internal.scaleFactor;function fh(Dt){return Dt=Dt.split("	").join(Array(ne.TabLen||9).join(" ")),mr(Dt,pt)}function Hu(Dt){for(var jt,ln=Dt.concat(),_n=[],cs=ln.length;cs--;)typeof(jt=ln.shift())=="string"?_n.push(jt):Array.isArray(Dt)&&(jt.length===1||jt[1]===void 0&&jt[2]===void 0)?_n.push(jt[0]):_n.push([jt[0],jt[1],jt[2]]);return _n}function qu(Dt,jt){var ln;if(typeof Dt=="string")ln=jt(Dt)[0];else if(Array.isArray(Dt)){for(var _n,cs,Xu=Dt.concat(),vl=[],yh=Xu.length;yh--;)typeof(_n=Xu.shift())=="string"?vl.push(jt(_n)[0]):Array.isArray(_n)&&typeof _n[0]=="string"&&(cs=jt(_n[0],_n[1],_n[2]),vl.push([cs[0],cs[1],cs[2]]));ln=vl}return ln}var ll=!1,$u=!0;if(typeof g=="string")ll=!0;else if(Array.isArray(g)){var Vu=g.concat();Ce=[];for(var ul,Dn=Vu.length;Dn--;)(typeof(ul=Vu.shift())!="string"||Array.isArray(ul)&&typeof ul[0]!="string")&&($u=!1);ll=$u}if(ll===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var cl=Te/pn.internal.scaleFactor,dl=cl*(Ir-1);switch(ne.baseline){case"bottom":X-=dl;break;case"top":X+=cl-dl;break;case"hanging":X+=cl-2*dl;break;case"middle":X+=cl/2-dl}if((tt=ne.maxWidth||0)>0&&(typeof g=="string"?g=pn.splitTextToSize(g,tt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Dt,jt){return Dt.concat(pn.splitTextToSize(jt,tt))},[]))),ve={text:g,x:L,y:X,options:ne,mutex:{pdfEscape:mr,activeFontKey:dt,fonts:Lt,activeFontSize:Te}},St.publish("preProcessText",ve),g=ve.text,Me=(ne=ve.options).angle,!(en instanceof Ye)&&Me&&typeof Me=="number"){Me*=Math.PI/180,ne.rotationDirection===0&&(Me=-Me),_===y.ADVANCED&&(Me=-Me);var hl=Math.cos(Me),Yu=Math.sin(Me);en=new Ye(hl,Yu,-Yu,hl,0,0)}else Me&&Me instanceof Ye&&(en=Me);_!==y.ADVANCED||en||(en=Di),(it=ne.charSpace||sl)!==void 0&&(En+=R(k(it))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Yt=ne.horizontalScale)!==void 0&&(En+=R(100*Yt)+` Tz
`),ne.lang;var gr=-1,Vm=ne.renderingMode!==void 0?ne.renderingMode:ne.stroke,Gu=pn.internal.getCurrentPageInfo().pageContext;switch(Vm){case 0:case!1:case"fill":gr=0;break;case 1:case!0:case"stroke":gr=1;break;case 2:case"fillThenStroke":gr=2;break;case 3:case"invisible":gr=3;break;case 4:case"fillAndAddForClipping":gr=4;break;case 5:case"strokeAndAddPathForClipping":gr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gr=6;break;case 7:case"addToPathForClipping":gr=7}var ph=Gu.usedRenderingMode!==void 0?Gu.usedRenderingMode:-1;gr!==-1?En+=gr+` Tr
`:ph!==-1&&(En+=`0 Tr
`),gr!==-1&&(Gu.usedRenderingMode=gr),He=ne.align||"left";var Hr,fl=Te*Ir,mh=pn.internal.pageSize.getWidth(),gh=Lt[dt];it=ne.charSpace||sl,tt=ne.maxWidth||0,pt=Object.assign({autoencode:!0,noBOM:!0},ne.flags);var Ws=[],na=function(Dt){return pn.getStringUnitWidth(Dt,{font:gh,charSpace:it,fontSize:Te,doKerning:!1})*Te/Ui};if(Object.prototype.toString.call(g)==="[object Array]"){var vr;Ce=Hu(g),He!=="left"&&(Hr=Ce.map(na));var rr,Hs=0;if(He==="right"){L-=Hr[0],g=[],Dn=Ce.length;for(var as=0;as<Dn;as++)as===0?(rr=Bi(L),vr=os(X)):(rr=k(Hs-Hr[as]),vr=-fl),g.push([Ce[as],rr,vr]),Hs=Hr[as]}else if(He==="center"){L-=Hr[0]/2,g=[],Dn=Ce.length;for(var ls=0;ls<Dn;ls++)ls===0?(rr=Bi(L),vr=os(X)):(rr=k((Hs-Hr[ls])/2),vr=-fl),g.push([Ce[ls],rr,vr]),Hs=Hr[ls]}else if(He==="left"){g=[],Dn=Ce.length;for(var pl=0;pl<Dn;pl++)g.push(Ce[pl])}else if(He==="justify"&&gh.encoding==="Identity-H"){g=[],Dn=Ce.length,tt=tt!==0?tt:mh;for(var us=0,an=0;an<Dn;an++)if(vr=an===0?os(X):-fl,rr=an===0?Bi(L):us,an<Dn-1){var Ku=k((tt-Hr[an])/(Ce[an].split(" ").length-1)),ir=Ce[an].split(" ");g.push([ir[0]+" ",rr,vr]),us=0;for(var qr=1;qr<ir.length;qr++){var ml=(na(ir[qr-1]+" "+ir[qr])-na(ir[qr]))*Ui+Ku;qr==ir.length-1?g.push([ir[qr],ml,0]):g.push([ir[qr]+" ",ml,0]),us-=ml}}else g.push([Ce[an],rr,vr]);g.push(["",us,0])}else{if(He!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],Dn=Ce.length,tt=tt!==0?tt:mh,an=0;an<Dn;an++)vr=an===0?os(X):-fl,rr=an===0?Bi(L):0,an<Dn-1?Ws.push(R(k((tt-Hr[an])/(Ce[an].split(" ").length-1)))):Ws.push(0),g.push([Ce[an],rr,vr])}}var vh=typeof ne.R2L=="boolean"?ne.R2L:We;vh===!0&&(g=qu(g,function(Dt,jt,ln){return[Dt.split("").reverse().join(""),jt,ln]})),ve={text:g,x:L,y:X,options:ne,mutex:{pdfEscape:mr,activeFontKey:dt,fonts:Lt,activeFontSize:Te}},St.publish("postProcessText",ve),g=ve.text,hi=ve.mutex.isHex||!1;var Qu=Lt[dt].encoding;Qu!=="WinAnsiEncoding"&&Qu!=="StandardEncoding"||(g=qu(g,function(Dt,jt,ln){return[fh(Dt),jt,ln]})),Ce=Hu(g),g=[];for(var ra,ia,qs,sa=0,gl=1,oa=Array.isArray(Ce[0])?gl:sa,$s="",Ju=function(Dt,jt,ln){var _n="";return ln instanceof Ye?(ln=typeof ne.angle=="number"?oi(ln,new Ye(1,0,0,1,Dt,jt)):oi(new Ye(1,0,0,1,Dt,jt),ln),_===y.ADVANCED&&(ln=oi(new Ye(1,0,0,-1,0,0),ln)),_n=ln.join(" ")+` Tm
`):_n=R(Dt)+" "+R(jt)+` Td
`,_n},$r=0;$r<Ce.length;$r++){switch($s="",oa){case gl:qs=(hi?"<":"(")+Ce[$r][0]+(hi?">":")"),ra=parseFloat(Ce[$r][1]),ia=parseFloat(Ce[$r][2]);break;case sa:qs=(hi?"<":"(")+Ce[$r]+(hi?">":")"),ra=Bi(L),ia=os(X)}Ws!==void 0&&Ws[$r]!==void 0&&($s=Ws[$r]+` Tw
`),$r===0?g.push($s+Ju(ra,ia,en)+qs):oa===sa?g.push($s+qs):oa===gl&&g.push($s+Ju(ra,ia,en)+qs)}g=oa===sa?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Vr=`BT
/`;return Vr+=dt+" "+Te+` Tf
`,Vr+=R(Te*Ir)+` TL
`,Vr+=ea+`
`,Vr+=En,Vr+=g,ee(Vr+="ET"),m[dt]=!0,pn};var Mm=p.__private__.clip=p.clip=function(g){return ee(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Mm("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ee("n"),this};var Fi=p.__private__.isValidStyle=function(g){var L=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(L=!0),L};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return Fi(g)&&(c=g),this};var sh=p.__private__.getStyle=p.getStyle=function(g){var L=c;switch(g){case"D":case"S":L="S";break;case"F":L="f";break;case"FD":case"DF":L="B";break;case"f":case"f*":case"B":case"B*":L=g}return L},oh=p.close=function(){return ee("h"),this};p.stroke=function(){return ee("S"),this},p.fill=function(g){return rl("f",g),this},p.fillEvenOdd=function(g){return rl("f*",g),this},p.fillStroke=function(g){return rl("B",g),this},p.fillStrokeEvenOdd=function(g){return rl("B*",g),this};var rl=function(g,L){bt(L)==="object"?Bm(L,g):ee(g)},Ru=function(g){g===null||_===y.ADVANCED&&g===void 0||(g=sh(g),ee(g))};function Fm(g,L,X,ne,ce){var ve=new ya(L||this.boundingBox,X||this.xStep,ne||this.yStep,this.gState,ce||this.matrix);ve.stream=this.stream;var Ce=g+"$$"+this.cloneIndex+++"$$";return pr(Ce,ve),ve}var Bm=function(g,L){var X=Ko[g.key],ne=xt[X];if(ne instanceof po)ee("q"),ee(Um(L)),ne.gState&&p.setGState(ne.gState),ee(g.matrix.toString()+" cm"),ee("/"+X+" sh"),ee("Q");else if(ne instanceof ya){var ce=new Ye(1,0,0,-1,0,zs());g.matrix&&(ce=ce.multiply(g.matrix||Di),X=Fm.call(ne,g.key,g.boundingBox,g.xStep,g.yStep,ce).id),ee("q"),ee("/Pattern cs"),ee("/"+X+" scn"),ne.gState&&p.setGState(ne.gState),ee(L),ee("Q")}},Um=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ou=p.moveTo=function(g,L){return ee(R(k(g))+" "+R(Y(L))+" m"),this},Xo=p.lineTo=function(g,L){return ee(R(k(g))+" "+R(Y(L))+" l"),this},Bs=p.curveTo=function(g,L,X,ne,ce,ve){return ee([R(k(g)),R(Y(L)),R(k(X)),R(Y(ne)),R(k(ce)),R(Y(ve)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,L,X,ne,ce){if(isNaN(g)||isNaN(L)||isNaN(X)||isNaN(ne)||!Fi(ce))throw new Error("Invalid arguments passed to jsPDF.line");return _===y.COMPAT?this.lines([[X-g,ne-L]],g,L,[1,1],ce||"S"):this.lines([[X-g,ne-L]],g,L,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,L,X,ne,ce,ve){var Ce,Me,He,it,tt,pt,Yt,en,pn,Vn,En,hi;if(typeof g=="number"&&(hi=X,X=L,L=g,g=hi),ne=ne||[1,1],ve=ve||!1,isNaN(L)||isNaN(X)||!Array.isArray(g)||!Array.isArray(ne)||!Fi(ce)||typeof ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ou(L,X),Ce=ne[0],Me=ne[1],it=g.length,Vn=L,En=X,He=0;He<it;He++)(tt=g[He]).length===2?(Vn=tt[0]*Ce+Vn,En=tt[1]*Me+En,Xo(Vn,En)):(pt=tt[0]*Ce+Vn,Yt=tt[1]*Me+En,en=tt[2]*Ce+Vn,pn=tt[3]*Me+En,Vn=tt[4]*Ce+Vn,En=tt[5]*Me+En,Bs(pt,Yt,en,pn,Vn,En));return ve&&oh(),Ru(ce),this},p.path=function(g){for(var L=0;L<g.length;L++){var X=g[L],ne=X.c;switch(X.op){case"m":Ou(ne[0],ne[1]);break;case"l":Xo(ne[0],ne[1]);break;case"c":Bs.apply(this,ne);break;case"h":oh()}}return this},p.__private__.rect=p.rect=function(g,L,X,ne,ce){if(isNaN(g)||isNaN(L)||isNaN(X)||isNaN(ne)||!Fi(ce))throw new Error("Invalid arguments passed to jsPDF.rect");return _===y.COMPAT&&(ne=-ne),ee([R(k(g)),R(Y(L)),R(k(X)),R(k(ne)),"re"].join(" ")),Ru(ce),this},p.__private__.triangle=p.triangle=function(g,L,X,ne,ce,ve,Ce){if(isNaN(g)||isNaN(L)||isNaN(X)||isNaN(ne)||isNaN(ce)||isNaN(ve)||!Fi(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[X-g,ne-L],[ce-X,ve-ne],[g-ce,L-ve]],g,L,[1,1],Ce,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,L,X,ne,ce,ve,Ce){if(isNaN(g)||isNaN(L)||isNaN(X)||isNaN(ne)||isNaN(ce)||isNaN(ve)||!Fi(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Me=4/3*(Math.SQRT2-1);return ce=Math.min(ce,.5*X),ve=Math.min(ve,.5*ne),this.lines([[X-2*ce,0],[ce*Me,0,ce,ve-ve*Me,ce,ve],[0,ne-2*ve],[0,ve*Me,-ce*Me,ve,-ce,ve],[2*ce-X,0],[-ce*Me,0,-ce,-ve*Me,-ce,-ve],[0,2*ve-ne],[0,-ve*Me,ce*Me,-ve,ce,-ve]],g+ce,L,[1,1],Ce,!0),this},p.__private__.ellipse=p.ellipse=function(g,L,X,ne,ce){if(isNaN(g)||isNaN(L)||isNaN(X)||isNaN(ne)||!Fi(ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ve=4/3*(Math.SQRT2-1)*X,Ce=4/3*(Math.SQRT2-1)*ne;return Ou(g+X,L),Bs(g+X,L-Ce,g+ve,L-ne,g,L-ne),Bs(g-ve,L-ne,g-X,L-Ce,g-X,L),Bs(g-X,L+Ce,g-ve,L+ne,g,L+ne),Bs(g+ve,L+ne,g+X,L+Ce,g+X,L),Ru(ce),this},p.__private__.circle=p.circle=function(g,L,X,ne){if(isNaN(g)||isNaN(L)||isNaN(X)||!Fi(ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,L,X,X,ne)},p.setFont=function(g,L,X){return X&&(L=F(L,X)),dt=nh(g,L,{disableWarning:!1}),this};var zm=p.__private__.getFont=p.getFont=function(){return Lt[nh.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,L,X={};for(g in qt)if(qt.hasOwnProperty(g))for(L in X[g]=[],qt[g])qt[g].hasOwnProperty(L)&&X[g].push(L);return X},p.addFont=function(g,L,X,ne,ce){var ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ve.indexOf(arguments[3])!==-1?ce=arguments[3]:arguments[3]&&ve.indexOf(arguments[3])==-1&&(X=F(X,ne)),ce=ce||"Identity-H",Iu.call(this,g,L,X,ce)};var Zo,Du=t.lineWidth||.200025,il=p.__private__.getLineWidth=p.getLineWidth=function(){return Du},ah=p.__private__.setLineWidth=p.setLineWidth=function(g){return Du=g,ee(R(k(g))+" w"),this};p.__private__.setLineDash=$e.API.setLineDash=$e.API.setLineDashPattern=function(g,L){if(g=g||[],L=L||0,isNaN(L)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(X){return R(k(X))}).join(" "),L=R(k(L)),ee("["+g+"] "+L+" d"),this};var lh=p.__private__.getLineHeight=p.getLineHeight=function(){return Te*Zo};p.__private__.getLineHeight=p.getLineHeight=function(){return Te*Zo};var uh=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Zo=g),this},ch=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Zo};uh(t.lineHeight);var Bi=p.__private__.getHorizontalCoordinate=function(g){return k(g)},os=p.__private__.getVerticalCoordinate=function(g){return _===y.ADVANCED?g:et[U].mediaBox.topRightY-et[U].mediaBox.bottomLeftY-k(g)},Wm=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return R(Bi(g))},Us=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return R(os(g))},di=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return li(di)},p.__private__.setStrokeColor=p.setDrawColor=function(g,L,X,ne){return di=ui({ch1:g,ch2:L,ch3:X,ch4:ne,pdfColorType:"draw",precision:2}),ee(di),this};var ju=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return li(ju)},p.__private__.setFillColor=p.setFillColor=function(g,L,X,ne){return ju=ui({ch1:g,ch2:L,ch3:X,ch4:ne,pdfColorType:"fill",precision:2}),ee(ju),this};var ea=t.textColor||"0 g",Hm=p.__private__.getTextColor=p.getTextColor=function(){return li(ea)};p.__private__.setTextColor=p.setTextColor=function(g,L,X,ne){return ea=ui({ch1:g,ch2:L,ch3:X,ch4:ne,pdfColorType:"text",precision:3}),this};var sl=t.charSpace,qm=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(sl||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return sl=g,this};var Mu=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var L=p.CapJoinStyles[g];if(L===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mu=L,ee(L+" J"),this};var Fu=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var L=p.CapJoinStyles[g];if(L===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fu=L,ee(L+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(R(k(g))+" M"),this},p.GState=Ed,p.setGState=function(g){(g=typeof g=="string"?Xt[si[g]]:dh(null,g)).equals(rs)||(ee("/"+g.id+" gs"),rs=g)};var dh=function(g,L){if(!g||!si[g]){var X=!1;for(var ne in Xt)if(Xt.hasOwnProperty(ne)&&Xt[ne].equals(L)){X=!0;break}if(X)L=Xt[ne];else{var ce="GS"+(Object.keys(Xt).length+1).toString(10);Xt[ce]=L,L.id=ce}return g&&(si[g]=L.id),St.publish("addGState",L),L}};p.addGState=function(g,L){return dh(g,L),this},p.saveGraphicsState=function(){return ee("q"),Li.push({key:dt,size:Te,color:ea}),this},p.restoreGraphicsState=function(){ee("Q");var g=Li.pop();return dt=g.key,Te=g.size,ea=g.color,rs=null,this},p.setCurrentTransformationMatrix=function(g){return ee(g.toString()+" cm"),this},p.comment=function(g){return ee("#"+g),this};var ol=function(g,L){var X=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return X},set:function(ve){isNaN(ve)||(X=parseFloat(ve))}});var ne=L||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ne},set:function(ve){isNaN(ve)||(ne=parseFloat(ve))}});var ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ce},set:function(ve){ce=ve.toString()}}),this},Bu=function(g,L,X,ne){ol.call(this,g,L),this.type="rect";var ce=X||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ce},set:function(Ce){isNaN(Ce)||(ce=parseFloat(Ce))}});var ve=ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ve},set:function(Ce){isNaN(Ce)||(ve=parseFloat(Ce))}}),this},Uu=function(){this.page=Zt,this.currentPage=U,this.pages=we.slice(0),this.pagesContext=et.slice(0),this.x=qn,this.y=yt,this.matrix=ii,this.width=ta(U),this.height=zs(U),this.outputDestination=Ie,this.id="",this.objectNumber=-1};Uu.prototype.restore=function(){Zt=this.page,U=this.currentPage,et=this.pagesContext,we=this.pages,qn=this.x,yt=this.y,ii=this.matrix,zu(U,this.width),Wu(U,this.height),Ie=this.outputDestination};var hh=function(g,L,X,ne,ce){Oi.push(new Uu),Zt=U=0,we=[],qn=g,yt=L,ii=ce,Tu([X,ne])},$m=function(g){if(Ri[g])Oi.pop().restore();else{var L=new Uu,X="Xo"+(Object.keys(On).length+1).toString(10);L.id=X,Ri[g]=X,On[X]=L,St.publish("addFormObject",L),Oi.pop().restore()}};for(var al in p.beginFormObject=function(g,L,X,ne,ce){return hh(g,L,X,ne,ce),this},p.endFormObject=function(g){return $m(g),this},p.doFormObject=function(g,L){var X=On[Ri[g]];return ee("q"),ee(L.toString()+" cm"),ee("/"+X.id+" Do"),ee("Q"),this},p.getFormObject=function(g){var L=On[Ri[g]];return{x:L.x,y:L.y,width:L.width,height:L.height,matrix:L.matrix}},p.save=function(g,L){return g=g||"generated.pdf",(L=L||{}).returnPromise=L.returnPromise||!1,L.returnPromise===!1?(fa(tl(ss()),g),typeof fa.unload=="function"&&Ge.setTimeout&&setTimeout(fa.unload,911),this):new Promise(function(X,ne){try{var ce=fa(tl(ss()),g);typeof fa.unload=="function"&&Ge.setTimeout&&setTimeout(fa.unload,911),X(ce)}catch(ve){ne(ve.message)}})},$e.API)$e.API.hasOwnProperty(al)&&(al==="events"&&$e.API.events.length?function(g,L){var X,ne,ce;for(ce=L.length-1;ce!==-1;ce--)X=L[ce][0],ne=L[ce][1],g.subscribe.apply(g,[X].concat(typeof ne=="function"?[ne]:ne))}(St,$e.API.events):p[al]=$e.API[al]);var ta=p.getPageWidth=function(g){return(et[g=g||U].mediaBox.topRightX-et[g].mediaBox.bottomLeftX)/je},zu=p.setPageWidth=function(g,L){et[g].mediaBox.topRightX=L*je+et[g].mediaBox.bottomLeftX},zs=p.getPageHeight=function(g){return(et[g=g||U].mediaBox.topRightY-et[g].mediaBox.bottomLeftY)/je},Wu=p.setPageHeight=function(g,L){et[g].mediaBox.topRightY=L*je+et[g].mediaBox.bottomLeftY};return p.internal={pdfEscape:mr,getStyle:sh,getFont:zm,getFontSize:Oe,getCharSpace:qm,getTextColor:Hm,getLineHeight:lh,getLineHeightFactor:ch,getLineWidth:il,write:rt,getHorizontalCoordinate:Bi,getVerticalCoordinate:os,getCoordinateString:Wm,getVerticalCoordinateString:Us,collections:{},newObject:wn,newAdditionalObject:Ya,newObjectDeferred:fn,newObjectDeferredBegin:Pr,getFilters:ji,putStream:Wr,events:St,scaleFactor:je,pageSize:{getWidth:function(){return ta(U)},setWidth:function(g){zu(U,g)},getHeight:function(){return zs(U)},setHeight:function(g){Wu(U,g)}},encryptionOptions:f,encryption:$n,getEncryptor:Dm,output:nl,getNumberOfPages:Im,pages:we,out:ee,f2:H,f3:P,getPageInfo:ih,getPageInfoByObjId:Xe,getCurrentPageInfo:jm,getPDFVersion:S,Point:ol,Rectangle:Bu,Matrix:Ye,hasHotfix:rh},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ta(U)},set:function(g){zu(U,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return zs(U)},set:function(g){Wu(U,g)},enumerable:!0,configurable:!0}),Am.call(p,Ee),dt="F1",eh(i,n),St.publish("initialized"),p}Al.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Al.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Al.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Al.prototype.processOwnerPassword=function(t,e){return K1(G1(e).substr(0,5),t)},Al.prototype.encryptor=function(t,e){var n=G1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return K1(n,r)}},Ed.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||bt(t)!==bt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},$e.API={events:[]},$e.version="2.5.2";var nn=$e.API,ry=1,Va=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},El=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},nt=function(t){return t.toFixed(2)},ro=function(t){return t.toFixed(5)};nn.__acroform__={};var Ar=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},R_=function(t){return t*ry},Hi=function(t){var e=new cN,n=Ue.internal.getHeight(t)||0,r=Ue.internal.getWidth(t)||0;return e.BBox=[0,0,Number(nt(r)),Number(nt(n))],e},Zj=nn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},eM=nn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},tM=nn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},cn=nn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return tM(t,e-1)},dn=nn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Zj(t,e-1)},hn=nn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return eM(t,e-1)},nM=nn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(nt(l.lowerLeft_X)),Number(nt(l.lowerLeft_Y)),Number(nt(l.upperRight_X)),Number(nt(l.upperRight_Y))]},rM=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Q1(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+nt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Hi(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Q1=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var s=n,o=Ue.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ue.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(P,k,V){if(P+1<i.length){var Y=k+" "+i[P+1][0];return uf(Y,t,V).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,f,h=uf("3",t,s).height,m=t.multiline?o-s:(o-h)/2,p=m+=2,b=0,S=0,C=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+uf(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",y=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var E=!1;if(i[_].length!==1&&C!==i[_].length-1){if((h+2)*(y+2)+2>o)continue e;w+=i[_][C],E=!0,S=_,_--}else{w=(w+=i[_][C]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var O=parseInt(_),F=l(O,w,s),R=_>=i.length-1;if(F&&!R){w+=" ",C=0;continue}if(F||R){if(R)S=O;else if(t.multiline&&(h+2)*(y+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(y+2)+2>o)continue e;S=O}}for(var I="",W=b;W<=S;W++){var H=i[W];if(t.multiline){if(W===S){I+=H[C]+" ",C=(C+1)%H.length;continue}if(W===b){I+=H[H.length-1]+" ";continue}}I+=H[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,f=uf(I,t,s).width,t.textAlign){case"right":c=a-f-2;break;case"center":c=(a-f)/2;break;case"left":default:c=2}e+=nt(c)+" "+nt(p)+` Td
`,e+="("+Va(I)+`) Tj
`,e+=-nt(c)+` 0 Td
`,p=-(s+2),f=0,b=E?S:S+1,y++,w=""}break}return r.text=e,r.fontSize=s,r},uf=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},iM={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sM=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},oM=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),bt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},aM=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ii.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(iM)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ry=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new dN,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&sM(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=nM(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ue.createDefaultAppearanceStream(a),bt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=rM(a);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var h="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var p=a.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var b=p[o];typeof b=="function"&&(b=b.call(i,a)),h+="/"+o+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=p)=="function"&&(b=b.call(i,a)),h+="/"+o+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&oM(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},uN=nn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),bt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Va(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},cg=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Va(r(t))+")"},Gi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Gi.prototype.toString=function(){return this.objId+" 0 R"},Gi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Gi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:uN(i,this.objId,this.scope)}):i instanceof Gi?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var cN=function(){Gi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ar(cN,Gi);var dN=function(){Gi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Va(n(t))+")"}},set:function(n){t=n}})};Ar(dN,Gi);var Ii=function t(){Gi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!cn(e,3)},set:function(w){w?this.F=dn(e,3):this.F=hn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Lp)return;s="FieldObject"+t.FieldNum++}var w=function(y){return y};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Va(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/ry:c},set:function(w){c=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Lp||this instanceof Oo))return cg(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof xn?m:cg(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof xn?w:w.substr(0,1)==="("?El(w.substr(1,w.length-2)):El(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xn?El(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof xn?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof xn?p:cg(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof xn?w:w.substr(0,1)==="("?El(w.substr(1,w.length-2)):El(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xn?El(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof xn?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(w){w=!!w,S=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(w){b=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,1)},set:function(w){w?this.Ff=dn(this.Ff,1):this.Ff=hn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,2)},set:function(w){w?this.Ff=dn(this.Ff,2):this.Ff=hn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,3)},set:function(w){w?this.Ff=dn(this.Ff,3):this.Ff=hn(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');C=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(C){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};Ar(Ii,Gi);var Sa=function(){Ii.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return uN(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,18)},set:function(n){n?this.Ff=dn(this.Ff,18):this.Ff=hn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=dn(this.Ff,19):this.Ff=hn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,20)},set:function(n){n?(this.Ff=dn(this.Ff,20),e.sort()):this.Ff=hn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,22)},set:function(n){n?this.Ff=dn(this.Ff,22):this.Ff=hn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,23)},set:function(n){n?this.Ff=dn(this.Ff,23):this.Ff=hn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,27)},set:function(n){n?this.Ff=dn(this.Ff,27):this.Ff=hn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ar(Sa,Ii);var Na=function(){Sa.call(this),this.fontName="helvetica",this.combo=!1};Ar(Na,Sa);var Ca=function(){Na.call(this),this.combo=!0};Ar(Ca,Na);var Hc=function(){Ca.call(this),this.edit=!0};Ar(Hc,Ca);var xn=function(){Ii.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,15)},set:function(n){n?this.Ff=dn(this.Ff,15):this.Ff=hn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,16)},set:function(n){n?this.Ff=dn(this.Ff,16):this.Ff=hn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,17)},set:function(n){n?this.Ff=dn(this.Ff,17):this.Ff=hn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,26)},set:function(n){n?this.Ff=dn(this.Ff,26):this.Ff=hn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Va(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){bt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ar(xn,Ii);var qc=function(){xn.call(this),this.pushButton=!0};Ar(qc,xn);var Ea=function(){xn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ar(Ea,xn);var Lp=function(){var t,e;Ii.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Va(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){bt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ue.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ar(Lp,Ii),Ea.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Ea.prototype.createOption=function(t){var e=new Lp;return e.Parent=this,e.optionName=t,this.Kids.push(e),lM.call(this.scope,e),e};var $c=function(){xn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ue.CheckBox.createAppearanceStream()};Ar($c,xn);var Oo=function(){Ii.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,13)},set:function(e){e?this.Ff=dn(this.Ff,13):this.Ff=hn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,21)},set:function(e){e?this.Ff=dn(this.Ff,21):this.Ff=hn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,23)},set:function(e){e?this.Ff=dn(this.Ff,23):this.Ff=hn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,24)},set:function(e){e?this.Ff=dn(this.Ff,24):this.Ff=hn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,25)},set:function(e){e?this.Ff=dn(this.Ff,25):this.Ff=hn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,26)},set:function(e){e?this.Ff=dn(this.Ff,26):this.Ff=hn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ar(Oo,Ii);var Vc=function(){Oo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,14)},set:function(t){t?this.Ff=dn(this.Ff,14):this.Ff=hn(this.Ff,14)}}),this.password=!0};Ar(Vc,Oo);var Ue={CheckBox:{createAppearanceStream:function(){return{N:{On:Ue.CheckBox.YesNormal},D:{On:Ue.CheckBox.YesPushDown,Off:Ue.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Hi(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Q1(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+nt(Ue.internal.getWidth(t))+" "+nt(Ue.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+nt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Hi(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ue.internal.getHeight(t),o=Ue.internal.getWidth(t),a=Q1(t,t.caption);return i.push("1 g"),i.push("0 0 "+nt(o)+" "+nt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+nt(o-1)+" "+nt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+nt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Hi(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+nt(Ue.internal.getWidth(t))+" "+nt(Ue.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ue.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ue.RadioButton.Circle.YesNormal,e.D[t]=Ue.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Hi(t);e.scope=t.scope;var n=[],r=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ue.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ro(Ue.internal.getWidth(t)/2)+" "+ro(Ue.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Hi(t);e.scope=t.scope;var n=[],r=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ue.internal.Bezier_C).toFixed(5)),o=Number((r*Ue.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ro(Ue.internal.getWidth(t)/2)+" "+ro(Ue.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ro(Ue.internal.getWidth(t)/2)+" "+ro(Ue.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Hi(t);e.scope=t.scope;var n=[],r=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ue.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ro(Ue.internal.getWidth(t)/2)+" "+ro(Ue.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ue.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ue.RadioButton.Cross.YesNormal,e.D[t]=Ue.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Hi(t);e.scope=t.scope;var n=[],r=Ue.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+nt(Ue.internal.getWidth(t)-2)+" "+nt(Ue.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(nt(r.x1.x)+" "+nt(r.x1.y)+" m"),n.push(nt(r.x2.x)+" "+nt(r.x2.y)+" l"),n.push(nt(r.x4.x)+" "+nt(r.x4.y)+" m"),n.push(nt(r.x3.x)+" "+nt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Hi(t);e.scope=t.scope;var n=Ue.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+nt(Ue.internal.getWidth(t))+" "+nt(Ue.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+nt(Ue.internal.getWidth(t)-2)+" "+nt(Ue.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(nt(n.x1.x)+" "+nt(n.x1.y)+" m"),r.push(nt(n.x2.x)+" "+nt(n.x2.y)+" l"),r.push(nt(n.x4.x)+" "+nt(n.x4.y)+" m"),r.push(nt(n.x3.x)+" "+nt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Hi(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+nt(Ue.internal.getWidth(t))+" "+nt(Ue.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ue.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ue.internal.getWidth(t),n=Ue.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ue.internal.getWidth=function(t){var e=0;return bt(t)==="object"&&(e=R_(t.Rect[2])),e},Ue.internal.getHeight=function(t){var e=0;return bt(t)==="object"&&(e=R_(t.Rect[3])),e};var lM=nn.addField=function(t){if(aM(this,t),!(t instanceof Ii))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};nn.AcroFormChoiceField=Sa,nn.AcroFormListBox=Na,nn.AcroFormComboBox=Ca,nn.AcroFormEditBox=Hc,nn.AcroFormButton=xn,nn.AcroFormPushButton=qc,nn.AcroFormRadioButton=Ea,nn.AcroFormCheckBox=$c,nn.AcroFormTextField=Oo,nn.AcroFormPasswordField=Vc,nn.AcroFormAppearance=Ue,nn.AcroForm={ChoiceField:Sa,ListBox:Na,ComboBox:Ca,EditBox:Hc,Button:xn,PushButton:qc,RadioButton:Ea,CheckBox:$c,TextField:Oo,PasswordField:Vc,Appearance:Ue},$e.AcroForm={ChoiceField:Sa,ListBox:Na,ComboBox:Ca,EditBox:Hc,Button:xn,PushButton:qc,RadioButton:Ea,CheckBox:$c,TextField:Oo,PasswordField:Vc,Appearance:Ue};var uM=$e.AcroForm;function hN(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(P,k){var V,Y,oe,Q,G,z=e;if((k=k||e)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(F(P))for(G in n)for(oe=n[G],V=0;V<oe.length;V+=1){for(Q=!0,Y=0;Y<oe[V].length;Y+=1)if(oe[V][Y]!==void 0&&oe[V][Y]!==P[Y]){Q=!1;break}if(Q===!0){z=G;break}}else for(G in n)for(oe=n[G],V=0;V<oe.length;V+=1){for(Q=!0,Y=0;Y<oe[V].length;Y+=1)if(oe[V][Y]!==void 0&&oe[V][Y]!==P.charCodeAt(Y)){Q=!1;break}if(Q===!0){z=G;break}}return z===e&&k!==e&&(z=k),z},i=function P(k){for(var V=this.internal.write,Y=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:k.width}),Q.push({key:"Height",value:k.height}),k.colorSpace===C.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===C.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var G="",z=0,$=k.transparency.length;z<$;z++)G+=k.transparency[z]+" "+k.transparency[z]+" ";Q.push({key:"Mask",value:"["+G+"]"})}k.sMask!==void 0&&Q.push({key:"SMask",value:k.objectId+1+" 0 R"});var te=k.filter!==void 0?["/"+k.filter]:void 0;if(Y({data:k.data,additionalKeyValues:Q,alreadyAppliedFilters:te,objectId:k.objectId}),V("endobj"),"sMask"in k&&k.sMask!==void 0){var de="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,A={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:de,data:k.sMask};"filter"in k&&(A.filter=k.filter),P.call(this,A)}if(k.colorSpace===C.INDEXED){var U=this.internal.newObject();Y({data:I(new Uint8Array(k.palette)),objectId:U}),V("endobj")}},s=function(){var P=this.internal.collections.addImage_images;for(var k in P)i.call(this,P[k])},o=function(){var P,k=this.internal.collections.addImage_images,V=this.internal.write;for(var Y in k)V("/I"+(P=k[Y]).index,P.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var P=this.internal.collections.addImage_images;return a.call(this),P},c=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(P){return typeof t["process"+P.toUpperCase()]=="function"},h=function(P){return bt(P)==="object"&&P.nodeType===1},m=function(P,k){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var V=""+P.getAttribute("src");if(V.indexOf("data:image/")===0)return Wc(unescape(V).split("base64,").pop());var Y=t.loadFile(V,!0);if(Y!==void 0)return Y}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var oe;switch(k){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;case"JPEG":case"JPG":default:oe="image/jpeg"}return Wc(P.toDataURL(oe,1).split("base64,").pop())}},p=function(P){var k=this.internal.collections.addImage_images;if(k){for(var V in k)if(P===k[V].alias)return k[V]}},b=function(P,k,V){return P||k||(P=-96,k=-96),P<0&&(P=-1*V.width*72/P/this.internal.scaleFactor),k<0&&(k=-1*V.height*72/k/this.internal.scaleFactor),P===0&&(P=k*V.width/V.height),k===0&&(k=P*V.height/V.width),[P,k]},S=function(P,k,V,Y,oe,Q){var G=b.call(this,V,Y,oe),z=this.internal.getCoordinateString,$=this.internal.getVerticalCoordinateString,te=l.call(this);if(V=G[0],Y=G[1],te[oe.index]=oe,Q){Q*=Math.PI/180;var de=Math.cos(Q),A=Math.sin(Q),U=function(Z){return Z.toFixed(4)},q=[U(de),U(A),U(-1*A),U(de),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,z(P),$(k+Y),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([z(V),"0","0",z(Y),"0","0","cm"].join(" "))):this.internal.write([z(V),"0","0",z(Y),z(P),$(k+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},C=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(P){var k,V,Y=0;if(typeof P=="string")for(V=P.length,k=0;k<V;k++)Y=(Y<<5)-Y+P.charCodeAt(k),Y|=0;else if(F(P))for(V=P.byteLength/2,k=0;k<V;k++)Y=(Y<<5)-Y+P[k],Y|=0;return Y},_=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var k=!0;return P.length===0&&(k=!1),P.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(k=!1),k},E=t.__addimage__.extractImageFromDataUrl=function(P){var k=(P=P||"").split("base64,"),V=null;if(k.length===2){var Y=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(k[0]);Array.isArray(Y)&&(V={mimeType:Y[1],charset:Y[2],data:k[1]})}return V},O=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(P){return O()&&P instanceof ArrayBuffer};var F=t.__addimage__.isArrayBufferView=function(P){return O()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},R=t.__addimage__.binaryStringToUint8Array=function(P){for(var k=P.length,V=new Uint8Array(k),Y=0;Y<k;Y++)V[Y]=P.charCodeAt(Y);return V},I=t.__addimage__.arrayBufferToBinaryString=function(P){for(var k="",V=F(P)?P:new Uint8Array(P),Y=0;Y<V.length;Y+=8192)k+=String.fromCharCode.apply(null,V.subarray(Y,Y+8192));return k};t.addImage=function(){var P,k,V,Y,oe,Q,G,z,$;if(typeof arguments[1]=="number"?(k=e,V=arguments[1],Y=arguments[2],oe=arguments[3],Q=arguments[4],G=arguments[5],z=arguments[6],$=arguments[7]):(k=arguments[1],V=arguments[2],Y=arguments[3],oe=arguments[4],Q=arguments[5],G=arguments[6],z=arguments[7],$=arguments[8]),bt(P=arguments[0])==="object"&&!h(P)&&"imageData"in P){var te=P;P=te.imageData,k=te.format||k||e,V=te.x||V||0,Y=te.y||Y||0,oe=te.w||te.width||oe,Q=te.h||te.height||Q,G=te.alias||G,z=te.compression||z,$=te.rotation||te.angle||$}var de=this.internal.getFilters();if(z===void 0&&de.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(V)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var A=W.call(this,P,k,G,z);return S.call(this,V,Y,oe,Q,A,$),this};var W=function(P,k,V,Y){var oe,Q,G;if(typeof P=="string"&&r(P)===e){P=unescape(P);var z=H(P,!1);(z!==""||(z=t.loadFile(P,!0))!==void 0)&&(P=z)}if(h(P)&&(P=m(P,k)),k=r(P,k),!f(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((G=V)==null||G.length===0)&&(V=function($){return typeof $=="string"||F($)?y($):F($.data)?y($.data):null}(P)),(oe=p.call(this,V))||(O()&&(P instanceof Uint8Array||k==="RGBA"||(Q=P,P=R(P))),oe=this["process"+k.toUpperCase()](P,c.call(this),V,function($){return $&&typeof $=="string"&&($=$.toUpperCase()),$ in t.image_compression?$:w.NONE}(Y),Q)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},H=t.__addimage__.convertBase64ToBinaryString=function(P,k){var V;k=typeof k!="boolean"||k;var Y,oe="";if(typeof P=="string"){Y=(V=E(P))!==null?V.data:P;try{oe=Wc(Y)}catch(Q){if(k)throw _(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};t.getImageProperties=function(P){var k,V,Y="";if(h(P)&&(P=m(P)),typeof P=="string"&&r(P)===e&&((Y=H(P,!1))===""&&(Y=t.loadFile(P)||""),P=Y),V=r(P),!f(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!O()||P instanceof Uint8Array||(P=R(P)),!(k=this["process"+V.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=V,k}})($e.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};$e.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,f=!1,h=0;h<c.length&&!f;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){r=c[m];var p=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(S.objId),y=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",s+=" /Popup "+C.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(w(y))+") >>",S.content=s;var _=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(s+=" /Open true"),s+=" >>",C.content=s,this.internal.write(S.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var E=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var O=this.annotations._nameMap[r.options.name];r.options.pageNumber=O.page,r.options.top=O.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var F=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+F+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var f=this.splitTextToSize(n,a).length;o=Math.ceil(c*f)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}($e.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},a=t.__arabicParser__.isArabicEndLetter=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(S){return o(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(S){var C=0,w=n,y="",_=0;for(C=0;C<S.length;C+=1)w[S.charCodeAt(C)]!==void 0?(_++,typeof(w=w[S.charCodeAt(C)])=="number"&&(y+=String.fromCharCode(w),w=n,_=0),C===S.length-1&&(w=n,y+=S.charAt(C-(_-1)),C-=_-1,_=0)):(w=n,y+=S.charAt(C-_),C-=_,_=0);return y};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(S,C,w){return o(S)?s(S)===!1?-1:!c(S)||!o(C)&&!o(w)||!o(w)&&a(C)||a(S)&&!o(C)||a(S)&&l(C)||a(S)&&a(C)?0:f(S)&&o(C)&&!a(C)&&o(w)&&c(w)?3:a(S)||!o(w)?1:2:-1},p=function(S){var C=0,w=0,y=0,_="",E="",O="",F=(S=S||"").split("\\s+"),R=[];for(C=0;C<F.length;C+=1){for(R.push(""),w=0;w<F[C].length;w+=1)_=F[C][w],E=F[C][w-1],O=F[C][w+1],o(_)?(y=m(_,E,O),R[C]+=y!==-1?String.fromCharCode(e[_.charCodeAt(0)][y]):_):R[C]+=_;R[C]=h(R[C])}return R.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var S,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(C)){var y=0;for(w=[],y=0;y<C.length;y+=1)Array.isArray(C[y])?w.push([p(C[y][0]),C[y][1],C[y][2]]):w.push([p(C[y])]);S=w}else S=p(C);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",b])}($e.API),$e.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}($e.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(S){l=S}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(S){b=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var f=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,p=0,b=0,S=0,C=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,E){return _.concat(C.splitTextToSize(E,w))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)p<(S=this.getStringUnitWidth(l[y],{font:h})*f)&&(p=S);return p!==0&&(b=l.length),{w:p/=m,h:Math.max((b*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,p&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,f,h,m){if(r.call(this),!f)throw new Error("No data for PDF table.");var p,b,S,C,w=[],y=[],_=[],E={},O={},F=[],R=[],I=(m=m||{}).autoSize||!1,W=m.printHeaders!==!1,H=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,P=m.margins||Object.assign({width:this.getPageWidth()},e),k=typeof m.padding=="number"?m.padding:3,V=m.headerBackgroundColor||"#c8c8c8",Y=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=W,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=Y,this.setFontSize(H),h==null)y=w=Object.keys(f[0]),_=w.map(function(){return"left"});else if(Array.isArray(h)&&bt(h[0])==="object")for(w=h.map(function(te){return te.name}),y=h.map(function(te){return te.prompt||te.name||""}),_=h.map(function(te){return te.align||"left"}),p=0;p<h.length;p+=1)O[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(y=w=h,_=w.map(function(){return"left"}));if(I||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<w.length;p+=1){for(E[C=w[p]]=f.map(function(te){return te[C]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=E[C],this.setFont(void 0,"normal"),S=0;S<b.length;S+=1)F.push(this.getTextDimensions(b[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[C]=Math.max.apply(null,F)+k+k,F=[]}if(W){var oe={};for(p=0;p<w.length;p+=1)oe[w[p]]={},oe[w[p]].text=y[p],oe[w[p]].align=_[p];var Q=a.call(this,oe,O);R=w.map(function(te){return new s(l,c,O[te],Q,oe[te].text,void 0,oe[te].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var G=h.reduce(function(te,de){return te[de.name]=de.align,te},{});for(p=0;p<f.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:f[p]},this);var z=a.call(this,f[p],O);for(S=0;S<w.length;S+=1){var $=f[p][w[S]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:S,data:$},this),o.call(this,new s(l,c,O[w[S]],z,$,p+2,G[w[S]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(p){var b=l[p];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/m+f+f},this).reduce(function(p,b){return Math.max(p,b)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(f.y=this.internal.__cell__.margins.top||0,m.push(f)),f.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(b)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}($e.API);var fN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},pN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],J1=hN(pN),mN=[100,200,300,400,500,600,700,800,900],cM=hN(mN);function X1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return fN[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof J1[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function O_(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var dM={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},D_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function j_(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function hM(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},dM,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=X1(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+j_(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var f=J1[l],h=f<=J1.normal?-1:1,m=O_(c,pN,f,h);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var f=fN[l],h=0;h<f.length;++h)if(c[f[h]])return c[f[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var f=cM[l],h=O_(c,mN,f,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+j_(s)+"'.");return o}function M_(t){return t.trimLeft()}function fM(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function pM(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var cf,F_,B_,dg=["times"];(function(t){var e,n,r,i,s,o,a,l,c,f=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new l,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new o,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new o,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new f}]);var h=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=A;Object.defineProperty(this,"pdf",{get:function(){return U}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(ye){q=!!ye}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(ye){Z=!!ye}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(ye){isNaN(ye)||(J=ye)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(ye){isNaN(ye)||(se=ye)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ye){var ee;typeof ye=="number"?ee=[ye,ye,ye,ye]:((ee=new Array(4))[0]=ye[0],ee[1]=ye.length>=2?ye[1]:ee[0],ee[2]=ye.length>=3?ye[2]:ee[0],ee[3]=ye.length>=4?ye[3]:ee[1]),c.margin=ee}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(ye){ue=ye}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(ye){he=ye}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(ye){Ne=ye}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ye){ye instanceof f&&(c=ye)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ye){c.path=ye}});var we=[];Object.defineProperty(this,"ctxStack",{get:function(){return we},set:function(ye){we=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var ee;ee=m(ye),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var ee=m(ye);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var Pe=null;function Ie(ye,ee){if(Pe===null){var rt=function(ze){var Ee=[];return Object.keys(ze).forEach(function(Te){ze[Te].forEach(function(De){var Oe=null;switch(De){case"bold":Oe={family:Te,weight:"bold"};break;case"italic":Oe={family:Te,style:"italic"};break;case"bolditalic":Oe={family:Te,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:Te}}Oe!==null&&(Oe.ref={name:Te,style:De},Ee.push(Oe))})}),Ee}(ye.getFontList());Pe=function(ze){for(var Ee={},Te=0;Te<ze.length;++Te){var De=X1(ze[Te]),Oe=De.family,We=De.stretch,Ze=De.style,ot=De.weight;Ee[Oe]=Ee[Oe]||{},Ee[Oe][We]=Ee[Oe][We]||{},Ee[Oe][We][Ze]=Ee[Oe][We][Ze]||{},Ee[Oe][We][Ze][ot]=De}return Ee}(rt.concat(ee))}return Pe}var Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(ye){Pe=null,Ve=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var ee;if(this.ctx.font=ye,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var rt=ee[1],ze=(ee[2],ee[3]),Ee=ee[4],Te=(ee[5],ee[6]),De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(De==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var Oe=function(Je){var dt,je,qn=[],yt=Je.trim();if(yt==="")return dg;if(yt in D_)return[D_[yt]];for(;yt!=="";){switch(je=null,dt=(yt=M_(yt)).charAt(0)){case'"':case"'":je=fM(yt.substring(1),dt);break;default:je=pM(yt)}if(je===null||(qn.push(je[0]),(yt=M_(je[1]))!==""&&yt.charAt(0)!==","))return dg;yt=yt.replace(/^,/,"")}return qn}(Te);if(this.fontFaces){var We=hM(Ie(this.pdf,this.fontFaces),Oe.map(function(Je){return{family:Je,stretch:"normal",weight:ze,style:rt}}));this.pdf.setFont(We.ref.name,We.ref.style)}else{var Ze="";(ze==="bold"||parseInt(ze,10)>=700||rt==="bold")&&(Ze="bold"),rt==="italic"&&(Ze+="italic"),Ze.length===0&&(Ze="normal");for(var ot="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<Oe.length;mt++){if(this.pdf.internal.getFont(Oe[mt],Ze,{noFallback:!0,disableWarning:!0})!==void 0){ot=Oe[mt];break}if(Ze==="bolditalic"&&this.pdf.internal.getFont(Oe[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=Oe[mt],Ze="bold";else if(this.pdf.internal.getFont(Oe[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=Oe[mt],Ze="normal";break}}if(ot===""){for(var Pt=0;Pt<Oe.length;Pt++)if(at[Oe[Pt]]){ot=at[Oe[Pt]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,Ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};h.prototype.setLineDash=function(A){this.lineDash=A},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){E.call(this,"fill",!1)},h.prototype.stroke=function(){E.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(A,U){if(isNaN(A)||isNaN(U))throw Ot.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new o(A,U));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(A,U)},h.prototype.closePath=function(){var A=new o(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&bt(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){A=new o(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(A.x,A.y)},h.prototype.lineTo=function(A,U){if(isNaN(A)||isNaN(U))throw Ot.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new o(A,U));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},h.prototype.quadraticCurveTo=function(A,U,q,Z){if(isNaN(q)||isNaN(Z)||isNaN(A)||isNaN(U))throw Ot.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new o(q,Z)),se=this.ctx.transform.applyToPoint(new o(A,U));this.path.push({type:"qct",x1:se.x,y1:se.y,x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},h.prototype.bezierCurveTo=function(A,U,q,Z,J,se){if(isNaN(J)||isNaN(se)||isNaN(A)||isNaN(U)||isNaN(q)||isNaN(Z))throw Ot.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new o(J,se)),he=this.ctx.transform.applyToPoint(new o(A,U)),Ne=this.ctx.transform.applyToPoint(new o(q,Z));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:Ne.x,y2:Ne.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},h.prototype.arc=function(A,U,q,Z,J,se){if(isNaN(A)||isNaN(U)||isNaN(q)||isNaN(Z)||isNaN(J))throw Ot.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new o(A,U));A=ue.x,U=ue.y;var he=this.ctx.transform.applyToPoint(new o(0,q)),Ne=this.ctx.transform.applyToPoint(new o(0,0));q=Math.sqrt(Math.pow(he.x-Ne.x,2)+Math.pow(he.y-Ne.y,2))}Math.abs(J-Z)>=2*Math.PI&&(Z=0,J=2*Math.PI),this.path.push({type:"arc",x:A,y:U,radius:q,startAngle:Z,endAngle:J,counterclockwise:se})},h.prototype.arcTo=function(A,U,q,Z,J){throw new Error("arcTo not implemented.")},h.prototype.rect=function(A,U,q,Z){if(isNaN(A)||isNaN(U)||isNaN(q)||isNaN(Z))throw Ot.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,U),this.lineTo(A+q,U),this.lineTo(A+q,U+Z),this.lineTo(A,U+Z),this.lineTo(A,U),this.lineTo(A+q,U),this.lineTo(A,U)},h.prototype.fillRect=function(A,U,q,Z){if(isNaN(A)||isNaN(U)||isNaN(q)||isNaN(Z))throw Ot.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,U,q,Z),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},h.prototype.strokeRect=function(A,U,q,Z){if(isNaN(A)||isNaN(U)||isNaN(q)||isNaN(Z))throw Ot.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(A,U,q,Z),this.stroke())},h.prototype.clearRect=function(A,U,q,Z){if(isNaN(A)||isNaN(U)||isNaN(q)||isNaN(Z))throw Ot.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,U,q,Z))},h.prototype.save=function(A){A=typeof A!="boolean"||A;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},h.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(U),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(A){var U,q,Z,J;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))U=0,q=0,Z=0,J=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(se!==null)U=parseInt(se[1]),q=parseInt(se[2]),Z=parseInt(se[3]),J=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)U=parseInt(se[1]),q=parseInt(se[2]),Z=parseInt(se[3]),J=parseFloat(se[4]);else{if(J=1,typeof A=="string"&&A.charAt(0)!=="#"){var ue=new oN(A);A=ue.ok?ue.toHex():"#000000"}A.length===4?(U=A.substring(1,2),U+=U,q=A.substring(2,3),q+=q,Z=A.substring(3,4),Z+=Z):(U=A.substring(1,3),q=A.substring(3,5),Z=A.substring(5,7)),U=parseInt(U,16),q=parseInt(q,16),Z=parseInt(Z,16)}}return{r:U,g:q,b:Z,a:J,style:A}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(A,U,q,Z){if(isNaN(U)||isNaN(q)||typeof A!="string")throw Ot.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!p.call(this)){var J=z(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;k.call(this,{text:A,x:U,y:q,scale:se,angle:J,align:this.textAlign,maxWidth:Z})}},h.prototype.strokeText=function(A,U,q,Z){if(isNaN(U)||isNaN(q)||typeof A!="string")throw Ot.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){Z=isNaN(Z)?void 0:Z;var J=z(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;k.call(this,{text:A,x:U,y:q,scale:se,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:Z})}},h.prototype.measureText=function(A){if(typeof A!="string")throw Ot.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,q=this.pdf.internal.scaleFactor,Z=U.internal.getFontSize(),J=U.getStringUnitWidth(A)*Z/U.internal.scaleFactor,se=function(ue){var he=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this};return new se({width:J*=Math.round(96*q/72*1e4)/1e4})},h.prototype.scale=function(A,U){if(isNaN(A)||isNaN(U))throw Ot.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(A,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.rotate=function(A){if(isNaN(A))throw Ot.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new l(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},h.prototype.translate=function(A,U){if(isNaN(A)||isNaN(U))throw Ot.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,A,U);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.transform=function(A,U,q,Z,J,se){if(isNaN(A)||isNaN(U)||isNaN(q)||isNaN(Z)||isNaN(J)||isNaN(se))throw Ot.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new l(A,U,q,Z,J,se);this.ctx.transform=this.ctx.transform.multiply(ue)},h.prototype.setTransform=function(A,U,q,Z,J,se){A=isNaN(A)?1:A,U=isNaN(U)?0:U,q=isNaN(q)?0:q,Z=isNaN(Z)?1:Z,J=isNaN(J)?0:J,se=isNaN(se)?0:se,this.ctx.transform=new l(A,U,q,Z,J,se)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(A,U,q,Z,J,se,ue,he,Ne){var we=this.pdf.getImageProperties(A),Pe=1,Ie=1,Ve=1,ye=1;Z!==void 0&&he!==void 0&&(Ve=he/Z,ye=Ne/J,Pe=we.width/Z*he/Z,Ie=we.height/J*Ne/J),se===void 0&&(se=U,ue=q,U=0,q=0),Z!==void 0&&he===void 0&&(he=Z,Ne=J),Z===void 0&&he===void 0&&(he=we.width,Ne=we.height);for(var ee,rt=this.ctx.transform.decompose(),ze=z(rt.rotate.shx),Ee=new l,Te=(Ee=(Ee=(Ee=Ee.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale)).applyToRectangle(new a(se-U*Ve,ue-q*ye,Z*Pe,J*Ie)),De=C.call(this,Te),Oe=[],We=0;We<De.length;We+=1)Oe.indexOf(De[We])===-1&&Oe.push(De[We]);if(_(Oe),this.autoPaging)for(var Ze=Oe[0],ot=Oe[Oe.length-1],at=Ze;at<ot+1;at++){this.pdf.setPage(at);var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=at===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=at===1?0:Je+(at-2)*dt;if(this.ctx.clip_path.length!==0){var qn=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ee,this.posX+this.margin[3],-je+Pt+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=qn}var yt=JSON.parse(JSON.stringify(Te));yt=y([yt],this.posX+this.margin[3],-je+Pt+this.ctx.prevPageLastElemOffset)[0];var ii=(at>Ze||at<ot)&&S.call(this);ii&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,dt,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,ze),ii&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,ze)};var C=function(A,U,q){var Z=[];U=U||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":Z.push(Math.floor((A.y+J)/q)+1);break;case"arc":Z.push(Math.floor((A.y+J-A.radius)/q)+1),Z.push(Math.floor((A.y+J+A.radius)/q)+1);break;case"qct":var se=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);Z.push(Math.floor((se.y+J)/q)+1),Z.push(Math.floor((se.y+se.h+J)/q)+1);break;case"bct":var ue=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);Z.push(Math.floor((ue.y+J)/q)+1),Z.push(Math.floor((ue.y+ue.h+J)/q)+1);break;case"rect":Z.push(Math.floor((A.y+J)/q)+1),Z.push(Math.floor((A.y+A.h+J)/q)+1)}for(var he=0;he<Z.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<Z[he];)w.call(this);return Z},w=function(){var A=this.fillStyle,U=this.strokeStyle,q=this.font,Z=this.lineCap,J=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=U,this.font=q,this.lineCap=Z,this.lineWidth=J,this.lineJoin=se},y=function(A,U,q){for(var Z=0;Z<A.length;Z++)switch(A[Z].type){case"bct":A[Z].x2+=U,A[Z].y2+=q;case"qct":A[Z].x1+=U,A[Z].y1+=q;case"mt":case"lt":case"arc":default:A[Z].x+=U,A[Z].y+=q}return A},_=function(A){return A.sort(function(U,q){return U-q})},E=function(A,U){for(var q,Z,J=this.fillStyle,se=this.strokeStyle,ue=this.lineCap,he=this.lineWidth,Ne=Math.abs(he*this.ctx.transform.scaleX),we=this.lineJoin,Pe=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),Ve=[],ye=0;ye<Ie.length;ye++)if(Ie[ye].x!==void 0)for(var ee=C.call(this,Ie[ye]),rt=0;rt<ee.length;rt+=1)Ve.indexOf(ee[rt])===-1&&Ve.push(ee[rt]);for(var ze=0;ze<Ve.length;ze++)for(;this.pdf.internal.getNumberOfPages()<Ve[ze];)w.call(this);if(_(Ve),this.autoPaging)for(var Ee=Ve[0],Te=Ve[Ve.length-1],De=Ee;De<Te+1;De++){this.pdf.setPage(De),this.fillStyle=J,this.strokeStyle=se,this.lineCap=ue,this.lineWidth=Ne,this.lineJoin=we;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],We=De===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=De===1?0:Ze+(De-2)*ot;if(this.ctx.clip_path.length!==0){var mt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(q,this.posX+this.margin[3],-at+We+this.ctx.prevPageLastElemOffset),O.call(this,A,!0),this.path=mt}if(Z=JSON.parse(JSON.stringify(Pe)),this.path=y(Z,this.posX+this.margin[3],-at+We+this.ctx.prevPageLastElemOffset),U===!1||De===0){var Pt=(De>Ee||De<Te)&&S.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,ot,null).clip().discardPath()),O.call(this,A,U),Pt&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=Ne,O.call(this,A,U),this.lineWidth=he;this.path=Pe},O=function(A,U){if((A!=="stroke"||U||!b.call(this))&&(A==="stroke"||U||!p.call(this))){for(var q,Z,J=[],se=this.path,ue=0;ue<se.length;ue++){var he=se[ue];switch(he.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:he,deltas:[],abs:[]});break;case"lt":var Ne=J.length;if(se[ue-1]&&!isNaN(se[ue-1].x)&&(q=[he.x-se[ue-1].x,he.y-se[ue-1].y],Ne>0)){for(;Ne>=0;Ne--)if(J[Ne-1].close!==!0&&J[Ne-1].begin!==!0){J[Ne-1].deltas.push(q),J[Ne-1].abs.push(he);break}}break;case"bct":q=[he.x1-se[ue-1].x,he.y1-se[ue-1].y,he.x2-se[ue-1].x,he.y2-se[ue-1].y,he.x-se[ue-1].x,he.y-se[ue-1].y],J[J.length-1].deltas.push(q);break;case"qct":var we=se[ue-1].x+2/3*(he.x1-se[ue-1].x),Pe=se[ue-1].y+2/3*(he.y1-se[ue-1].y),Ie=he.x+2/3*(he.x1-he.x),Ve=he.y+2/3*(he.y1-he.y),ye=he.x,ee=he.y;q=[we-se[ue-1].x,Pe-se[ue-1].y,Ie-se[ue-1].x,Ve-se[ue-1].y,ye-se[ue-1].x,ee-se[ue-1].y],J[J.length-1].deltas.push(q);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(he)}}Z=U?null:A==="stroke"?"stroke":"fill";for(var rt=!1,ze=0;ze<J.length;ze++)if(J[ze].arc)for(var Ee=J[ze].abs,Te=0;Te<Ee.length;Te++){var De=Ee[Te];De.type==="arc"?I.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,U,!rt):V.call(this,De.x,De.y),rt=!0}else if(J[ze].close===!0)this.pdf.internal.out("h"),rt=!1;else if(J[ze].begin!==!0){var Oe=J[ze].start.x,We=J[ze].start.y;Y.call(this,J[ze].deltas,Oe,We),rt=!0}Z&&W.call(this,Z),U&&H.call(this)}},F=function(A){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-q;case"top":return A+U-q;case"hanging":return A+U-2*q;case"middle":return A+U/2-q;case"ideographic":return A;case"alphabetic":default:return A}},R=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(U,q){this.colorStops.push([U,q])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(A,U,q,Z,J,se,ue,he,Ne){for(var we=Q.call(this,q,Z,J,se),Pe=0;Pe<we.length;Pe++){var Ie=we[Pe];Pe===0&&(Ne?P.call(this,Ie.x1+A,Ie.y1+U):V.call(this,Ie.x1+A,Ie.y1+U)),oe.call(this,A,U,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}he?H.call(this):W.call(this,ue)},W=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(A,U){this.pdf.internal.out(n(A)+" "+r(U)+" m")},k=function(A){var U;switch(A.align){case"right":case"end":U="right";break;case"center":U="center";break;case"left":case"start":default:U="left"}var q=this.pdf.getTextDimensions(A.text),Z=F.call(this,A.y),J=R.call(this,Z)-q.h,se=this.ctx.transform.applyToPoint(new o(A.x,Z)),ue=this.ctx.transform.decompose(),he=new l;he=(he=(he=he.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var Ne,we,Pe,Ie=this.ctx.transform.applyToRectangle(new a(A.x,Z,q.w,q.h)),Ve=he.applyToRectangle(new a(A.x,J,q.w,q.h)),ye=C.call(this,Ve),ee=[],rt=0;rt<ye.length;rt+=1)ee.indexOf(ye[rt])===-1&&ee.push(ye[rt]);if(_(ee),this.autoPaging)for(var ze=ee[0],Ee=ee[ee.length-1],Te=ze;Te<Ee+1;Te++){this.pdf.setPage(Te);var De=Te===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[2],Ze=We-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],at=ot-this.margin[3],mt=Te===1?0:Oe+(Te-2)*Ze;if(this.ctx.clip_path.length!==0){var Pt=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Ne,this.posX+this.margin[3],-1*mt+De),O.call(this,"fill",!0),this.path=Pt}var Je=y([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-mt+De+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*A.scale),Pe=this.lineWidth,this.lineWidth=Pe*A.scale);var dt=this.autoPaging!=="text";if(dt||Je.y+Je.h<=We){if(dt||Je.y>=De&&Je.x<=ot){var je=dt?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||ot-Je.x)[0],qn=y([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-mt+De+this.ctx.prevPageLastElemOffset)[0],yt=dt&&(Te>ze||Te<Ee)&&S.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Ze,null).clip().discardPath()),this.pdf.text(je,qn.x,qn.y,{angle:A.angle,align:U,renderingMode:A.renderingMode}),yt&&this.pdf.restoreGraphicsState()}}else Je.y<We&&(this.ctx.prevPageLastElemOffset+=We-Je.y);A.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=Pe)}else A.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*A.scale),Pe=this.lineWidth,this.lineWidth=Pe*A.scale),this.pdf.text(A.text,se.x+this.posX,se.y+this.posY,{angle:A.angle,align:U,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=Pe)},V=function(A,U,q,Z){q=q||0,Z=Z||0,this.pdf.internal.out(n(A+q)+" "+r(U+Z)+" l")},Y=function(A,U,q){return this.pdf.lines(A,U,q,null,null)},oe=function(A,U,q,Z,J,se,ue,he){this.pdf.internal.out([e(i(q+A)),e(s(Z+U)),e(i(J+A)),e(s(se+U)),e(i(ue+A)),e(s(he+U)),"c"].join(" "))},Q=function(A,U,q,Z){for(var J=2*Math.PI,se=Math.PI/2;U>q;)U-=J;var ue=Math.abs(q-U);ue<J&&Z&&(ue=J-ue);for(var he=[],Ne=Z?-1:1,we=U;ue>1e-5;){var Pe=we+Ne*Math.min(ue,se);he.push(G.call(this,A,we,Pe)),ue-=Math.abs(Pe-we),we=Pe}return he},G=function(A,U,q){var Z=(q-U)/2,J=A*Math.cos(Z),se=A*Math.sin(Z),ue=J,he=-se,Ne=ue*ue+he*he,we=Ne+ue*J+he*se,Pe=4/3*(Math.sqrt(2*Ne*we)-we)/(ue*se-he*J),Ie=ue-Pe*he,Ve=he+Pe*ue,ye=Ie,ee=-Ve,rt=Z+U,ze=Math.cos(rt),Ee=Math.sin(rt);return{x1:A*Math.cos(U),y1:A*Math.sin(U),x2:Ie*ze-Ve*Ee,y2:Ie*Ee+Ve*ze,x3:ye*ze-ee*Ee,y3:ye*Ee+ee*ze,x4:A*Math.cos(q),y4:A*Math.sin(q)}},z=function(A){return 180*A/Math.PI},$=function(A,U,q,Z,J,se){var ue=A+.5*(q-A),he=U+.5*(Z-U),Ne=J+.5*(q-J),we=se+.5*(Z-se),Pe=Math.min(A,J,ue,Ne),Ie=Math.max(A,J,ue,Ne),Ve=Math.min(U,se,he,we),ye=Math.max(U,se,he,we);return new a(Pe,Ve,Ie-Pe,ye-Ve)},te=function(A,U,q,Z,J,se,ue,he){var Ne,we,Pe,Ie,Ve,ye,ee,rt,ze,Ee,Te,De,Oe,We,Ze=q-A,ot=Z-U,at=J-q,mt=se-Z,Pt=ue-J,Je=he-se;for(we=0;we<41;we++)ze=(ee=(Pe=A+(Ne=we/40)*Ze)+Ne*((Ve=q+Ne*at)-Pe))+Ne*(Ve+Ne*(J+Ne*Pt-Ve)-ee),Ee=(rt=(Ie=U+Ne*ot)+Ne*((ye=Z+Ne*mt)-Ie))+Ne*(ye+Ne*(se+Ne*Je-ye)-rt),we==0?(Te=ze,De=Ee,Oe=ze,We=Ee):(Te=Math.min(Te,ze),De=Math.min(De,Ee),Oe=Math.max(Oe,ze),We=Math.max(We,Ee));return new a(Math.round(Te),Math.round(De),Math.round(Oe-Te),Math.round(We-De))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,U,q=(A=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:U}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})($e.API),function(t){var e=function(s){var o,a,l,c,f,h,m,p,b,S;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(f=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(f=((f=((f=((f=(f-(S=f%85))/85)-(b=f%85))/85)-(p=f%85))/85)-(m=f%85))/85)%85,a.push(h+33,m+33,p+33,b+33,S+33)):a.push(122);return function(C,w){for(var y=w;y>0;y--)C.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,c,f,h=String,m="length",p=255,b="charCodeAt",S="slice",C="replace";for(s[S](-2),s=s[S](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),l=[],c=0,f=(s+=o="uuuuu"[S](s[m]%5||5))[m];f>c;c+=5)a=52200625*(s[b](c)-33)+614125*(s[b](c+1)-33)+7225*(s[b](c+2)-33)+85*(s[b](c+3)-33)+(s[b](c+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(w,y){for(var _=y;_>0;_--)w.pop()}(l,o[m]),h.fromCharCode.apply(h,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=V1(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}($e.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,f){var h=new XMLHttpRequest,m=0,p=function(b){var S=b.length,C=[],w=String.fromCharCode;for(m=0;m<S;m+=1)C.push(w(255&b.charCodeAt(m)));return C.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?f(p(this.responseText)):f(void 0)}),h.send(null),c&&h.status===200)return p(h.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}($e.API),function(t){function e(){return(Ge.html2canvas?Promise.resolve(Ge.html2canvas):z1(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Ge.DOMPurify?Promise.resolve(Ge.DOMPurify):z1(()=>import("./purify.es-a-CayzAK.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=bt(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,f){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(l(m,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var m=0;m<c.length;++m){var p=c[m],b=p.src.find(function(S){return S.format==="truetype"});b&&l.addFont(b.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||$e.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,f){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,f).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=l.call(c,o,a);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,$e.getPageSize=function(o,a,l){if(bt(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var f,h=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+a}var p,b=0,S=0;if(m.hasOwnProperty(h))b=m[h][1]/f,S=m[h][0]/f;else try{b=l[1],S=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",S>b&&(p=S,S=b,b=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>S&&(p=S,S=b,b=p)}return{width:S,height:b,unit:a,k:f,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(X1):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}($e.API),$e.API.addJS=function(t){return B_=t,this.internal.events.subscribe("postPutResources",function(){cf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(cf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),F_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+B_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){cf!==void 0&&F_!==void 0&&this.internal.out("/Names <</JavaScript "+cf+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,f=[];for(s=0;s<c;s++){var h=n.internal.newObject();f.push(h);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}($e.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(h){for(var m,p=256*h.charCodeAt(4)+h.charCodeAt(5),b=h.length,S={width:0,height:0,numcomponents:1},C=4;C<b;C+=2){if(C+=p,e.indexOf(h.charCodeAt(C+1))!==-1){m=256*h.charCodeAt(C+5)+h.charCodeAt(C+6),S={width:256*h.charCodeAt(C+7)+h.charCodeAt(C+8),height:m,numcomponents:h.charCodeAt(C+9)};break}p=256*h.charCodeAt(C+2)+h.charCodeAt(C+3)}return S}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return f}}($e.API);var kl,df,U_,z_,W_,mM=function(){var t,e,n;function r(s){var o,a,l,c,f,h,m,p,b,S,C,w,y,_;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),b=(function(){var E,O;for(O=[],E=0;E<4;++E)O.push(String.fromCharCode(this.data[this.pos++]));return O}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*f/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,o-=4),s=(h!=null?h.data:void 0)||this.imgData,w=0;0<=o?w<o:w>o;0<=o?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((S=l-this.transparency.indexed.length)>0)for(y=0;0<=S?y<S:y>S;0<=S?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(C=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,C.slice(0,m)),this.text[p]=String.fromCharCode.apply(String,C.slice(m+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(h,m,p,b){var S,C,w,y,_,E,O,F,R,I,W,H,P,k,V,Y,oe,Q,G,z,$,te=Math.ceil((c.width-h)/p),de=Math.ceil((c.height-m)/b),A=c.width==te&&c.height==de;for(k=o*te,H=A?a:new Uint8Array(k*de),E=s.length,P=0,C=0;P<de&&l<E;){switch(s[l++]){case 0:for(y=oe=0;oe<k;y=oe+=1)H[C++]=s[l++];break;case 1:for(y=Q=0;Q<k;y=Q+=1)S=s[l++],_=y<o?0:H[C-o],H[C++]=(S+_)%256;break;case 2:for(y=G=0;G<k;y=G+=1)S=s[l++],w=(y-y%o)/o,V=P&&H[(P-1)*k+w*o+y%o],H[C++]=(V+S)%256;break;case 3:for(y=z=0;z<k;y=z+=1)S=s[l++],w=(y-y%o)/o,_=y<o?0:H[C-o],V=P&&H[(P-1)*k+w*o+y%o],H[C++]=(S+Math.floor((_+V)/2))%256;break;case 4:for(y=$=0;$<k;y=$+=1)S=s[l++],w=(y-y%o)/o,_=y<o?0:H[C-o],P===0?V=Y=0:(V=H[(P-1)*k+w*o+y%o],Y=w&&H[(P-1)*k+(w-1)*o+y%o]),O=_+V-Y,F=Math.abs(O-_),I=Math.abs(O-V),W=Math.abs(O-Y),R=F<=I&&F<=W?_:I<=W?V:Y,H[C++]=(S+R)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!A){var U=((m+P*b)*c.width+h)*o,q=P*k;for(y=0;y<te;y+=1){for(var Z=0;Z<o;Z+=1)a[U++]=H[q++];U+=(p-1)*o}}P++}}return s=Vj(s),c.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,f,h,m,p;for(a=this.palette,f=this.transparency.indexed||[],c=new Uint8Array((f.length||0)+a.length),l=0,s=0,o=h=0,m=a.length;h<m;o=h+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(p=f[s++])!=null?p:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,f,h,m,p,b,S,C,w;if(l=this.colors,S=null,a=this.hasAlphaChannel,this.palette.length&&(S=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,a=!0),b=(c=s.data||s).length,h=S||o,f=m=0,l===1)for(;f<b;)p=S?4*o[f/4]:m,C=h[p++],c[f++]=C,c[f++]=C,c[f++]=C,c[f++]=a?h[p++]:255,m=p;else for(;f<b;)p=S?4*o[f/4]:m,c[f++]=h[p++],c[f++]=h[p++],c[f++]=h[p++],c[f++]=a?h[p++]:255,m=p},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ge)==="[object Window]"){try{e=Ge.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,f,h,m,p;if(this.animation){for(p=[],a=f=0,h=(m=this.animation.frames).length;f<h;a=++f)o=m[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,p.push(o.image=t(l));return p}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,f,h,m=this;return a=0,h=this.animation,c=h.numFrames,l=h.frames,f=h.numPlays,(o=function(){var p,b;if(p=a++%c,b=l[p],m.renderFrame(s,p),c>1&&a/c<f)return m.animation._timeout=setTimeout(o,b.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function gM(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,f=[],h=0,m=null,p=0,b=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];h=t[e++]|t[e++]<<8,m=t[e++],!(1&S)&&(m=null),p=S>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var C=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,E=t[e++],O=E>>6&1,F=1<<(7&E)+1,R=a,I=l,W=!1;E>>7&&(W=!0,R=e,I=F,e+=3*F);var H=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}f.push({x:C,y:w,width:y,height:_,has_local_palette:W,palette_offset:R,palette_size:I,data_offset:H,data_length:e-H,transparent_index:m,interlaced:!!O,delay:h,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return b},this.frameInfo=function(k){if(k<0||k>=f.length)throw new Error("Frame index out of range.");return f[k]},this.decodeAndBlitFrameBGRA=function(k,V){var Y=this.frameInfo(k),oe=Y.width*Y.height,Q=new Uint8Array(oe);H_(t,Y.data_offset,Q,oe);var G=Y.palette_offset,z=Y.transparent_index;z===null&&(z=256);var $=Y.width,te=n-$,de=$,A=4*(Y.y*n+Y.x),U=4*((Y.y+Y.height)*n+Y.x),q=A,Z=4*te;Y.interlaced===!0&&(Z+=4*n*7);for(var J=8,se=0,ue=Q.length;se<ue;++se){var he=Q[se];if(de===0&&(de=$,(q+=Z)>=U&&(Z=4*te+4*n*(J-1),q=A+($+te)*(J<<1),J>>=1)),he===z)q+=4;else{var Ne=t[G+3*he],we=t[G+3*he+1],Pe=t[G+3*he+2];V[q++]=Pe,V[q++]=we,V[q++]=Ne,V[q++]=255}--de}},this.decodeAndBlitFrameRGBA=function(k,V){var Y=this.frameInfo(k),oe=Y.width*Y.height,Q=new Uint8Array(oe);H_(t,Y.data_offset,Q,oe);var G=Y.palette_offset,z=Y.transparent_index;z===null&&(z=256);var $=Y.width,te=n-$,de=$,A=4*(Y.y*n+Y.x),U=4*((Y.y+Y.height)*n+Y.x),q=A,Z=4*te;Y.interlaced===!0&&(Z+=4*n*7);for(var J=8,se=0,ue=Q.length;se<ue;++se){var he=Q[se];if(de===0&&(de=$,(q+=Z)>=U&&(Z=4*te+4*n*(J-1),q=A+($+te)*(J<<1),J>>=1)),he===z)q+=4;else{var Ne=t[G+3*he],we=t[G+3*he+1],Pe=t[G+3*he+2];V[q++]=Ne,V[q++]=we,V[q++]=Pe,V[q++]=255}--de}}}function H_(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,f=0,h=0,m=0,p=t[e++],b=new Int32Array(4096),S=null;;){for(;f<16&&p!==0;)h|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<l)break;var C=h&c;if(h>>=l,f-=l,C!==s){if(C===o)break;for(var w=C<a?C:S,y=0,_=w;_>s;)_=b[_]>>8,++y;var E=_;if(m+y+(w!==C?1:0)>r)return void Ot.log("Warning, gif stream longer than expected.");n[m++]=E;var O=m+=y;for(w!==C&&(n[m++]=E),_=w;y--;)_=b[_],n[--O]=255&_,_>>=8;S!==null&&a<4096&&(b[a++]=S<<8|E,a>=c+1&&l<12&&(++l,c=c<<1|1)),S=C}else a=o+1,c=(1<<(l=i+1))-1,S=null}return m!==r&&Ot.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function hg(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),f=new Array(64),h=new Array(65535),m=new Array(65535),p=new Array(64),b=new Array(64),S=[],C=0,w=7,y=new Array(64),_=new Array(64),E=new Array(64),O=new Array(256),F=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(A,U){for(var q=0,Z=0,J=new Array,se=1;se<=16;se++){for(var ue=1;ue<=A[se];ue++)J[U[Z]]=[],J[U[Z]][0]=q,J[U[Z]][1]=se,Z++,q++;q*=2}return J}function G(A){for(var U=A[0],q=A[1]-1;q>=0;)U&1<<q&&(C|=1<<w),q--,--w<0&&(C==255?(z(255),z(0)):z(C),w=7,C=0)}function z(A){S.push(A)}function $(A){z(A>>8&255),z(255&A)}function te(A,U,q,Z,J){for(var se,ue=J[0],he=J[240],Ne=function(Ee,Te){var De,Oe,We,Ze,ot,at,mt,Pt,Je,dt,je=0;for(Je=0;Je<8;++Je){De=Ee[je],Oe=Ee[je+1],We=Ee[je+2],Ze=Ee[je+3],ot=Ee[je+4],at=Ee[je+5],mt=Ee[je+6];var qn=De+(Pt=Ee[je+7]),yt=De-Pt,ii=Oe+mt,Lt=Oe-mt,qt=We+at,Li=We-at,xt=Ze+ot,Ko=Ze-ot,Xt=qn+xt,si=qn-xt,rs=ii+qt,Zt=ii-qt;Ee[je]=Xt+rs,Ee[je+4]=Xt-rs;var et=.707106781*(Zt+si);Ee[je+2]=si+et,Ee[je+6]=si-et;var St=.382683433*((Xt=Ko+Li)-(Zt=Lt+yt)),Qo=.5411961*Xt+St,On=1.306562965*Zt+St,Ri=.707106781*(rs=Li+Lt),Oi=yt+Ri,Ye=yt-Ri;Ee[je+5]=Ye+Qo,Ee[je+3]=Ye-Qo,Ee[je+1]=Oi+On,Ee[je+7]=Oi-On,je+=8}for(je=0,Je=0;Je<8;++Je){De=Ee[je],Oe=Ee[je+8],We=Ee[je+16],Ze=Ee[je+24],ot=Ee[je+32],at=Ee[je+40],mt=Ee[je+48];var oi=De+(Pt=Ee[je+56]),Di=De-Pt,pr=Oe+mt,wn=Oe-mt,fn=We+at,Pr=We-at,Ya=Ze+ot,is=Ze-ot,ai=oi+Ya,li=oi-Ya,ui=pr+fn,ji=pr-fn;Ee[je]=ai+ui,Ee[je+32]=ai-ui;var Wr=.707106781*(ji+li);Ee[je+16]=li+Wr,Ee[je+48]=li-Wr;var Mi=.382683433*((ai=is+Pr)-(ji=wn+Di)),Jo=.5411961*ai+Mi,Ga=1.306562965*ji+Mi,Ka=.707106781*(ui=Pr+wn),Qa=Di+Ka,Ja=Di-Ka;Ee[je+40]=Ja+Jo,Ee[je+24]=Ja-Jo,Ee[je+8]=Qa+Ga,Ee[je+56]=Qa-Ga,je++}for(Je=0;Je<64;++Je)dt=Ee[Je]*Te[Je],p[Je]=dt>0?dt+.5|0:dt-.5|0;return p}(A,U),we=0;we<64;++we)b[R[we]]=Ne[we];var Pe=b[0]-q;q=b[0],Pe==0?G(Z[0]):(G(Z[m[se=32767+Pe]]),G(h[se]));for(var Ie=63;Ie>0&&b[Ie]==0;)Ie--;if(Ie==0)return G(ue),q;for(var Ve,ye=1;ye<=Ie;){for(var ee=ye;b[ye]==0&&ye<=Ie;)++ye;var rt=ye-ee;if(rt>=16){Ve=rt>>4;for(var ze=1;ze<=Ve;++ze)G(he);rt&=15}se=32767+b[ye],G(J[(rt<<4)+m[se]]),G(h[se]),ye++}return Ie!=63&&G(ue),q}function de(A){A=Math.min(Math.max(A,1),100),s!=A&&(function(U){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var J=o((q[Z]*U+50)/100);J=Math.min(Math.max(J,1),255),a[R[Z]]=J}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var he=o((se[ue]*U+50)/100);he=Math.min(Math.max(he,1),255),l[R[ue]]=he}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],we=0,Pe=0;Pe<8;Pe++)for(var Ie=0;Ie<8;Ie++)c[we]=1/(a[R[we]]*Ne[Pe]*Ne[Ie]*8),f[we]=1/(l[R[we]]*Ne[Pe]*Ne[Ie]*8),we++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),s=A)}this.encode=function(A,U){U&&de(U),S=new Array,C=0,w=7,$(65496),$(65504),$(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),$(1),$(1),z(0),z(0),function(){$(65499),$(132),z(0);for(var Oe=0;Oe<64;Oe++)z(a[Oe]);z(1);for(var We=0;We<64;We++)z(l[We])}(),function(Oe,We){$(65472),$(17),z(8),$(We),$(Oe),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)}(A.width,A.height),function(){$(65476),$(418),z(0);for(var Oe=0;Oe<16;Oe++)z(I[Oe+1]);for(var We=0;We<=11;We++)z(W[We]);z(16);for(var Ze=0;Ze<16;Ze++)z(H[Ze+1]);for(var ot=0;ot<=161;ot++)z(P[ot]);z(1);for(var at=0;at<16;at++)z(k[at+1]);for(var mt=0;mt<=11;mt++)z(V[mt]);z(17);for(var Pt=0;Pt<16;Pt++)z(Y[Pt+1]);for(var Je=0;Je<=161;Je++)z(oe[Je])}(),$(65498),$(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var q=0,Z=0,J=0;C=0,w=7,this.encode.displayName="_encode_";for(var se,ue,he,Ne,we,Pe,Ie,Ve,ye,ee=A.data,rt=A.width,ze=A.height,Ee=4*rt,Te=0;Te<ze;){for(se=0;se<Ee;){for(we=Ee*Te+se,Ie=-1,Ve=0,ye=0;ye<64;ye++)Pe=we+(Ve=ye>>3)*Ee+(Ie=4*(7&ye)),Te+Ve>=ze&&(Pe-=Ee*(Te+1+Ve-ze)),se+Ie>=Ee&&(Pe-=se+Ie-Ee+4),ue=ee[Pe++],he=ee[Pe++],Ne=ee[Pe++],y[ye]=(F[ue]+F[he+256>>0]+F[Ne+512>>0]>>16)-128,_[ye]=(F[ue+768>>0]+F[he+1024>>0]+F[Ne+1280>>0]>>16)-128,E[ye]=(F[ue+1280>>0]+F[he+1536>>0]+F[Ne+1792>>0]>>16)-128;q=te(y,c,q,e,r),Z=te(_,f,Z,n,i),J=te(E,f,J,n,i),se+=32}Te+=8}if(w>=0){var De=[];De[1]=w+1,De[0]=(1<<w+1)-1,G(De)}return $(65497),new Uint8Array(S)},t=t||50,function(){for(var A=String.fromCharCode,U=0;U<256;U++)O[U]=A(U)}(),e=Q(I,W),n=Q(k,V),r=Q(H,P),i=Q(Y,oe),function(){for(var A=1,U=2,q=1;q<=15;q++){for(var Z=A;Z<U;Z++)m[32767+Z]=q,h[32767+Z]=[],h[32767+Z][1]=q,h[32767+Z][0]=Z;for(var J=-(U-1);J<=-A;J++)m[32767+J]=q,h[32767+J]=[],h[32767+J][1]=q,h[32767+J][0]=U-1+J;A<<=1,U<<=1}}(),function(){for(var A=0;A<256;A++)F[A]=19595*A,F[A+256>>0]=38470*A,F[A+512>>0]=7471*A+32768,F[A+768>>0]=-11059*A,F[A+1024>>0]=-21709*A,F[A+1280>>0]=32768*A+8421375,F[A+1536>>0]=-27439*A,F[A+1792>>0]=-5329*A}(),de(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function q_(t){function e(I){if(!I)throw Error("assert :P")}function n(I,W,H){for(var P=0;4>P;P++)if(I[W+P]!=H.charCodeAt(P))return!0;return!1}function r(I,W,H,P,k){for(var V=0;V<k;V++)I[W+V]=H[P+V]}function i(I,W,H,P){for(var k=0;k<P;k++)I[W+k]=H}function s(I){return new Int32Array(I)}function o(I,W){for(var H=[],P=0;P<I;P++)H.push(new W);return H}function a(I,W){var H=[];return function P(k,V,Y){for(var oe=Y[V],Q=0;Q<oe&&(k.push(Y.length>V+1?[]:new W),!(Y.length<V+1));Q++)P(k[Q],V+1,Y)}(H,0,I),H}var l=function(){var I=this;function W(u,d){for(var v=1<<d-1>>>0;u&v;)v>>>=1;return v?(u&v-1)+v:u}function H(u,d,v,x,T){e(!(x%v));do u[d+(x-=v)]=T;while(0<x)}function P(u,d,v,x,T){if(e(2328>=T),512>=T)var D=s(512);else if((D=s(T))==null)return 0;return function(j,M,B,K,re,fe){var pe,le,xe=M,ge=1<<B,ie=s(16),ae=s(16);for(e(re!=0),e(K!=null),e(j!=null),e(0<B),le=0;le<re;++le){if(15<K[le])return 0;++ie[K[le]]}if(ie[0]==re)return 0;for(ae[1]=0,pe=1;15>pe;++pe){if(ie[pe]>1<<pe)return 0;ae[pe+1]=ae[pe]+ie[pe]}for(le=0;le<re;++le)pe=K[le],0<K[le]&&(fe[ae[pe]++]=le);if(ae[15]==1)return(K=new k).g=0,K.value=fe[0],H(j,xe,1,ge,K),ge;var _e,Se=-1,be=ge-1,Fe=0,Le=1,qe=1,Re=1<<B;for(le=0,pe=1,re=2;pe<=B;++pe,re<<=1){if(Le+=qe<<=1,0>(qe-=ie[pe]))return 0;for(;0<ie[pe];--ie[pe])(K=new k).g=pe,K.value=fe[le++],H(j,xe+Fe,re,Re,K),Fe=W(Fe,pe)}for(pe=B+1,re=2;15>=pe;++pe,re<<=1){if(Le+=qe<<=1,0>(qe-=ie[pe]))return 0;for(;0<ie[pe];--ie[pe]){if(K=new k,(Fe&be)!=Se){for(xe+=Re,_e=1<<(Se=pe)-B;15>Se&&!(0>=(_e-=ie[Se]));)++Se,_e<<=1;ge+=Re=1<<(_e=Se-B),j[M+(Se=Fe&be)].g=_e+B,j[M+Se].value=xe-M-Se}K.g=pe-B,K.value=fe[le++],H(j,xe+(Fe>>B),re,Re,K),Fe=W(Fe,pe)}}return Le!=2*ae[15]-1?0:ge}(u,d,v,x,T,D)}function k(){this.value=this.g=0}function V(){this.value=this.g=0}function Y(){this.G=o(5,k),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Dn,V)}function oe(u,d,v,x){e(u!=null),e(d!=null),e(2147483648>x),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=d,u.pa=v,u.Jd=d,u.Yc=v+x,u.Zc=4<=x?v+x-4+1:v,se(u)}function Q(u,d){for(var v=0;0<d--;)v|=he(u,128)<<d;return v}function G(u,d){var v=Q(u,d);return ue(u)?-v:v}function z(u,d,v,x){var T,D=0;for(e(u!=null),e(d!=null),e(4294967288>x),u.Sb=x,u.Ra=0,u.u=0,u.h=0,4<x&&(x=4),T=0;T<x;++T)D+=d[v+T]<<8*T;u.Ra=D,u.bb=x,u.oa=d,u.pa=v}function $(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<hl-8>>>0,++u.bb,u.u-=8;q(u)&&(u.h=1,u.u=0)}function te(u,d){if(e(0<=d),!u.h&&d<=dl){var v=U(u)&cl[d];return u.u+=d,$(u),v}return u.h=1,u.u=0}function de(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function A(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(u){return u.Ra>>>(u.u&hl-1)>>>0}function q(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>hl}function Z(u,d){u.u=d,u.h=q(u)}function J(u){u.u>=Yu&&(e(u.u>=Yu),$(u))}function se(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function ue(u){return Q(u,1)}function he(u,d){var v=u.Ca;0>u.b&&se(u);var x=u.b,T=v*d>>>8,D=(u.I>>>x>T)+0;for(D?(v-=T,u.I-=T+1<<x>>>0):v=T+1,x=v,T=0;256<=x;)T+=8,x>>=8;return x=7^T+gr[x],u.b-=x,u.Ca=(v<<x)-1,D}function Ne(u,d,v){u[d+0]=v>>24&255,u[d+1]=v>>16&255,u[d+2]=v>>8&255,u[d+3]=v>>0&255}function we(u,d){return u[d+0]<<0|u[d+1]<<8}function Pe(u,d){return we(u,d)|u[d+2]<<16}function Ie(u,d){return we(u,d)|we(u,d+2)<<16}function Ve(u,d){var v=1<<d;return e(u!=null),e(0<d),u.X=s(v),u.X==null?0:(u.Mb=32-d,u.Xa=d,1)}function ye(u,d){e(u!=null),e(d!=null),e(u.Xa==d.Xa),r(d.X,0,u.X,0,1<<d.Xa)}function ee(){this.X=[],this.Xa=this.Mb=0}function rt(u,d,v,x){e(v!=null),e(x!=null);var T=v[0],D=x[0];return T==0&&(T=(u*D+d/2)/d),D==0&&(D=(d*T+u/2)/u),0>=T||0>=D?0:(v[0]=T,x[0]=D,1)}function ze(u,d){return u+(1<<d)-1>>>d}function Ee(u,d){return((4278255360&u)+(4278255360&d)>>>0&4278255360)+((16711935&u)+(16711935&d)>>>0&16711935)>>>0}function Te(u,d){I[d]=function(v,x,T,D,j,M,B){var K;for(K=0;K<j;++K){var re=I[u](M[B+K-1],T,D+K);M[B+K]=Ee(v[x+K],re)}}}function De(){this.ud=this.hd=this.jd=0}function Oe(u,d){return((4278124286&(u^d))>>>1)+(u&d)>>>0}function We(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Ze(u,d){return We(u+(u-d+.5>>1))}function ot(u,d,v){return Math.abs(d-v)-Math.abs(u-v)}function at(u,d,v,x,T,D,j){for(x=D[j-1],v=0;v<T;++v)D[j+v]=x=Ee(u[d+v],x)}function mt(u,d,v,x,T){var D;for(D=0;D<v;++D){var j=u[d+D],M=j>>8&255,B=16711935&(B=(B=16711935&j)+((M<<16)+M));x[T+D]=(4278255360&j)+B>>>0}}function Pt(u,d){d.jd=u>>0&255,d.hd=u>>8&255,d.ud=u>>16&255}function Je(u,d,v,x,T,D){var j;for(j=0;j<x;++j){var M=d[v+j],B=M>>>8,K=M,re=255&(re=(re=M>>>16)+((u.jd<<24>>24)*(B<<24>>24)>>>5));K=255&(K=(K=K+((u.hd<<24>>24)*(B<<24>>24)>>>5))+((u.ud<<24>>24)*(re<<24>>24)>>>5)),T[D+j]=(4278255360&M)+(re<<16)+K}}function dt(u,d,v,x,T){I[d]=function(D,j,M,B,K,re,fe,pe,le){for(B=fe;B<pe;++B)for(fe=0;fe<le;++fe)K[re++]=T(M[x(D[j++])])},I[u]=function(D,j,M,B,K,re,fe){var pe=8>>D.b,le=D.Ea,xe=D.K[0],ge=D.w;if(8>pe)for(D=(1<<D.b)-1,ge=(1<<pe)-1;j<M;++j){var ie,ae=0;for(ie=0;ie<le;++ie)ie&D||(ae=x(B[K++])),re[fe++]=T(xe[ae&ge]),ae>>=pe}else I["VP8LMapColor"+v](B,K,xe,ge,re,fe,j,M,le)}}function je(u,d,v,x,T){for(v=d+v;d<v;){var D=u[d++];x[T++]=D>>16&255,x[T++]=D>>8&255,x[T++]=D>>0&255}}function qn(u,d,v,x,T){for(v=d+v;d<v;){var D=u[d++];x[T++]=D>>16&255,x[T++]=D>>8&255,x[T++]=D>>0&255,x[T++]=D>>24&255}}function yt(u,d,v,x,T){for(v=d+v;d<v;){var D=(j=u[d++])>>16&240|j>>12&15,j=j>>0&240|j>>28&15;x[T++]=D,x[T++]=j}}function ii(u,d,v,x,T){for(v=d+v;d<v;){var D=(j=u[d++])>>16&248|j>>13&7,j=j>>5&224|j>>3&31;x[T++]=D,x[T++]=j}}function Lt(u,d,v,x,T){for(v=d+v;d<v;){var D=u[d++];x[T++]=D>>0&255,x[T++]=D>>8&255,x[T++]=D>>16&255}}function qt(u,d,v,x,T,D){if(D==0)for(v=d+v;d<v;)Ne(x,((D=u[d++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),T+=32;else r(x,T,u,d,v)}function Li(u,d){I[d][0]=I[u+"0"],I[d][1]=I[u+"1"],I[d][2]=I[u+"2"],I[d][3]=I[u+"3"],I[d][4]=I[u+"4"],I[d][5]=I[u+"5"],I[d][6]=I[u+"6"],I[d][7]=I[u+"7"],I[d][8]=I[u+"8"],I[d][9]=I[u+"9"],I[d][10]=I[u+"10"],I[d][11]=I[u+"11"],I[d][12]=I[u+"12"],I[d][13]=I[u+"13"],I[d][14]=I[u+"0"],I[d][15]=I[u+"0"]}function xt(u){return u==Km||u==Qm||u==Nh||u==Jm}function Ko(){this.eb=[],this.size=this.A=this.fb=0}function Xt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function si(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ko,this.f.kb=new Xt,this.sd=null}function rs(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Zt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function et(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function St(u,d){var v=u.T,x=d.ba.f.RGBA,T=x.eb,D=x.fb+u.ka*x.A,j=Gr[d.ba.S],M=u.y,B=u.O,K=u.f,re=u.N,fe=u.ea,pe=u.W,le=d.cc,xe=d.dc,ge=d.Mc,ie=d.Nc,ae=u.ka,_e=u.ka+u.T,Se=u.U,be=Se+1>>1;for(ae==0?j(M,B,null,null,K,re,fe,pe,K,re,fe,pe,T,D,null,null,Se):(j(d.ec,d.fc,M,B,le,xe,ge,ie,K,re,fe,pe,T,D-x.A,T,D,Se),++v);ae+2<_e;ae+=2)le=K,xe=re,ge=fe,ie=pe,re+=u.Rc,pe+=u.Rc,D+=2*x.A,j(M,(B+=2*u.fa)-u.fa,M,B,le,xe,ge,ie,K,re,fe,pe,T,D-x.A,T,D,Se);return B+=u.fa,u.j+_e<u.o?(r(d.ec,d.fc,M,B,Se),r(d.cc,d.dc,K,re,be),r(d.Mc,d.Nc,fe,pe,be),v--):1&_e||j(M,B,null,null,K,re,fe,pe,K,re,fe,pe,T,D+x.A,null,null,Se),v}function Qo(u,d,v){var x=u.F,T=[u.J];if(x!=null){var D=u.U,j=d.ba.S,M=j==Sh||j==Nh;d=d.ba.f.RGBA;var B=[0],K=u.ka;B[0]=u.T,u.Kb&&(K==0?--B[0]:(--K,T[0]-=u.width),u.j+u.ka+u.T==u.o&&(B[0]=u.o-u.j-K));var re=d.eb;K=d.fb+K*d.A,u=jt(x,T[0],u.width,D,B,re,K+(M?0:3),d.A),e(v==B),u&&xt(j)&&Vr(re,K,M,D,B,d.A)}return 0}function On(u){var d=u.ma,v=d.ba.S,x=11>v,T=v==bh||v==xh||v==Sh||v==Gm||v==12||xt(v);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!$u(d.Oa,u,T?11:12))return 0;if(T&&xt(v)&&Ce(),u.da)alert("todo:use_scaling");else{if(x){if(d.Ib=et,u.Kb){if(v=u.U+1>>1,d.memory=s(u.U+2*v),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+u.U,d.Mc=d.cc,d.Nc=d.dc+v,d.Ib=St,Ce()}}else alert("todo:EmitYUV");T&&(d.Jb=Qo,x&&ce())}if(x&&!py){for(u=0;256>u;++u)jN[u]=89858*(u-128)+Eh>>Ch,BN[u]=-22014*(u-128)+Eh,FN[u]=-45773*(u-128),MN[u]=113618*(u-128)+Eh>>Ch;for(u=ec;u<e0;++u)d=76283*(u-16)+Eh>>Ch,UN[u-ec]=Ir(d,255),zN[u-ec]=Ir(d+8>>4,15);py=1}return 1}function Ri(u){var d=u.ma,v=u.U,x=u.T;return e(!(1&u.ka)),0>=v||0>=x?0:(v=d.Ib(u,d),d.Jb!=null&&d.Jb(u,d,v),d.Dc+=v,1)}function Oi(u){u.ma.memory=null}function Ye(u,d,v,x){return te(u,8)!=47?0:(d[0]=te(u,14)+1,v[0]=te(u,14)+1,x[0]=te(u,1),te(u,3)!=0?0:!u.h)}function oi(u,d){if(4>u)return u+1;var v=u-2>>1;return(2+(1&u)<<v)+te(d,v)+1}function Di(u,d){return 120<d?d-120:1<=(v=((v=xN[d-1])>>4)*u+(8-(15&v)))?v:1;var v}function pr(u,d,v){var x=U(v),T=u[d+=255&x].g-8;return 0<T&&(Z(v,v.u+8),x=U(v),d+=u[d].value,d+=x&(1<<T)-1),Z(v,v.u+u[d].g),u[d].value}function wn(u,d,v){return v.g+=u.g,v.value+=u.value<<d>>>0,e(8>=v.g),u.g}function fn(u,d,v){var x=u.xc;return e((d=x==0?0:u.vc[u.md*(v>>x)+(d>>x)])<u.Wb),u.Ya[d]}function Pr(u,d,v,x){var T=u.ab,D=u.c*d,j=u.C;d=j+d;var M=v,B=x;for(x=u.Ta,v=u.Ua;0<T--;){var K=u.gc[T],re=j,fe=d,pe=M,le=B,xe=(B=x,M=v,K.Ea);switch(e(re<fe),e(fe<=K.nc),K.hc){case 2:ph(pe,le,(fe-re)*xe,B,M);break;case 0:var ge=re,ie=fe,ae=B,_e=M,Se=(Re=K).Ea;ge==0&&(Vm(pe,le,null,null,1,ae,_e),at(pe,le+1,0,0,Se-1,ae,_e+1),le+=Se,_e+=Se,++ge);for(var be=1<<Re.b,Fe=be-1,Le=ze(Se,Re.b),qe=Re.K,Re=Re.w+(ge>>Re.b)*Le;ge<ie;){var _t=qe,Nt=Re,gt=1;for(Gu(pe,le,ae,_e-Se,1,ae,_e);gt<Se;){var ft=(gt&~Fe)+be;ft>Se&&(ft=Se),(0,Ws[_t[Nt++]>>8&15])(pe,le+ +gt,ae,_e+gt-Se,ft-gt,ae,_e+gt),gt=ft}le+=Se,_e+=Se,++ge&Fe||(Re+=Le)}fe!=K.nc&&r(B,M-xe,B,M+(fe-re-1)*xe,xe);break;case 1:for(xe=pe,ie=le,Se=(pe=K.Ea)-(_e=pe&~(ae=(le=1<<K.b)-1)),ge=ze(pe,K.b),be=K.K,K=K.w+(re>>K.b)*ge;re<fe;){for(Fe=be,Le=K,qe=new De,Re=ie+_e,_t=ie+pe;ie<Re;)Pt(Fe[Le++],qe),na(qe,xe,ie,le,B,M),ie+=le,M+=le;ie<_t&&(Pt(Fe[Le++],qe),na(qe,xe,ie,Se,B,M),ie+=Se,M+=Se),++re&ae||(K+=ge)}break;case 3:if(pe==B&&le==M&&0<K.b){for(ie=B,pe=xe=M+(fe-re)*xe-(_e=(fe-re)*ze(K.Ea,K.b)),le=B,ae=M,ge=[],_e=(Se=_e)-1;0<=_e;--_e)ge[_e]=le[ae+_e];for(_e=Se-1;0<=_e;--_e)ie[pe+_e]=ge[_e];Hr(K,re,fe,B,xe,B,M)}else Hr(K,re,fe,pe,le,B,M)}M=x,B=v}B!=v&&r(x,v,M,B,D)}function Ya(u,d){var v=u.V,x=u.Ba+u.c*u.C,T=d-u.C;if(e(d<=u.l.o),e(16>=T),0<T){var D=u.l,j=u.Ta,M=u.Ua,B=D.width;if(Pr(u,T,v,x),T=M=[M],e((v=u.C)<(x=d)),e(D.v<D.va),x>D.o&&(x=D.o),v<D.j){var K=D.j-v;v=D.j,T[0]+=K*B}if(v>=x?v=0:(T[0]+=4*D.v,D.ka=v-D.j,D.U=D.va-D.v,D.T=x-v,v=1),v){if(M=M[0],11>(v=u.ca).S){var re=v.f.RGBA,fe=(x=v.S,T=D.U,D=D.T,K=re.eb,re.A),pe=D;for(re=re.fb+u.Ma*re.A;0<pe--;){var le=j,xe=M,ge=T,ie=K,ae=re;switch(x){case _h:vr(le,xe,ge,ie,ae);break;case bh:rr(le,xe,ge,ie,ae);break;case Km:rr(le,xe,ge,ie,ae),Vr(ie,ae,0,ge,1,0);break;case iy:ls(le,xe,ge,ie,ae);break;case xh:qt(le,xe,ge,ie,ae,1);break;case Qm:qt(le,xe,ge,ie,ae,1),Vr(ie,ae,0,ge,1,0);break;case Sh:qt(le,xe,ge,ie,ae,0);break;case Nh:qt(le,xe,ge,ie,ae,0),Vr(ie,ae,1,ge,1,0);break;case Gm:Hs(le,xe,ge,ie,ae);break;case Jm:Hs(le,xe,ge,ie,ae),Dt(ie,ae,ge,1,0);break;case sy:as(le,xe,ge,ie,ae);break;default:e(0)}M+=B,re+=fe}u.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=v.height)}}u.C=d,e(u.C<=u.i)}function is(u){var d;if(0<u.ua)return 0;for(d=0;d<u.Wb;++d){var v=u.Ya[d].G,x=u.Ya[d].H;if(0<v[1][x[1]+0].g||0<v[2][x[2]+0].g||0<v[3][x[3]+0].g)return 0}return 1}function ai(u,d,v,x,T,D){if(u.Z!=0){var j=u.qd,M=u.rd;for(e(Ys[u.Z]!=null);d<v;++d)Ys[u.Z](j,M,x,T,x,T,D),j=x,M=T,T+=D;u.qd=j,u.rd=M}}function li(u,d){var v=u.l.ma,x=v.Z==0||v.Z==1?u.l.j:u.C;if(x=u.C<x?x:u.C,e(d<=u.l.o),d>x){var T=u.l.width,D=v.ca,j=v.tb+T*x,M=u.V,B=u.Ba+u.c*x,K=u.gc;e(u.ab==1),e(K[0].hc==3),mh(K[0],x,d,M,B,D,j),ai(v,x,d,D,j,T)}u.C=u.Ma=d}function ui(u,d,v,x,T,D,j){var M=u.$/x,B=u.$%x,K=u.m,re=u.s,fe=v+u.$,pe=fe;T=v+x*T;var le=v+x*D,xe=280+re.ua,ge=u.Pb?M:16777216,ie=0<re.ua?re.Wa:null,ae=re.wc,_e=fe<le?fn(re,B,M):null;e(u.C<D),e(le<=T);var Se=!1;e:for(;;){for(;Se||fe<le;){var be=0;if(M>=ge){var Fe=fe-v;e((ge=u).Pb),ge.wd=ge.m,ge.xd=Fe,0<ge.s.ua&&ye(ge.s.Wa,ge.s.vb),ge=M+NN}if(B&ae||(_e=fn(re,B,M)),e(_e!=null),_e.Qb&&(d[fe]=_e.qb,Se=!0),!Se)if(J(K),_e.jc){be=K,Fe=d;var Le=fe,qe=_e.pd[U(be)&Dn-1];e(_e.jc),256>qe.g?(Z(be,be.u+qe.g),Fe[Le]=qe.value,be=0):(Z(be,be.u+qe.g-256),e(256<=qe.value),be=qe.value),be==0&&(Se=!0)}else be=pr(_e.G[0],_e.H[0],K);if(K.h)break;if(Se||256>be){if(!Se)if(_e.nd)d[fe]=(_e.qb|be<<8)>>>0;else{if(J(K),Se=pr(_e.G[1],_e.H[1],K),J(K),Fe=pr(_e.G[2],_e.H[2],K),Le=pr(_e.G[3],_e.H[3],K),K.h)break;d[fe]=(Le<<24|Se<<16|be<<8|Fe)>>>0}if(Se=!1,++fe,++B>=x&&(B=0,++M,j!=null&&M<=D&&!(M%16)&&j(u,M),ie!=null))for(;pe<fe;)be=d[pe++],ie.X[(506832829*be&4294967295)>>>ie.Mb]=be}else if(280>be){if(be=oi(be-256,K),Fe=pr(_e.G[4],_e.H[4],K),J(K),Fe=Di(x,Fe=oi(Fe,K)),K.h)break;if(fe-v<Fe||T-fe<be)break e;for(Le=0;Le<be;++Le)d[fe+Le]=d[fe+Le-Fe];for(fe+=be,B+=be;B>=x;)B-=x,++M,j!=null&&M<=D&&!(M%16)&&j(u,M);if(e(fe<=T),B&ae&&(_e=fn(re,B,M)),ie!=null)for(;pe<fe;)be=d[pe++],ie.X[(506832829*be&4294967295)>>>ie.Mb]=be}else{if(!(be<xe))break e;for(Se=be-280,e(ie!=null);pe<fe;)be=d[pe++],ie.X[(506832829*be&4294967295)>>>ie.Mb]=be;be=fe,e(!(Se>>>(Fe=ie).Xa)),d[be]=Fe.X[Se],Se=!0}Se||e(K.h==q(K))}if(u.Pb&&K.h&&fe<T)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ye(u.s.vb,u.s.Wa);else{if(K.h)break e;j!=null&&j(u,M>D?D:M),u.a=0,u.$=fe-v}return 1}return u.a=3,0}function ji(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var d=u.Wa;d!=null&&(d.X=null),u.vb=null,e(u!=null)}function Wr(){var u=new $m;return u==null?null:(u.a=0,u.xb=ly,Li("Predictor","VP8LPredictors"),Li("Predictor","VP8LPredictors_C"),Li("PredictorAdd","VP8LPredictorsAdd"),Li("PredictorAdd","VP8LPredictorsAdd_C"),ph=mt,na=Je,vr=je,rr=qn,Hs=yt,as=ii,ls=Lt,I.VP8LMapColor32b=fl,I.VP8LMapColor8b=gh,u)}function Mi(u,d,v,x,T){var D=1,j=[u],M=[d],B=x.m,K=x.s,re=null,fe=0;e:for(;;){if(v)for(;D&&te(B,1);){var pe=j,le=M,xe=x,ge=1,ie=xe.m,ae=xe.gc[xe.ab],_e=te(ie,2);if(xe.Oc&1<<_e)D=0;else{switch(xe.Oc|=1<<_e,ae.hc=_e,ae.Ea=pe[0],ae.nc=le[0],ae.K=[null],++xe.ab,e(4>=xe.ab),_e){case 0:case 1:ae.b=te(ie,3)+2,ge=Mi(ze(ae.Ea,ae.b),ze(ae.nc,ae.b),0,xe,ae.K),ae.K=ae.K[0];break;case 3:var Se,be=te(ie,8)+1,Fe=16<be?0:4<be?1:2<be?2:3;if(pe[0]=ze(ae.Ea,Fe),ae.b=Fe,Se=ge=Mi(be,1,0,xe,ae.K)){var Le,qe=be,Re=ae,_t=1<<(8>>Re.b),Nt=s(_t);if(Nt==null)Se=0;else{var gt=Re.K[0],ft=Re.w;for(Nt[0]=Re.K[0][0],Le=1;Le<1*qe;++Le)Nt[Le]=Ee(gt[ft+Le],Nt[Le-1]);for(;Le<4*_t;++Le)Nt[Le]=0;Re.K[0]=null,Re.K[0]=Nt,Se=1}}ge=Se;break;case 2:break;default:e(0)}D=ge}}if(j=j[0],M=M[0],D&&te(B,1)&&!(D=1<=(fe=te(B,4))&&11>=fe)){x.a=3;break e}var Rt;if(Rt=D)t:{var It,st,mn,yr=x,gn=j,wr=M,Ct=fe,Lr=v,Rr=yr.m,kn=yr.s,jn=[null],sr=1,Kr=0,zi=SN[Ct];n:for(;;){if(Lr&&te(Rr,1)){var An=te(Rr,3)+2,hs=ze(gn,An),aa=ze(wr,An),yl=hs*aa;if(!Mi(hs,aa,0,yr,jn))break n;for(jn=jn[0],kn.xc=An,It=0;It<yl;++It){var Gs=jn[It]>>8&65535;jn[It]=Gs,Gs>=sr&&(sr=Gs+1)}}if(Rr.h)break n;for(st=0;5>st;++st){var tn=oy[st];!st&&0<Ct&&(tn+=1<<Ct),Kr<tn&&(Kr=tn)}var t0=o(sr*zi,k),vy=sr,yy=o(vy,Y);if(yy==null)var Ah=null;else e(65536>=vy),Ah=yy;var tc=s(Kr);if(Ah==null||tc==null||t0==null){yr.a=1;break n}var Ph=t0;for(It=mn=0;It<sr;++It){var pi=Ah[It],wl=pi.G,_l=pi.H,wy=0,Ih=1,_y=0;for(st=0;5>st;++st){tn=oy[st],wl[st]=Ph,_l[st]=mn,!st&&0<Ct&&(tn+=1<<Ct);i:{var Th,n0=tn,Lh=yr,nc=tc,qN=Ph,$N=mn,r0=0,Ks=Lh.m,VN=te(Ks,1);if(i(nc,0,0,n0),VN){var YN=te(Ks,1)+1,GN=te(Ks,1),by=te(Ks,GN==0?1:8);nc[by]=1,YN==2&&(nc[by=te(Ks,8)]=1);var Rh=1}else{var xy=s(19),Sy=te(Ks,4)+4;if(19<Sy){Lh.a=3;var Oh=0;break i}for(Th=0;Th<Sy;++Th)xy[bN[Th]]=te(Ks,3);var i0=void 0,rc=void 0,Ny=Lh,KN=xy,Dh=n0,Cy=nc,s0=0,Qs=Ny.m,Ey=8,ky=o(128,k);r:for(;P(ky,0,7,KN,19);){if(te(Qs,1)){var QN=2+2*te(Qs,3);if((i0=2+te(Qs,QN))>Dh)break r}else i0=Dh;for(rc=0;rc<Dh&&i0--;){J(Qs);var Ay=ky[0+(127&U(Qs))];Z(Qs,Qs.u+Ay.g);var bl=Ay.value;if(16>bl)Cy[rc++]=bl,bl!=0&&(Ey=bl);else{var JN=bl==16,Py=bl-16,XN=wN[Py],Iy=te(Qs,yN[Py])+XN;if(rc+Iy>Dh)break r;for(var ZN=JN?Ey:0;0<Iy--;)Cy[rc++]=ZN}}s0=1;break r}s0||(Ny.a=3),Rh=s0}(Rh=Rh&&!Ks.h)&&(r0=P(qN,$N,8,nc,n0)),Rh&&r0!=0?Oh=r0:(Lh.a=3,Oh=0)}if(Oh==0)break n;if(Ih&&_N[st]==1&&(Ih=Ph[mn].g==0),wy+=Ph[mn].g,mn+=Oh,3>=st){var ic,o0=tc[0];for(ic=1;ic<tn;++ic)tc[ic]>o0&&(o0=tc[ic]);_y+=o0}}if(pi.nd=Ih,pi.Qb=0,Ih&&(pi.qb=(wl[3][_l[3]+0].value<<24|wl[1][_l[1]+0].value<<16|wl[2][_l[2]+0].value)>>>0,wy==0&&256>wl[0][_l[0]+0].value&&(pi.Qb=1,pi.qb+=wl[0][_l[0]+0].value<<8)),pi.jc=!pi.Qb&&6>_y,pi.jc){var jh,fs=pi;for(jh=0;jh<Dn;++jh){var Js=jh,Xs=fs.pd[Js],Mh=fs.G[0][fs.H[0]+Js];256<=Mh.value?(Xs.g=Mh.g+256,Xs.value=Mh.value):(Xs.g=0,Xs.value=0,Js>>=wn(Mh,8,Xs),Js>>=wn(fs.G[1][fs.H[1]+Js],16,Xs),Js>>=wn(fs.G[2][fs.H[2]+Js],0,Xs),wn(fs.G[3][fs.H[3]+Js],24,Xs))}}}kn.vc=jn,kn.Wb=sr,kn.Ya=Ah,kn.yc=t0,Rt=1;break t}Rt=0}if(!(D=Rt)){x.a=3;break e}if(0<fe){if(K.ua=1<<fe,!Ve(K.Wa,fe)){x.a=1,D=0;break e}}else K.ua=0;var a0=x,Ty=j,eC=M,l0=a0.s,u0=l0.xc;if(a0.c=Ty,a0.i=eC,l0.md=ze(Ty,u0),l0.wc=u0==0?-1:(1<<u0)-1,v){x.xb=TN;break e}if((re=s(j*M))==null){x.a=1,D=0;break e}D=(D=ui(x,re,0,j,M,M,null))&&!B.h;break e}return D?(T!=null?T[0]=re:(e(re==null),e(v)),x.$=0,v||ji(K)):ji(K),D}function Jo(u,d){var v=u.c*u.i,x=v+d+16*d;return e(u.c<=d),u.V=s(x),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+v+d,1)}function Ga(u,d){var v=u.C,x=d-v,T=u.V,D=u.Ba+u.c*v;for(e(d<=u.l.o);0<x;){var j=16<x?16:x,M=u.l.ma,B=u.l.width,K=B*j,re=M.ca,fe=M.tb+B*v,pe=u.Ta,le=u.Ua;Pr(u,j,T,D),ln(pe,le,re,fe,K),ai(M,v,v+j,re,fe,B),x-=j,T+=j*u.c,v+=j}e(v==d),u.C=u.Ma=d}function Ka(){this.ub=this.yd=this.td=this.Rb=0}function Qa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ja(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Gd(){this.Yb=function(){var u=[];return function d(v,x,T){for(var D=T[x],j=0;j<D&&(v.push(T.length>x+1?[]:0),!(T.length<x+1));j++)d(v[j],x+1,T)}(u,0,[3,11]),u}()}function xm(){this.jb=s(3),this.Wc=a([4,8],Gd),this.Xc=a([4,17],Gd)}function Sm(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Xa(){this.ld=this.La=this.dd=this.tc=0}function Kd(){this.Na=this.la=0}function Nm(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pu(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Cm(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xa),this.Y=0,this.ya=Array(new Pu),this.aa=0,this.l=new Za}function Qd(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Em(){this.cb=this.a=0,this.sc="",this.m=new de,this.Od=new Ka,this.Kc=new Qa,this.ed=new Sm,this.Qa=new Ja,this.Ic=this.$c=this.Aa=0,this.D=new Cm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,de),this.ia=0,this.pb=o(4,Nm),this.Pa=new xm,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qd),this.Hd=0,this.rb=Array(new Kd),this.sb=0,this.wa=Array(new Xa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pu),this.L=this.aa=0,this.gd=a([4,2],Xa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Za(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function km(){var u=new Em;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Zu||(Zu=Zd)),u}function on(u,d,v){return u.a==0&&(u.a=d,u.sc=v,u.cb=0),0}function Jd(u,d,v){return 3<=v&&u[d+0]==157&&u[d+1]==1&&u[d+2]==42}function Xd(u,d){if(u==null)return 0;if(u.a=0,u.sc="OK",d==null)return on(u,2,"null VP8Io passed to VP8GetHeaders()");var v=d.data,x=d.w,T=d.ha;if(4>T)return on(u,7,"Truncated header.");var D=v[x+0]|v[x+1]<<8|v[x+2]<<16,j=u.Od;if(j.Rb=!(1&D),j.td=D>>1&7,j.yd=D>>4&1,j.ub=D>>5,3<j.td)return on(u,3,"Incorrect keyframe parameters.");if(!j.yd)return on(u,4,"Frame not displayable.");x+=3,T-=3;var M=u.Kc;if(j.Rb){if(7>T)return on(u,7,"cannot parse picture header");if(!Jd(v,x,T))return on(u,3,"Bad code word");M.c=16383&(v[x+4]<<8|v[x+3]),M.Td=v[x+4]>>6,M.i=16383&(v[x+6]<<8|v[x+5]),M.Ud=v[x+6]>>6,x+=7,T-=7,u.za=M.c+15>>4,u.Ub=M.i+15>>4,d.width=M.c,d.height=M.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((D=u.Pa).jb,0,255,D.jb.length),e((D=u.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,i(D.Zb,0,0,D.Zb.length),i(D.Lb,0,0,D.Lb)}if(j.ub>T)return on(u,7,"bad partition length");oe(D=u.m,v,x,j.ub),x+=j.ub,T-=j.ub,j.Rb&&(M.Ld=ue(D),M.Kd=ue(D)),M=u.Qa;var B,K=u.Pa;if(e(D!=null),e(M!=null),M.Cb=ue(D),M.Cb){if(M.Bb=ue(D),ue(D)){for(M.Fb=ue(D),B=0;4>B;++B)M.Zb[B]=ue(D)?G(D,7):0;for(B=0;4>B;++B)M.Lb[B]=ue(D)?G(D,6):0}if(M.Bb)for(B=0;3>B;++B)K.jb[B]=ue(D)?Q(D,8):255}else M.Bb=0;if(D.Ka)return on(u,3,"cannot parse segment header");if((M=u.ed).zd=ue(D),M.Tb=Q(D,6),M.wb=Q(D,3),M.Pc=ue(D),M.Pc&&ue(D)){for(K=0;4>K;++K)ue(D)&&(M.vd[K]=G(D,6));for(K=0;4>K;++K)ue(D)&&(M.od[K]=G(D,6))}if(u.L=M.Tb==0?0:M.zd?1:2,D.Ka)return on(u,3,"cannot parse filter header");var re=T;if(T=B=x,x=B+re,M=re,u.Xb=(1<<Q(u.m,2))-1,re<3*(K=u.Xb))v=7;else{for(B+=3*K,M-=3*K,re=0;re<K;++re){var fe=v[T+0]|v[T+1]<<8|v[T+2]<<16;fe>M&&(fe=M),oe(u.Jc[+re],v,B,fe),B+=fe,M-=fe,T+=3}oe(u.Jc[+K],v,B,M),v=B<x?0:5}if(v!=0)return on(u,v,"cannot parse partitions");for(v=Q(B=u.m,7),T=ue(B)?G(B,4):0,x=ue(B)?G(B,4):0,M=ue(B)?G(B,4):0,K=ue(B)?G(B,4):0,B=ue(B)?G(B,4):0,re=u.Qa,fe=0;4>fe;++fe){if(re.Cb){var pe=re.Zb[fe];re.Fb||(pe+=v)}else{if(0<fe){u.pb[fe]=u.pb[0];continue}pe=v}var le=u.pb[fe];le.Sc[0]=Xm[Ir(pe+T,127)],le.Sc[1]=Zm[Ir(pe+0,127)],le.Eb[0]=2*Xm[Ir(pe+x,127)],le.Eb[1]=101581*Zm[Ir(pe+M,127)]>>16,8>le.Eb[1]&&(le.Eb[1]=8),le.Qc[0]=Xm[Ir(pe+K,117)],le.Qc[1]=Zm[Ir(pe+B,127)],le.lc=pe+B}if(!j.Rb)return on(u,4,"Not a key frame.");for(ue(D),j=u.Pa,v=0;4>v;++v){for(T=0;8>T;++T)for(x=0;3>x;++x)for(M=0;11>M;++M)K=he(D,PN[v][T][x][M])?Q(D,8):kN[v][T][x][M],j.Wc[v][T].Yb[x][M]=K;for(T=0;17>T;++T)j.Xc[v][T]=j.Wc[v][IN[T]]}return u.kc=ue(D),u.kc&&(u.Bd=Q(D,8)),u.cb=1}function Zd(u,d,v,x,T,D,j){var M=d[T].Yb[v];for(v=0;16>T;++T){if(!he(u,M[v+0]))return T;for(;!he(u,M[v+1]);)if(M=d[++T].Yb[0],v=0,T==16)return 16;var B=d[T+1].Yb;if(he(u,M[v+2])){var K=u,re=0;if(he(K,(pe=M)[(fe=v)+3]))if(he(K,pe[fe+6])){for(M=0,fe=2*(re=he(K,pe[fe+8]))+(pe=he(K,pe[fe+9+re])),re=0,pe=CN[fe];pe[M];++M)re+=re+he(K,pe[M]);re+=3+(8<<fe)}else he(K,pe[fe+7])?(re=7+2*he(K,165),re+=he(K,145)):re=5+he(K,159);else re=he(K,pe[fe+4])?3+he(K,pe[fe+5]):2;M=B[2]}else re=1,M=B[1];B=j+EN[T],0>(K=u).b&&se(K);var fe,pe=K.b,le=(fe=K.Ca>>1)-(K.I>>pe)>>31;--K.b,K.Ca+=le,K.Ca|=1,K.I-=(fe+1&le)<<pe,D[B]=((re^le)-le)*x[(0<T)+0]}return 16}function Iu(u){var d=u.rb[u.sb-1];d.la=0,d.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function Am(u,d){if(u==null)return 0;if(d==null)return on(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Xd(u,d))return 0;if(e(u.cb),d.ac==null||d.ac(d)){d.ob&&(u.L=0);var v=kh[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=d.v-v>>4,u.zb=d.j-v>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=d.o+15+v>>4,u.Hb=d.va+15+v>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var x=u.ed;for(v=0;4>v;++v){var T;if(u.Qa.Cb){var D=u.Qa.Lb[v];u.Qa.Fb||(D+=x.Tb)}else D=x.Tb;for(T=0;1>=T;++T){var j=u.gd[v][T],M=D;if(x.Pc&&(M+=x.vd[0],T&&(M+=x.od[0])),0<(M=0>M?0:63<M?63:M)){var B=M;0<x.wb&&(B=4<x.wb?B>>2:B>>1)>9-x.wb&&(B=9-x.wb),1>B&&(B=1),j.dd=B,j.tc=2*M+B,j.ld=40<=M?2:15<=M?1:0}else j.tc=0;j.La=T}}}v=0}else on(u,6,"Frame setup failed"),v=u.a;if(v=v==0){if(v){u.$c=0,0<u.Aa||(u.Ic=HN);e:{v=u.Ic,x=4*(B=u.za);var K=32*B,re=B+1,fe=0<u.L?B*(0<u.Aa?2:1):0,pe=(u.Aa==2?2:1)*B;if((j=x+832+(T=3*(16*v+kh[u.L])/2*K)+(D=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=j)v=0;else{if(j>u.Vb){if(u.Vb=0,u.Ec=s(j),u.Fc=0,u.Ec==null){v=on(u,1,"no memory during frame initialization.");break e}u.Vb=j}j=u.Ec,M=u.Fc,u.Ac=j,u.Bc=M,M+=x,u.Gd=o(K,Qd),u.Hd=0,u.rb=o(re+1,Kd),u.sb=1,u.wa=fe?o(fe,Xa):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=B),e(!0),u.oc=j,u.pc=M,M+=832,u.ya=o(pe,Pu),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=B),u.R=16*B,u.B=8*B,B=(K=kh[u.L])*u.R,K=K/2*u.B,u.sa=j,u.ta=M+B,u.qa=u.sa,u.ra=u.ta+16*v*u.R+K,u.Ha=u.qa,u.Ia=u.ra+8*v*u.B+K,u.$c=0,M+=T,u.mb=D?j:null,u.nb=D?M:null,e(M+D<=u.Fc+u.Vb),Iu(u),i(u.Ac,u.Bc,0,x),v=1}}if(v){if(d.ka=0,d.y=u.sa,d.O=u.ta,d.f=u.qa,d.N=u.ra,d.ea=u.Ha,d.Vd=u.Ia,d.fa=u.R,d.Rc=u.B,d.F=null,d.J=0,!yh){for(v=-255;255>=v;++v)_n[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)cs[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)Xu[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)vl[255+v]=0>v?0:255<v?255:v;yh=1}pl=Tm,us=Pm,Ku=th,ir=Im,qr=nh,an=eh,ml=ju,vh=ea,Qu=qm,ra=Mu,ia=Hm,qs=sl,sa=Fu,gl=dh,oa=ch,$s=Bi,Ju=os,$r=Wm,fi[0]=Fi,fi[1]=Lm,fi[2]=jm,fi[3]=Mm,fi[4]=sh,fi[5]=rl,fi[6]=oh,fi[7]=Ru,fi[8]=Bm,fi[9]=Fm,Vs[0]=rh,Vs[1]=Om,Vs[2]=ss,Vs[3]=tl,Vs[4]=$n,Vs[5]=Dm,Vs[6]=ih,ds[0]=Bs,ds[1]=Rm,ds[2]=Um,ds[3]=Ou,ds[4]=Zo,ds[5]=zm,ds[6]=Du,v=1}else v=0}v&&(v=function(le,xe){for(le.M=0;le.M<le.Va;++le.M){var ge,ie=le.Jc[le.M&le.Xb],ae=le.m,_e=le;for(ge=0;ge<_e.za;++ge){var Se=ae,be=_e,Fe=be.Ac,Le=be.Bc+4*ge,qe=be.zc,Re=be.ya[be.aa+ge];if(be.Qa.Bb?Re.$b=he(Se,be.Pa.jb[0])?2+he(Se,be.Pa.jb[2]):he(Se,be.Pa.jb[1]):Re.$b=0,be.kc&&(Re.Ad=he(Se,be.Bd)),Re.Za=!he(Se,145)+0,Re.Za){var _t=Re.Ob,Nt=0;for(be=0;4>be;++be){var gt,ft=qe[0+be];for(gt=0;4>gt;++gt){ft=AN[Fe[Le+gt]][ft];for(var Rt=ay[he(Se,ft[0])];0<Rt;)Rt=ay[2*Rt+he(Se,ft[Rt])];ft=-Rt,Fe[Le+gt]=ft}r(_t,Nt,Fe,Le,4),Nt+=4,qe[0+be]=ft}}else ft=he(Se,156)?he(Se,128)?1:3:he(Se,163)?2:0,Re.Ob[0]=ft,i(Fe,Le,ft,4),i(qe,0,ft,4);Re.Dd=he(Se,142)?he(Se,114)?he(Se,183)?1:3:2:0}if(_e.m.Ka)return on(le,7,"Premature end-of-partition0 encountered.");for(;le.ja<le.za;++le.ja){if(_e=ie,Se=(ae=le).rb[ae.sb-1],Fe=ae.rb[ae.sb+ae.ja],ge=ae.ya[ae.aa+ae.ja],Le=ae.kc?ge.Ad:0)Se.la=Fe.la=0,ge.Za||(Se.Na=Fe.Na=0),ge.Hc=0,ge.Gc=0,ge.ia=0;else{var It,st;if(Se=Fe,Fe=_e,Le=ae.Pa.Xc,qe=ae.ya[ae.aa+ae.ja],Re=ae.pb[qe.$b],be=qe.ad,_t=0,Nt=ae.rb[ae.sb-1],ft=gt=0,i(be,_t,0,384),qe.Za)var mn=0,yr=Le[3];else{Rt=s(16);var gn=Se.Na+Nt.Na;if(gn=Zu(Fe,Le[1],gn,Re.Eb,0,Rt,0),Se.Na=Nt.Na=(0<gn)+0,1<gn)pl(Rt,0,be,_t);else{var wr=Rt[0]+3>>3;for(Rt=0;256>Rt;Rt+=16)be[_t+Rt]=wr}mn=1,yr=Le[0]}var Ct=15&Se.la,Lr=15&Nt.la;for(Rt=0;4>Rt;++Rt){var Rr=1&Lr;for(wr=st=0;4>wr;++wr)Ct=Ct>>1|(Rr=(gn=Zu(Fe,yr,gn=Rr+(1&Ct),Re.Sc,mn,be,_t))>mn)<<7,st=st<<2|(3<gn?3:1<gn?2:be[_t+0]!=0),_t+=16;Ct>>=4,Lr=Lr>>1|Rr<<7,gt=(gt<<8|st)>>>0}for(yr=Ct,mn=Lr>>4,It=0;4>It;It+=2){for(st=0,Ct=Se.la>>4+It,Lr=Nt.la>>4+It,Rt=0;2>Rt;++Rt){for(Rr=1&Lr,wr=0;2>wr;++wr)gn=Rr+(1&Ct),Ct=Ct>>1|(Rr=0<(gn=Zu(Fe,Le[2],gn,Re.Qc,0,be,_t)))<<3,st=st<<2|(3<gn?3:1<gn?2:be[_t+0]!=0),_t+=16;Ct>>=2,Lr=Lr>>1|Rr<<5}ft|=st<<4*It,yr|=Ct<<4<<It,mn|=(240&Lr)<<It}Se.la=yr,Nt.la=mn,qe.Hc=gt,qe.Gc=ft,qe.ia=43690&ft?0:Re.ia,Le=!(gt|ft)}if(0<ae.L&&(ae.wa[ae.Y+ae.ja]=ae.gd[ge.$b][ge.Za],ae.wa[ae.Y+ae.ja].La|=!Le),_e.Ka)return on(le,7,"Premature end-of-file encountered.")}if(Iu(le),ae=xe,_e=1,ge=(ie=le).D,Se=0<ie.L&&ie.M>=ie.zb&&ie.M<=ie.Va,ie.Aa==0)e:{if(ge.M=ie.M,ge.uc=Se,qu(ie,ge),_e=1,ge=(st=ie.D).Nb,Se=(ft=kh[ie.L])*ie.R,Fe=ft/2*ie.B,Rt=16*ge*ie.R,wr=8*ge*ie.B,Le=ie.sa,qe=ie.ta-Se+Rt,Re=ie.qa,be=ie.ra-Fe+wr,_t=ie.Ha,Nt=ie.Ia-Fe+wr,Lr=(Ct=st.M)==0,gt=Ct>=ie.Va-1,ie.Aa==2&&qu(ie,st),st.uc)for(Rr=(gn=ie).D.M,e(gn.D.uc),st=gn.yb;st<gn.Hb;++st){mn=st,yr=Rr;var kn=(jn=(tn=gn).D).Nb;It=tn.R;var jn=jn.wa[jn.Y+mn],sr=tn.sa,Kr=tn.ta+16*kn*It+16*mn,zi=jn.dd,An=jn.tc;if(An!=0)if(e(3<=An),tn.L==1)0<mn&&$s(sr,Kr,It,An+4),jn.La&&$r(sr,Kr,It,An),0<yr&&oa(sr,Kr,It,An+4),jn.La&&Ju(sr,Kr,It,An);else{var hs=tn.B,aa=tn.qa,yl=tn.ra+8*kn*hs+8*mn,Gs=tn.Ha,tn=tn.Ia+8*kn*hs+8*mn;kn=jn.ld,0<mn&&(vh(sr,Kr,It,An+4,zi,kn),ra(aa,yl,Gs,tn,hs,An+4,zi,kn)),jn.La&&(qs(sr,Kr,It,An,zi,kn),gl(aa,yl,Gs,tn,hs,An,zi,kn)),0<yr&&(ml(sr,Kr,It,An+4,zi,kn),Qu(aa,yl,Gs,tn,hs,An+4,zi,kn)),jn.La&&(ia(sr,Kr,It,An,zi,kn),sa(aa,yl,Gs,tn,hs,An,zi,kn))}}if(ie.ia&&alert("todo:DitherRow"),ae.put!=null){if(st=16*Ct,Ct=16*(Ct+1),Lr?(ae.y=ie.sa,ae.O=ie.ta+Rt,ae.f=ie.qa,ae.N=ie.ra+wr,ae.ea=ie.Ha,ae.W=ie.Ia+wr):(st-=ft,ae.y=Le,ae.O=qe,ae.f=Re,ae.N=be,ae.ea=_t,ae.W=Nt),gt||(Ct-=ft),Ct>ae.o&&(Ct=ae.o),ae.F=null,ae.J=null,ie.Fa!=null&&0<ie.Fa.length&&st<Ct&&(ae.J=Wu(ie,ae,st,Ct-st),ae.F=ie.mb,ae.F==null&&ae.F.length==0)){_e=on(ie,3,"Could not decode alpha data.");break e}st<ae.j&&(ft=ae.j-st,st=ae.j,e(!(1&ft)),ae.O+=ie.R*ft,ae.N+=ie.B*(ft>>1),ae.W+=ie.B*(ft>>1),ae.F!=null&&(ae.J+=ae.width*ft)),st<Ct&&(ae.O+=ae.v,ae.N+=ae.v>>1,ae.W+=ae.v>>1,ae.F!=null&&(ae.J+=ae.v),ae.ka=st-ae.j,ae.U=ae.va-ae.v,ae.T=Ct-st,_e=ae.put(ae))}ge+1!=ie.Ic||gt||(r(ie.sa,ie.ta-Se,Le,qe+16*ie.R,Se),r(ie.qa,ie.ra-Fe,Re,be+8*ie.B,Fe),r(ie.Ha,ie.Ia-Fe,_t,Nt+8*ie.B,Fe))}if(!_e)return on(le,6,"Output aborted.")}return 1}(u,d)),d.bc!=null&&d.bc(d),v&=1}return v?(u.cb=0,v):0}function ci(u,d,v,x,T){T=u[d+v+32*x]+(T>>3),u[d+v+32*x]=-256&T?0>T?0:255:T}function el(u,d,v,x,T,D){ci(u,d,0,v,x+T),ci(u,d,1,v,x+D),ci(u,d,2,v,x-D),ci(u,d,3,v,x-T)}function mr(u){return(20091*u>>16)+u}function Tu(u,d,v,x){var T,D=0,j=s(16);for(T=0;4>T;++T){var M=u[d+0]+u[d+8],B=u[d+0]-u[d+8],K=(35468*u[d+4]>>16)-mr(u[d+12]),re=mr(u[d+4])+(35468*u[d+12]>>16);j[D+0]=M+re,j[D+1]=B+K,j[D+2]=B-K,j[D+3]=M-re,D+=4,d++}for(T=D=0;4>T;++T)M=(u=j[D+0]+4)+j[D+8],B=u-j[D+8],K=(35468*j[D+4]>>16)-mr(j[D+12]),ci(v,x,0,0,M+(re=mr(j[D+4])+(35468*j[D+12]>>16))),ci(v,x,1,0,B+K),ci(v,x,2,0,B-K),ci(v,x,3,0,M-re),D++,x+=32}function eh(u,d,v,x){var T=u[d+0]+4,D=35468*u[d+4]>>16,j=mr(u[d+4]),M=35468*u[d+1]>>16;el(v,x,0,T+j,u=mr(u[d+1]),M),el(v,x,1,T+D,u,M),el(v,x,2,T-D,u,M),el(v,x,3,T-j,u,M)}function Pm(u,d,v,x,T){Tu(u,d,v,x),T&&Tu(u,d+16,v,x+4)}function th(u,d,v,x){us(u,d+0,v,x,1),us(u,d+32,v,x+128,1)}function Im(u,d,v,x){var T;for(u=u[d+0]+4,T=0;4>T;++T)for(d=0;4>d;++d)ci(v,x,d,T,u)}function nh(u,d,v,x){u[d+0]&&ir(u,d+0,v,x),u[d+16]&&ir(u,d+16,v,x+4),u[d+32]&&ir(u,d+32,v,x+128),u[d+48]&&ir(u,d+48,v,x+128+4)}function Tm(u,d,v,x){var T,D=s(16);for(T=0;4>T;++T){var j=u[d+0+T]+u[d+12+T],M=u[d+4+T]+u[d+8+T],B=u[d+4+T]-u[d+8+T],K=u[d+0+T]-u[d+12+T];D[0+T]=j+M,D[8+T]=j-M,D[4+T]=K+B,D[12+T]=K-B}for(T=0;4>T;++T)j=(u=D[0+4*T]+3)+D[3+4*T],M=D[1+4*T]+D[2+4*T],B=D[1+4*T]-D[2+4*T],K=u-D[3+4*T],v[x+0]=j+M>>3,v[x+16]=K+B>>3,v[x+32]=j-M>>3,v[x+48]=K-B>>3,x+=64}function Lu(u,d,v){var x,T=d-32,D=Tr,j=255-u[T-1];for(x=0;x<v;++x){var M,B=D,K=j+u[d-1];for(M=0;M<v;++M)u[d+M]=B[K+u[T+M]];d+=32}}function Lm(u,d){Lu(u,d,4)}function Rm(u,d){Lu(u,d,8)}function Om(u,d){Lu(u,d,16)}function ss(u,d){var v;for(v=0;16>v;++v)r(u,d+32*v,u,d-32,16)}function tl(u,d){var v;for(v=16;0<v;--v)i(u,d,u[d-1],16),d+=32}function nl(u,d,v){var x;for(x=0;16>x;++x)i(d,v+32*x,u,16)}function rh(u,d){var v,x=16;for(v=0;16>v;++v)x+=u[d-1+32*v]+u[d+v-32];nl(x>>5,u,d)}function $n(u,d){var v,x=8;for(v=0;16>v;++v)x+=u[d-1+32*v];nl(x>>4,u,d)}function Dm(u,d){var v,x=8;for(v=0;16>v;++v)x+=u[d+v-32];nl(x>>4,u,d)}function ih(u,d){nl(128,u,d)}function Xe(u,d,v){return u+2*d+v+2>>2}function jm(u,d){var v,x=d-32;for(x=new Uint8Array([Xe(u[x-1],u[x+0],u[x+1]),Xe(u[x+0],u[x+1],u[x+2]),Xe(u[x+1],u[x+2],u[x+3]),Xe(u[x+2],u[x+3],u[x+4])]),v=0;4>v;++v)r(u,d+32*v,x,0,x.length)}function Mm(u,d){var v=u[d-1],x=u[d-1+32],T=u[d-1+64],D=u[d-1+96];Ne(u,d+0,16843009*Xe(u[d-1-32],v,x)),Ne(u,d+32,16843009*Xe(v,x,T)),Ne(u,d+64,16843009*Xe(x,T,D)),Ne(u,d+96,16843009*Xe(T,D,D))}function Fi(u,d){var v,x=4;for(v=0;4>v;++v)x+=u[d+v-32]+u[d-1+32*v];for(x>>=3,v=0;4>v;++v)i(u,d+32*v,x,4)}function sh(u,d){var v=u[d-1+0],x=u[d-1+32],T=u[d-1+64],D=u[d-1-32],j=u[d+0-32],M=u[d+1-32],B=u[d+2-32],K=u[d+3-32];u[d+0+96]=Xe(x,T,u[d-1+96]),u[d+1+96]=u[d+0+64]=Xe(v,x,T),u[d+2+96]=u[d+1+64]=u[d+0+32]=Xe(D,v,x),u[d+3+96]=u[d+2+64]=u[d+1+32]=u[d+0+0]=Xe(j,D,v),u[d+3+64]=u[d+2+32]=u[d+1+0]=Xe(M,j,D),u[d+3+32]=u[d+2+0]=Xe(B,M,j),u[d+3+0]=Xe(K,B,M)}function oh(u,d){var v=u[d+1-32],x=u[d+2-32],T=u[d+3-32],D=u[d+4-32],j=u[d+5-32],M=u[d+6-32],B=u[d+7-32];u[d+0+0]=Xe(u[d+0-32],v,x),u[d+1+0]=u[d+0+32]=Xe(v,x,T),u[d+2+0]=u[d+1+32]=u[d+0+64]=Xe(x,T,D),u[d+3+0]=u[d+2+32]=u[d+1+64]=u[d+0+96]=Xe(T,D,j),u[d+3+32]=u[d+2+64]=u[d+1+96]=Xe(D,j,M),u[d+3+64]=u[d+2+96]=Xe(j,M,B),u[d+3+96]=Xe(M,B,B)}function rl(u,d){var v=u[d-1+0],x=u[d-1+32],T=u[d-1+64],D=u[d-1-32],j=u[d+0-32],M=u[d+1-32],B=u[d+2-32],K=u[d+3-32];u[d+0+0]=u[d+1+64]=D+j+1>>1,u[d+1+0]=u[d+2+64]=j+M+1>>1,u[d+2+0]=u[d+3+64]=M+B+1>>1,u[d+3+0]=B+K+1>>1,u[d+0+96]=Xe(T,x,v),u[d+0+64]=Xe(x,v,D),u[d+0+32]=u[d+1+96]=Xe(v,D,j),u[d+1+32]=u[d+2+96]=Xe(D,j,M),u[d+2+32]=u[d+3+96]=Xe(j,M,B),u[d+3+32]=Xe(M,B,K)}function Ru(u,d){var v=u[d+0-32],x=u[d+1-32],T=u[d+2-32],D=u[d+3-32],j=u[d+4-32],M=u[d+5-32],B=u[d+6-32],K=u[d+7-32];u[d+0+0]=v+x+1>>1,u[d+1+0]=u[d+0+64]=x+T+1>>1,u[d+2+0]=u[d+1+64]=T+D+1>>1,u[d+3+0]=u[d+2+64]=D+j+1>>1,u[d+0+32]=Xe(v,x,T),u[d+1+32]=u[d+0+96]=Xe(x,T,D),u[d+2+32]=u[d+1+96]=Xe(T,D,j),u[d+3+32]=u[d+2+96]=Xe(D,j,M),u[d+3+64]=Xe(j,M,B),u[d+3+96]=Xe(M,B,K)}function Fm(u,d){var v=u[d-1+0],x=u[d-1+32],T=u[d-1+64],D=u[d-1+96];u[d+0+0]=v+x+1>>1,u[d+2+0]=u[d+0+32]=x+T+1>>1,u[d+2+32]=u[d+0+64]=T+D+1>>1,u[d+1+0]=Xe(v,x,T),u[d+3+0]=u[d+1+32]=Xe(x,T,D),u[d+3+32]=u[d+1+64]=Xe(T,D,D),u[d+3+64]=u[d+2+64]=u[d+0+96]=u[d+1+96]=u[d+2+96]=u[d+3+96]=D}function Bm(u,d){var v=u[d-1+0],x=u[d-1+32],T=u[d-1+64],D=u[d-1+96],j=u[d-1-32],M=u[d+0-32],B=u[d+1-32],K=u[d+2-32];u[d+0+0]=u[d+2+32]=v+j+1>>1,u[d+0+32]=u[d+2+64]=x+v+1>>1,u[d+0+64]=u[d+2+96]=T+x+1>>1,u[d+0+96]=D+T+1>>1,u[d+3+0]=Xe(M,B,K),u[d+2+0]=Xe(j,M,B),u[d+1+0]=u[d+3+32]=Xe(v,j,M),u[d+1+32]=u[d+3+64]=Xe(x,v,j),u[d+1+64]=u[d+3+96]=Xe(T,x,v),u[d+1+96]=Xe(D,T,x)}function Um(u,d){var v;for(v=0;8>v;++v)r(u,d+32*v,u,d-32,8)}function Ou(u,d){var v;for(v=0;8>v;++v)i(u,d,u[d-1],8),d+=32}function Xo(u,d,v){var x;for(x=0;8>x;++x)i(d,v+32*x,u,8)}function Bs(u,d){var v,x=8;for(v=0;8>v;++v)x+=u[d+v-32]+u[d-1+32*v];Xo(x>>4,u,d)}function zm(u,d){var v,x=4;for(v=0;8>v;++v)x+=u[d+v-32];Xo(x>>3,u,d)}function Zo(u,d){var v,x=4;for(v=0;8>v;++v)x+=u[d-1+32*v];Xo(x>>3,u,d)}function Du(u,d){Xo(128,u,d)}function il(u,d,v){var x=u[d-v],T=u[d+0],D=3*(T-x)+Ym[1020+u[d-2*v]-u[d+v]],j=wh[112+(D+4>>3)];u[d-v]=Tr[255+x+wh[112+(D+3>>3)]],u[d+0]=Tr[255+T-j]}function ah(u,d,v,x){var T=u[d+0],D=u[d+v];return Yr[255+u[d-2*v]-u[d-v]]>x||Yr[255+D-T]>x}function lh(u,d,v,x){return 4*Yr[255+u[d-v]-u[d+0]]+Yr[255+u[d-2*v]-u[d+v]]<=x}function uh(u,d,v,x,T){var D=u[d-3*v],j=u[d-2*v],M=u[d-v],B=u[d+0],K=u[d+v],re=u[d+2*v],fe=u[d+3*v];return 4*Yr[255+M-B]+Yr[255+j-K]>x?0:Yr[255+u[d-4*v]-D]<=T&&Yr[255+D-j]<=T&&Yr[255+j-M]<=T&&Yr[255+fe-re]<=T&&Yr[255+re-K]<=T&&Yr[255+K-B]<=T}function ch(u,d,v,x){var T=2*x+1;for(x=0;16>x;++x)lh(u,d+x,v,T)&&il(u,d+x,v)}function Bi(u,d,v,x){var T=2*x+1;for(x=0;16>x;++x)lh(u,d+x*v,1,T)&&il(u,d+x*v,1)}function os(u,d,v,x){var T;for(T=3;0<T;--T)ch(u,d+=4*v,v,x)}function Wm(u,d,v,x){var T;for(T=3;0<T;--T)Bi(u,d+=4,v,x)}function Us(u,d,v,x,T,D,j,M){for(D=2*D+1;0<T--;){if(uh(u,d,v,D,j))if(ah(u,d,v,M))il(u,d,v);else{var B=u,K=d,re=v,fe=B[K-2*re],pe=B[K-re],le=B[K+0],xe=B[K+re],ge=B[K+2*re],ie=27*(_e=Ym[1020+3*(le-pe)+Ym[1020+fe-xe]])+63>>7,ae=18*_e+63>>7,_e=9*_e+63>>7;B[K-3*re]=Tr[255+B[K-3*re]+_e],B[K-2*re]=Tr[255+fe+ae],B[K-re]=Tr[255+pe+ie],B[K+0]=Tr[255+le-ie],B[K+re]=Tr[255+xe-ae],B[K+2*re]=Tr[255+ge-_e]}d+=x}}function di(u,d,v,x,T,D,j,M){for(D=2*D+1;0<T--;){if(uh(u,d,v,D,j))if(ah(u,d,v,M))il(u,d,v);else{var B=u,K=d,re=v,fe=B[K-re],pe=B[K+0],le=B[K+re],xe=wh[112+((ge=3*(pe-fe))+4>>3)],ge=wh[112+(ge+3>>3)],ie=xe+1>>1;B[K-2*re]=Tr[255+B[K-2*re]+ie],B[K-re]=Tr[255+fe+ge],B[K+0]=Tr[255+pe-xe],B[K+re]=Tr[255+le-ie]}d+=x}}function ju(u,d,v,x,T,D){Us(u,d,v,1,16,x,T,D)}function ea(u,d,v,x,T,D){Us(u,d,1,v,16,x,T,D)}function Hm(u,d,v,x,T,D){var j;for(j=3;0<j;--j)di(u,d+=4*v,v,1,16,x,T,D)}function sl(u,d,v,x,T,D){var j;for(j=3;0<j;--j)di(u,d+=4,1,v,16,x,T,D)}function qm(u,d,v,x,T,D,j,M){Us(u,d,T,1,8,D,j,M),Us(v,x,T,1,8,D,j,M)}function Mu(u,d,v,x,T,D,j,M){Us(u,d,1,T,8,D,j,M),Us(v,x,1,T,8,D,j,M)}function Fu(u,d,v,x,T,D,j,M){di(u,d+4*T,T,1,8,D,j,M),di(v,x+4*T,T,1,8,D,j,M)}function dh(u,d,v,x,T,D,j,M){di(u,d+4,1,T,8,D,j,M),di(v,x+4,1,T,8,D,j,M)}function ol(){this.ba=new si,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Zt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Bu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Uu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function hh(){this.ua=0,this.Wa=new ee,this.vb=new ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new k}function $m(){this.xb=this.a=0,this.l=new Za,this.ca=new si,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new A,this.Pb=0,this.wd=new A,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new hh,this.ab=0,this.gc=o(4,Uu),this.Oc=0}function al(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Za,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ta(u,d,v,x,T,D,j){for(u=u==null?0:u[d+0],d=0;d<j;++d)T[D+d]=u+v[x+d]&255,u=T[D+d]}function zu(u,d,v,x,T,D,j){var M;if(u==null)ta(null,null,v,x,T,D,j);else for(M=0;M<j;++M)T[D+M]=u[d+M]+v[x+M]&255}function zs(u,d,v,x,T,D,j){if(u==null)ta(null,null,v,x,T,D,j);else{var M,B=u[d+0],K=B,re=B;for(M=0;M<j;++M)K=re+(B=u[d+M])-K,re=v[x+M]+(-256&K?0>K?0:255:K)&255,K=B,T[D+M]=re}}function Wu(u,d,v,x){var T=d.width,D=d.o;if(e(u!=null&&d!=null),0>v||0>=x||v+x>D)return null;if(!u.Cc){if(u.ga==null){var j;if(u.ga=new al,(j=u.ga==null)||(j=d.width*d.o,e(u.Gb.length==0),u.Gb=s(j),u.Uc=0,u.Gb==null?j=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,j=1),j=!j),!j){j=u.ga;var M=u.Fa,B=u.P,K=u.qc,re=u.mb,fe=u.nb,pe=B+1,le=K-1,xe=j.l;if(e(M!=null&&re!=null&&d!=null),Ys[0]=null,Ys[1]=ta,Ys[2]=zu,Ys[3]=zs,j.ca=re,j.tb=fe,j.c=d.width,j.i=d.height,e(0<j.c&&0<j.i),1>=K)d=0;else if(j.$a=M[B+0]>>0&3,j.Z=M[B+0]>>2&3,j.Lc=M[B+0]>>4&3,B=M[B+0]>>6&3,0>j.$a||1<j.$a||4<=j.Z||1<j.Lc||B)d=0;else if(xe.put=Ri,xe.ac=On,xe.bc=Oi,xe.ma=j,xe.width=d.width,xe.height=d.height,xe.Da=d.Da,xe.v=d.v,xe.va=d.va,xe.j=d.j,xe.o=d.o,j.$a)e:{e(j.$a==1),d=Wr();t:for(;;){if(d==null){d=0;break e}if(e(j!=null),j.mc=d,d.c=j.c,d.i=j.i,d.l=j.l,d.l.ma=j,d.l.width=j.c,d.l.height=j.i,d.a=0,z(d.m,M,pe,le),!Mi(j.c,j.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&is(d.s)?(j.ic=1,M=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s(M),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(j.ic=0,d=Jo(d,j.c)),!d))break t;d=1;break e}j.mc=null,d=0}else d=le>=j.c*j.i;j=!d}if(j)return null;u.ga.Lc!=1?u.Ga=0:x=D-v}e(u.ga!=null),e(v+x<=D);e:{if(d=(M=u.ga).c,D=M.l.o,M.$a==0){if(pe=u.rc,le=u.Vc,xe=u.Fa,B=u.P+1+v*d,K=u.mb,re=u.nb+v*d,e(B<=u.P+u.qc),M.Z!=0)for(e(Ys[M.Z]!=null),j=0;j<x;++j)Ys[M.Z](pe,le,xe,B,K,re,d),pe=K,le=re,re+=d,B+=d;else for(j=0;j<x;++j)r(K,re,xe,B,d),pe=K,le=re,re+=d,B+=d;u.rc=pe,u.Vc=le}else{if(e(M.mc!=null),d=v+x,e((j=M.mc)!=null),e(d<=j.i),j.C>=d)d=1;else if(M.ic||ce(),M.ic){M=j.V,pe=j.Ba,le=j.c;var ge=j.i,ie=(xe=1,B=j.$/le,K=j.$%le,re=j.m,fe=j.s,j.$),ae=le*ge,_e=le*d,Se=fe.wc,be=ie<_e?fn(fe,K,B):null;e(ie<=ae),e(d<=ge),e(is(fe));t:for(;;){for(;!re.h&&ie<_e;){if(K&Se||(be=fn(fe,K,B)),e(be!=null),J(re),256>(ge=pr(be.G[0],be.H[0],re)))M[pe+ie]=ge,++ie,++K>=le&&(K=0,++B<=d&&!(B%16)&&li(j,B));else{if(!(280>ge)){xe=0;break t}ge=oi(ge-256,re);var Fe,Le=pr(be.G[4],be.H[4],re);if(J(re),!(ie>=(Le=Di(le,Le=oi(Le,re)))&&ae-ie>=ge)){xe=0;break t}for(Fe=0;Fe<ge;++Fe)M[pe+ie+Fe]=M[pe+ie+Fe-Le];for(ie+=ge,K+=ge;K>=le;)K-=le,++B<=d&&!(B%16)&&li(j,B);ie<_e&&K&Se&&(be=fn(fe,K,B))}e(re.h==q(re))}li(j,B>d?d:B);break t}!xe||re.h&&ie<ae?(xe=0,j.a=re.h?5:3):j.$=ie,d=xe}else d=ui(j,j.V,j.Ba,j.c,j.i,d,Ga);if(!d){x=0;break e}}v+x>=D&&(u.Cc=1),x=1}if(!x)return null;if(u.Cc&&((x=u.ga)!=null&&(x.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+v*T}function g(u,d,v,x,T,D){for(;0<T--;){var j,M=u,B=d+(v?1:0),K=u,re=d+(v?0:3);for(j=0;j<x;++j){var fe=K[re+4*j];fe!=255&&(fe*=32897,M[B+4*j+0]=M[B+4*j+0]*fe>>23,M[B+4*j+1]=M[B+4*j+1]*fe>>23,M[B+4*j+2]=M[B+4*j+2]*fe>>23)}d+=D}}function L(u,d,v,x,T){for(;0<x--;){var D;for(D=0;D<v;++D){var j=u[d+2*D+0],M=15&(K=u[d+2*D+1]),B=4369*M,K=(240&K|K>>4)*B>>16;u[d+2*D+0]=(240&j|j>>4)*B>>16&240|(15&j|j<<4)*B>>16>>4&15,u[d+2*D+1]=240&K|M}d+=T}}function X(u,d,v,x,T,D,j,M){var B,K,re=255;for(K=0;K<T;++K){for(B=0;B<x;++B){var fe=u[d+B];D[j+4*B]=fe,re&=fe}d+=v,j+=M}return re!=255}function ne(u,d,v,x,T){var D;for(D=0;D<T;++D)v[x+D]=u[d+D]>>8}function ce(){Vr=g,Dt=L,jt=X,ln=ne}function ve(u,d,v){I[u]=function(x,T,D,j,M,B,K,re,fe,pe,le,xe,ge,ie,ae,_e,Se){var be,Fe=Se-1>>1,Le=M[B+0]|K[re+0]<<16,qe=fe[pe+0]|le[xe+0]<<16;e(x!=null);var Re=3*Le+qe+131074>>2;for(d(x[T+0],255&Re,Re>>16,ge,ie),D!=null&&(Re=3*qe+Le+131074>>2,d(D[j+0],255&Re,Re>>16,ae,_e)),be=1;be<=Fe;++be){var _t=M[B+be]|K[re+be]<<16,Nt=fe[pe+be]|le[xe+be]<<16,gt=Le+_t+qe+Nt+524296,ft=gt+2*(_t+qe)>>3;Re=ft+Le>>1,Le=(gt=gt+2*(Le+Nt)>>3)+_t>>1,d(x[T+2*be-1],255&Re,Re>>16,ge,ie+(2*be-1)*v),d(x[T+2*be-0],255&Le,Le>>16,ge,ie+(2*be-0)*v),D!=null&&(Re=gt+qe>>1,Le=ft+Nt>>1,d(D[j+2*be-1],255&Re,Re>>16,ae,_e+(2*be-1)*v),d(D[j+2*be+0],255&Le,Le>>16,ae,_e+(2*be+0)*v)),Le=_t,qe=Nt}1&Se||(Re=3*Le+qe+131074>>2,d(x[T+Se-1],255&Re,Re>>16,ge,ie+(Se-1)*v),D!=null&&(Re=3*qe+Le+131074>>2,d(D[j+Se-1],255&Re,Re>>16,ae,_e+(Se-1)*v)))}}function Ce(){Gr[_h]=LN,Gr[bh]=uy,Gr[iy]=RN,Gr[xh]=cy,Gr[Sh]=dy,Gr[Gm]=hy,Gr[sy]=ON,Gr[Km]=uy,Gr[Qm]=cy,Gr[Nh]=dy,Gr[Jm]=hy}function Me(u){return u&~DN?0>u?0:255:u>>fy}function He(u,d){return Me((19077*u>>8)+(26149*d>>8)-14234)}function it(u,d,v){return Me((19077*u>>8)-(6419*d>>8)-(13320*v>>8)+8708)}function tt(u,d){return Me((19077*u>>8)+(33050*d>>8)-17685)}function pt(u,d,v,x,T){x[T+0]=He(u,v),x[T+1]=it(u,d,v),x[T+2]=tt(u,d)}function Yt(u,d,v,x,T){x[T+0]=tt(u,d),x[T+1]=it(u,d,v),x[T+2]=He(u,v)}function en(u,d,v,x,T){var D=it(u,d,v);d=D<<3&224|tt(u,d)>>3,x[T+0]=248&He(u,v)|D>>5,x[T+1]=d}function pn(u,d,v,x,T){var D=240&tt(u,d)|15;x[T+0]=240&He(u,v)|it(u,d,v)>>4,x[T+1]=D}function Vn(u,d,v,x,T){x[T+0]=255,pt(u,d,v,x,T+1)}function En(u,d,v,x,T){Yt(u,d,v,x,T),x[T+3]=255}function hi(u,d,v,x,T){pt(u,d,v,x,T),x[T+3]=255}function Ir(u,d){return 0>u?0:u>d?d:u}function Ui(u,d,v){I[u]=function(x,T,D,j,M,B,K,re,fe){for(var pe=re+(-2&fe)*v;re!=pe;)d(x[T+0],D[j+0],M[B+0],K,re),d(x[T+1],D[j+0],M[B+0],K,re+v),T+=2,++j,++B,re+=2*v;1&fe&&d(x[T+0],D[j+0],M[B+0],K,re)}}function fh(u,d,v){return v==0?u==0?d==0?6:5:d==0?4:0:v}function Hu(u,d,v,x,T){switch(u>>>30){case 3:us(d,v,x,T,0);break;case 2:an(d,v,x,T);break;case 1:ir(d,v,x,T)}}function qu(u,d){var v,x,T=d.M,D=d.Nb,j=u.oc,M=u.pc+40,B=u.oc,K=u.pc+584,re=u.oc,fe=u.pc+600;for(v=0;16>v;++v)j[M+32*v-1]=129;for(v=0;8>v;++v)B[K+32*v-1]=129,re[fe+32*v-1]=129;for(0<T?j[M-1-32]=B[K-1-32]=re[fe-1-32]=129:(i(j,M-32-1,127,21),i(B,K-32-1,127,9),i(re,fe-32-1,127,9)),x=0;x<u.za;++x){var pe=d.ya[d.aa+x];if(0<x){for(v=-1;16>v;++v)r(j,M+32*v-4,j,M+32*v+12,4);for(v=-1;8>v;++v)r(B,K+32*v-4,B,K+32*v+4,4),r(re,fe+32*v-4,re,fe+32*v+4,4)}var le=u.Gd,xe=u.Hd+x,ge=pe.ad,ie=pe.Hc;if(0<T&&(r(j,M-32,le[xe].y,0,16),r(B,K-32,le[xe].f,0,8),r(re,fe-32,le[xe].ea,0,8)),pe.Za){var ae=j,_e=M-32+16;for(0<T&&(x>=u.za-1?i(ae,_e,le[xe].y[15],4):r(ae,_e,le[xe+1].y,0,4)),v=0;4>v;v++)ae[_e+128+v]=ae[_e+256+v]=ae[_e+384+v]=ae[_e+0+v];for(v=0;16>v;++v,ie<<=2)ae=j,_e=M+my[v],fi[pe.Ob[v]](ae,_e),Hu(ie,ge,16*+v,ae,_e)}else if(ae=fh(x,T,pe.Ob[0]),Vs[ae](j,M),ie!=0)for(v=0;16>v;++v,ie<<=2)Hu(ie,ge,16*+v,j,M+my[v]);for(v=pe.Gc,ae=fh(x,T,pe.Dd),ds[ae](B,K),ds[ae](re,fe),ie=ge,ae=B,_e=K,255&(pe=v>>0)&&(170&pe?Ku(ie,256,ae,_e):qr(ie,256,ae,_e)),pe=re,ie=fe,255&(v>>=8)&&(170&v?Ku(ge,320,pe,ie):qr(ge,320,pe,ie)),T<u.Ub-1&&(r(le[xe].y,0,j,M+480,16),r(le[xe].f,0,B,K+224,8),r(le[xe].ea,0,re,fe+224,8)),v=8*D*u.B,le=u.sa,xe=u.ta+16*x+16*D*u.R,ge=u.qa,pe=u.ra+8*x+v,ie=u.Ha,ae=u.Ia+8*x+v,v=0;16>v;++v)r(le,xe+v*u.R,j,M+32*v,16);for(v=0;8>v;++v)r(ge,pe+v*u.B,B,K+32*v,8),r(ie,ae+v*u.B,re,fe+32*v,8)}}function ll(u,d,v,x,T,D,j,M,B){var K=[0],re=[0],fe=0,pe=B!=null?B.kd:0,le=B??new Bu;if(u==null||12>v)return 7;le.data=u,le.w=d,le.ha=v,d=[d],v=[v],le.gb=[le.gb];e:{var xe=d,ge=v,ie=le.gb;if(e(u!=null),e(ge!=null),e(ie!=null),ie[0]=0,12<=ge[0]&&!n(u,xe[0],"RIFF")){if(n(u,xe[0]+8,"WEBP")){ie=3;break e}var ae=Ie(u,xe[0]+4);if(12>ae||4294967286<ae){ie=3;break e}if(pe&&ae>ge[0]-8){ie=7;break e}ie[0]=ae,xe[0]+=12,ge[0]-=12}ie=0}if(ie!=0)return ie;for(ae=0<le.gb[0],v=v[0];;){e:{var _e=u;ge=d,ie=v;var Se=K,be=re,Fe=xe=[0];if((Re=fe=[fe])[0]=0,8>ie[0])ie=7;else{if(!n(_e,ge[0],"VP8X")){if(Ie(_e,ge[0]+4)!=10){ie=3;break e}if(18>ie[0]){ie=7;break e}var Le=Ie(_e,ge[0]+8),qe=1+Pe(_e,ge[0]+12);if(2147483648<=qe*(_e=1+Pe(_e,ge[0]+15))){ie=3;break e}Fe!=null&&(Fe[0]=Le),Se!=null&&(Se[0]=qe),be!=null&&(be[0]=_e),ge[0]+=18,ie[0]-=18,Re[0]=1}ie=0}}if(fe=fe[0],xe=xe[0],ie!=0)return ie;if(ge=!!(2&xe),!ae&&fe)return 3;if(D!=null&&(D[0]=!!(16&xe)),j!=null&&(j[0]=ge),M!=null&&(M[0]=0),j=K[0],xe=re[0],fe&&ge&&B==null){ie=0;break}if(4>v){ie=7;break}if(ae&&fe||!ae&&!fe&&!n(u,d[0],"ALPH")){v=[v],le.na=[le.na],le.P=[le.P],le.Sa=[le.Sa];e:{Le=u,ie=d,ae=v;var Re=le.gb;Se=le.na,be=le.P,Fe=le.Sa,qe=22,e(Le!=null),e(ae!=null),_e=ie[0];var _t=ae[0];for(e(Se!=null),e(Fe!=null),Se[0]=null,be[0]=null,Fe[0]=0;;){if(ie[0]=_e,ae[0]=_t,8>_t){ie=7;break e}var Nt=Ie(Le,_e+4);if(4294967286<Nt){ie=3;break e}var gt=8+Nt+1&-2;if(qe+=gt,0<Re&&qe>Re){ie=3;break e}if(!n(Le,_e,"VP8 ")||!n(Le,_e,"VP8L")){ie=0;break e}if(_t[0]<gt){ie=7;break e}n(Le,_e,"ALPH")||(Se[0]=Le,be[0]=_e+8,Fe[0]=Nt),_e+=gt,_t-=gt}}if(v=v[0],le.na=le.na[0],le.P=le.P[0],le.Sa=le.Sa[0],ie!=0)break}v=[v],le.Ja=[le.Ja],le.xa=[le.xa];e:if(Re=u,ie=d,ae=v,Se=le.gb[0],be=le.Ja,Fe=le.xa,Le=ie[0],_e=!n(Re,Le,"VP8 "),qe=!n(Re,Le,"VP8L"),e(Re!=null),e(ae!=null),e(be!=null),e(Fe!=null),8>ae[0])ie=7;else{if(_e||qe){if(Re=Ie(Re,Le+4),12<=Se&&Re>Se-12){ie=3;break e}if(pe&&Re>ae[0]-8){ie=7;break e}be[0]=Re,ie[0]+=8,ae[0]-=8,Fe[0]=qe}else Fe[0]=5<=ae[0]&&Re[Le+0]==47&&!(Re[Le+4]>>5),be[0]=ae[0];ie=0}if(v=v[0],le.Ja=le.Ja[0],le.xa=le.xa[0],d=d[0],ie!=0)break;if(4294967286<le.Ja)return 3;if(M==null||ge||(M[0]=le.xa?2:1),j=[j],xe=[xe],le.xa){if(5>v){ie=7;break}M=j,pe=xe,ge=D,u==null||5>v?u=0:5<=v&&u[d+0]==47&&!(u[d+4]>>5)?(ae=[0],Re=[0],Se=[0],z(be=new A,u,d,v),Ye(be,ae,Re,Se)?(M!=null&&(M[0]=ae[0]),pe!=null&&(pe[0]=Re[0]),ge!=null&&(ge[0]=Se[0]),u=1):u=0):u=0}else{if(10>v){ie=7;break}M=xe,u==null||10>v||!Jd(u,d+3,v-3)?u=0:(pe=u[d+0]|u[d+1]<<8|u[d+2]<<16,ge=16383&(u[d+7]<<8|u[d+6]),u=16383&(u[d+9]<<8|u[d+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=le.Ja||!ge||!u?u=0:(j&&(j[0]=ge),M&&(M[0]=u),u=1))}if(!u||(j=j[0],xe=xe[0],fe&&(K[0]!=j||re[0]!=xe)))return 3;B!=null&&(B[0]=le,B.offset=d-B.w,e(4294967286>d-B.w),e(B.offset==B.ha-v));break}return ie==0||ie==7&&fe&&B==null?(D!=null&&(D[0]|=le.na!=null&&0<le.na.length),x!=null&&(x[0]=j),T!=null&&(T[0]=xe),0):ie}function $u(u,d,v){var x=d.width,T=d.height,D=0,j=0,M=x,B=T;if(d.Da=u!=null&&0<u.Da,d.Da&&(M=u.cd,B=u.bd,D=u.v,j=u.j,11>v||(D&=-2,j&=-2),0>D||0>j||0>=M||0>=B||D+M>x||j+B>T))return 0;if(d.v=D,d.j=j,d.va=D+M,d.o=j+B,d.U=M,d.T=B,d.da=u!=null&&0<u.da,d.da){if(!rt(M,B,v=[u.ib],D=[u.hb]))return 0;d.ib=v[0],d.hb=D[0]}return d.ob=u!=null&&u.ob,d.Kb=u==null||!u.Sd,d.da&&(d.ob=d.ib<3*x/4&&d.hb<3*T/4,d.Kb=0),1}function Vu(u){if(u==null)return 2;if(11>u.S){var d=u.f.RGBA;d.fb+=(u.height-1)*d.A,d.A=-d.A}else d=u.f.kb,u=u.height,d.O+=(u-1)*d.fa,d.fa=-d.fa,d.N+=(u-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(u-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(u-1)*d.lb,d.lb=-d.lb);return 0}function ul(u,d,v,x){if(x==null||0>=u||0>=d)return 2;if(v!=null){if(v.Da){var T=v.cd,D=v.bd,j=-2&v.v,M=-2&v.j;if(0>j||0>M||0>=T||0>=D||j+T>u||M+D>d)return 2;u=T,d=D}if(v.da){if(!rt(u,d,T=[v.ib],D=[v.hb]))return 2;u=T[0],d=D[0]}}x.width=u,x.height=d;e:{var B=x.width,K=x.height;if(u=x.S,0>=B||0>=K||!(u>=_h&&13>u))u=2;else{if(0>=x.Rd&&x.sd==null){j=D=T=d=0;var re=(M=B*gy[u])*K;if(11>u||(D=(K+1)/2*(d=(B+1)/2),u==12&&(j=(T=B)*K)),(K=s(re+2*D+j))==null){u=1;break e}x.sd=K,11>u?((B=x.f.RGBA).eb=K,B.fb=0,B.A=M,B.size=re):((B=x.f.kb).y=K,B.O=0,B.fa=M,B.Fd=re,B.f=K,B.N=0+re,B.Ab=d,B.Cd=D,B.ea=K,B.W=0+re+D,B.Db=d,B.Ed=D,u==12&&(B.F=K,B.J=0+re+2*D),B.Tc=j,B.lb=T)}if(d=1,T=x.S,D=x.width,j=x.height,T>=_h&&13>T)if(11>T)u=x.f.RGBA,d&=(M=Math.abs(u.A))*(j-1)+D<=u.size,d&=M>=D*gy[T],d&=u.eb!=null;else{u=x.f.kb,M=(D+1)/2,re=(j+1)/2,B=Math.abs(u.fa),K=Math.abs(u.Ab);var fe=Math.abs(u.Db),pe=Math.abs(u.lb),le=pe*(j-1)+D;d&=B*(j-1)+D<=u.Fd,d&=K*(re-1)+M<=u.Cd,d=(d&=fe*(re-1)+M<=u.Ed)&B>=D&K>=M&fe>=M,d&=u.y!=null,d&=u.f!=null,d&=u.ea!=null,T==12&&(d&=pe>=D,d&=le<=u.Tc,d&=u.F!=null)}else d=0;u=d?0:2}}return u!=0||v!=null&&v.fd&&(u=Vu(x)),u}var Dn=64,cl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],dl=24,hl=32,Yu=8,gr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Te("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(u){return u},I.Predictor2=function(u,d,v){return d[v+0]},I.Predictor3=function(u,d,v){return d[v+1]},I.Predictor4=function(u,d,v){return d[v-1]},I.Predictor5=function(u,d,v){return Oe(Oe(u,d[v+1]),d[v+0])},I.Predictor6=function(u,d,v){return Oe(u,d[v-1])},I.Predictor7=function(u,d,v){return Oe(u,d[v+0])},I.Predictor8=function(u,d,v){return Oe(d[v-1],d[v+0])},I.Predictor9=function(u,d,v){return Oe(d[v+0],d[v+1])},I.Predictor10=function(u,d,v){return Oe(Oe(u,d[v-1]),Oe(d[v+0],d[v+1]))},I.Predictor11=function(u,d,v){var x=d[v+0];return 0>=ot(x>>24&255,u>>24&255,(d=d[v-1])>>24&255)+ot(x>>16&255,u>>16&255,d>>16&255)+ot(x>>8&255,u>>8&255,d>>8&255)+ot(255&x,255&u,255&d)?x:u},I.Predictor12=function(u,d,v){var x=d[v+0];return(We((u>>24&255)+(x>>24&255)-((d=d[v-1])>>24&255))<<24|We((u>>16&255)+(x>>16&255)-(d>>16&255))<<16|We((u>>8&255)+(x>>8&255)-(d>>8&255))<<8|We((255&u)+(255&x)-(255&d)))>>>0},I.Predictor13=function(u,d,v){var x=d[v-1];return(Ze((u=Oe(u,d[v+0]))>>24&255,x>>24&255)<<24|Ze(u>>16&255,x>>16&255)<<16|Ze(u>>8&255,x>>8&255)<<8|Ze(u>>0&255,x>>0&255))>>>0};var Vm=I.PredictorAdd0;I.PredictorAdd1=at,Te("Predictor2","PredictorAdd2"),Te("Predictor3","PredictorAdd3"),Te("Predictor4","PredictorAdd4"),Te("Predictor5","PredictorAdd5"),Te("Predictor6","PredictorAdd6"),Te("Predictor7","PredictorAdd7"),Te("Predictor8","PredictorAdd8"),Te("Predictor9","PredictorAdd9"),Te("Predictor10","PredictorAdd10"),Te("Predictor11","PredictorAdd11"),Te("Predictor12","PredictorAdd12"),Te("Predictor13","PredictorAdd13");var Gu=I.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var ph,Hr=I.ColorIndexInverseTransform,fl=I.MapARGB,mh=I.VP8LColorIndexInverseTransformAlpha,gh=I.MapAlpha,Ws=I.VP8LPredictorsAdd=[];Ws.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var na,vr,rr,Hs,as,ls,pl,us,an,Ku,ir,qr,ml,vh,Qu,ra,ia,qs,sa,gl,oa,$s,Ju,$r,Vr,Dt,jt,ln,_n=s(511),cs=s(2041),Xu=s(225),vl=s(767),yh=0,Ym=cs,wh=Xu,Tr=vl,Yr=_n,_h=0,bh=1,iy=2,xh=3,Sh=4,Gm=5,sy=6,Km=7,Qm=8,Nh=9,Jm=10,yN=[2,3,7],wN=[3,3,11],oy=[280,256,256,256,40],_N=[0,1,1,1,0],bN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],xN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],SN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],NN=8,Xm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zu=null,CN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],EN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ay=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],kN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],AN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],PN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],IN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Vs=[],fi=[],ds=[],TN=1,ly=2,Ys=[],Gr=[];ve("UpsampleRgbLinePair",pt,3),ve("UpsampleBgrLinePair",Yt,3),ve("UpsampleRgbaLinePair",hi,4),ve("UpsampleBgraLinePair",En,4),ve("UpsampleArgbLinePair",Vn,4),ve("UpsampleRgba4444LinePair",pn,2),ve("UpsampleRgb565LinePair",en,2);var LN=I.UpsampleRgbLinePair,RN=I.UpsampleBgrLinePair,uy=I.UpsampleRgbaLinePair,cy=I.UpsampleBgraLinePair,dy=I.UpsampleArgbLinePair,hy=I.UpsampleRgba4444LinePair,ON=I.UpsampleRgb565LinePair,Ch=16,Eh=1<<Ch-1,ec=-227,e0=482,fy=6,DN=(256<<fy)-1,py=0,jN=s(256),MN=s(256),FN=s(256),BN=s(256),UN=s(e0-ec),zN=s(e0-ec);Ui("YuvToRgbRow",pt,3),Ui("YuvToBgrRow",Yt,3),Ui("YuvToRgbaRow",hi,4),Ui("YuvToBgraRow",En,4),Ui("YuvToArgbRow",Vn,4),Ui("YuvToRgba4444Row",pn,2),Ui("YuvToRgb565Row",en,2);var my=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],kh=[0,2,8],WN=[8,7,6,4,4,2,2,2,1,1,1,1],HN=1;this.WebPDecodeRGBA=function(u,d,v,x,T){var D=bh,j=new ol,M=new si;j.ba=M,M.S=D,M.width=[M.width],M.height=[M.height];var B=M.width,K=M.height,re=new rs;if(re==null||u==null)var fe=2;else e(re!=null),fe=ll(u,d,v,re.width,re.height,re.Pd,re.Qd,re.format,null);if(fe!=0?B=0:(B!=null&&(B[0]=re.width[0]),K!=null&&(K[0]=re.height[0]),B=1),B){M.width=M.width[0],M.height=M.height[0],x!=null&&(x[0]=M.width),T!=null&&(T[0]=M.height);e:{if(x=new Za,(T=new Bu).data=u,T.w=d,T.ha=v,T.kd=1,d=[0],e(T!=null),((u=ll(T.data,T.w,T.ha,null,null,null,d,null,T))==0||u==7)&&d[0]&&(u=4),(d=u)==0){if(e(j!=null),x.data=T.data,x.w=T.w+T.offset,x.ha=T.ha-T.offset,x.put=Ri,x.ac=On,x.bc=Oi,x.ma=j,T.xa){if((u=Wr())==null){j=1;break e}if(function(pe,le){var xe=[0],ge=[0],ie=[0];t:for(;;){if(pe==null)return 0;if(le==null)return pe.a=2,0;if(pe.l=le,pe.a=0,z(pe.m,le.data,le.w,le.ha),!Ye(pe.m,xe,ge,ie)){pe.a=3;break t}if(pe.xb=ly,le.width=xe[0],le.height=ge[0],!Mi(xe[0],ge[0],1,pe,null))break t;return 1}return e(pe.a!=0),0}(u,x)){if(x=(d=ul(x.width,x.height,j.Oa,j.ba))==0){t:{x=u;n:for(;;){if(x==null){x=0;break t}if(e(x.s.yc!=null),e(x.s.Ya!=null),e(0<x.s.Wb),e((v=x.l)!=null),e((T=v.ma)!=null),x.xb!=0){if(x.ca=T.ba,x.tb=T.tb,e(x.ca!=null),!$u(T.Oa,v,xh)){x.a=2;break n}if(!Jo(x,v.width)||v.da)break n;if((v.da||xt(x.ca.S))&&ce(),11>x.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),x.ca.f.kb.F!=null&&ce()),x.Pb&&0<x.s.ua&&x.s.vb.X==null&&!Ve(x.s.vb,x.s.Wa.Xa)){x.a=1;break n}x.xb=0}if(!ui(x,x.V,x.Ba,x.c,x.i,v.o,Ya))break n;T.Dc=x.Ma,x=1;break t}e(x.a!=0),x=0}x=!x}x&&(d=u.a)}else d=u.a}else{if((u=new km)==null){j=1;break e}if(u.Fa=T.na,u.P=T.P,u.qc=T.Sa,Xd(u,x)){if((d=ul(x.width,x.height,j.Oa,j.ba))==0){if(u.Aa=0,v=j.Oa,e((T=u)!=null),v!=null){if(0<(B=0>(B=v.Md)?0:100<B?255:255*B/100)){for(K=re=0;4>K;++K)12>(fe=T.pb[K]).lc&&(fe.ia=B*WN[0>fe.lc?0:fe.lc]>>3),re|=fe.ia;re&&(alert("todo:VP8InitRandom"),T.ia=1)}T.Ga=v.Id,100<T.Ga?T.Ga=100:0>T.Ga&&(T.Ga=0)}Am(u,x)||(d=u.a)}}else d=u.a}d==0&&j.Oa!=null&&j.Oa.fd&&(d=Vu(j.ba))}j=d}D=j!=0?null:11>D?M.f.RGBA.eb:M.f.kb.y}else D=null;return D};var gy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(I,W){for(var H="",P=0;P<4;P++)H+=String.fromCharCode(I[W++]);return H}function f(I,W){return(I[W+0]<<0|I[W+1]<<8|I[W+2]<<16)>>>0}function h(I,W){return(I[W+0]<<0|I[W+1]<<8|I[W+2]<<16|I[W+3]<<24)>>>0}new l;var m=[0],p=[0],b=[],S=new l,C=t,w=function(I,W){var H={},P=0,k=!1,V=0,Y=0;if(H.frames=[],!function(U,q,Z,J){for(var se=0;se<J;se++)if(U[q+se]!=Z.charCodeAt(se))return!0;return!1}(I,W,"RIFF",4)){var oe,Q;for(h(I,W+=4),W+=8;W<I.length;){var G=c(I,W),z=h(I,W+=4);W+=4;var $=z+(1&z);switch(G){case"VP8 ":case"VP8L":H.frames[P]===void 0&&(H.frames[P]={}),(A=H.frames[P]).src_off=k?Y:W-8,A.src_size=V+z+8,P++,k&&(k=!1,V=0,Y=0);break;case"VP8X":(A=H.header={}).feature_flags=I[W];var te=W+4;A.canvas_width=1+f(I,te),te+=3,A.canvas_height=1+f(I,te),te+=3;break;case"ALPH":k=!0,V=$+8,Y=W-8;break;case"ANIM":(A=H.header).bgcolor=h(I,W),te=W+4,A.loop_count=(oe=I)[(Q=te)+0]<<0|oe[Q+1]<<8,te+=2;break;case"ANMF":var de,A;(A=H.frames[P]={}).offset_x=2*f(I,W),W+=3,A.offset_y=2*f(I,W),W+=3,A.width=1+f(I,W),W+=3,A.height=1+f(I,W),W+=3,A.duration=f(I,W),W+=3,de=I[W++],A.dispose=1&de,A.blend=de>>1&1}G!="ANMF"&&(W+=$)}return H}}(C,0);w.response=C,w.rgbaoutput=!0,w.dataurl=!1;var y=w.header?w.header:null,_=w.frames?w.frames:null;if(y){y.loop_counter=y.loop_count,m=[y.canvas_height],p=[y.canvas_width];for(var E=0;E<_.length&&_[E].blend!=0;E++);}var O=_[0],F=S.WebPDecodeRGBA(C,O.src_off,O.src_size,p,m);O.rgba=F,O.imgwidth=p[0],O.imgheight=m[0];for(var R=0;R<p[0]*m[0]*4;R++)b[R]=F[R];return this.width=p,this.height=m,this.data=b,this}(function(t){var e=function(){return typeof V1=="function"},n=function(m,p,b,S){var C=4,w=o;switch(S){case t.image_compression.FAST:C=1,w=s;break;case t.image_compression.MEDIUM:C=6,w=a;break;case t.image_compression.SLOW:C=9,w=l}m=r(m,p,b,w);var y=V1(m,{level:C});return t.__addimage__.arrayBufferToBinaryString(y)},r=function(m,p,b,S){for(var C,w,y,_=m.length/p,E=new Uint8Array(m.length+_),O=f(),F=0;F<_;F+=1){if(y=F*p,C=m.subarray(y,y+p),S)E.set(S(C,b,w),y+F);else{for(var R,I=O.length,W=[];R<I;R+=1)W[R]=O[R](C,b,w);var H=h(W.concat());E.set(W[H],y+F)}w=C}return E},i=function(m){var p=Array.apply([],m);return p.unshift(0),p},s=function(m,p){var b,S=[],C=m.length;S[0]=1;for(var w=0;w<C;w+=1)b=m[w-p]||0,S[w+1]=m[w]-b+256&255;return S},o=function(m,p,b){var S,C=[],w=m.length;C[0]=2;for(var y=0;y<w;y+=1)S=b&&b[y]||0,C[y+1]=m[y]-S+256&255;return C},a=function(m,p,b){var S,C,w=[],y=m.length;w[0]=3;for(var _=0;_<y;_+=1)S=m[_-p]||0,C=b&&b[_]||0,w[_+1]=m[_]+256-(S+C>>>1)&255;return w},l=function(m,p,b){var S,C,w,y,_=[],E=m.length;_[0]=4;for(var O=0;O<E;O+=1)S=m[O-p]||0,C=b&&b[O]||0,w=b&&b[O-p]||0,y=c(S,C,w),_[O+1]=m[O]-y+256&255;return _},c=function(m,p,b){if(m===p&&p===b)return m;var S=Math.abs(p-b),C=Math.abs(m-b),w=Math.abs(m+p-b-b);return S<=C&&S<=w?m:C<=w?p:b},f=function(){return[i,s,o,a,l]},h=function(m){var p=m.map(function(b){return b.reduce(function(S,C){return S+Math.abs(C)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(m,p,b,S){var C,w,y,_,E,O,F,R,I,W,H,P,k,V,Y,oe=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(y=new mM(m)).imgData,w=y.bits,C=y.colorSpace,E=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){I=(R=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,H=new Uint8Array(I*y.colors),W=new Uint8Array(I);var G,z=y.pixelBitlength-y.bits;for(V=0,Y=0;V<I;V++){for(k=R[V],G=0;G<z;)H[Y++]=k>>>G&255,G+=y.bits;W[V]=k>>>G&255}}if(y.bits===16){I=(R=new Uint32Array(y.decodePixels().buffer)).length,H=new Uint8Array(I*(32/y.pixelBitlength)*y.colors),W=new Uint8Array(I*(32/y.pixelBitlength)),P=y.colors>1,V=0,Y=0;for(var $=0;V<I;)k=R[V++],H[Y++]=k>>>0&255,P&&(H[Y++]=k>>>16&255,k=R[V++],H[Y++]=k>>>0&255),W[$++]=k>>>16&255;w=8}S!==t.image_compression.NONE&&e()?(m=n(H,y.width*y.colors,y.colors,S),F=n(W,y.width,1,S)):(m=H,F=W,oe=void 0)}if(y.colorType===3&&(C=this.color_spaces.INDEXED,O=y.palette,y.transparency.indexed)){var te=y.transparency.indexed,de=0;for(V=0,I=te.length;V<I;++V)de+=te[V];if((de/=255)===I-1&&te.indexOf(0)!==-1)_=[te.indexOf(0)];else if(de!==I){for(R=y.decodePixels(),W=new Uint8Array(R.length),V=0,I=R.length;V<I;V++)W[V]=te[R[V]];F=n(W,y.width,1)}}var A=function(U){var q;switch(U){case t.image_compression.FAST:q=11;break;case t.image_compression.MEDIUM:q=13;break;case t.image_compression.SLOW:q=14;break;default:q=12}return q}(S);return oe===this.decode.FLATE_DECODE&&(Q="/Predictor "+A+" "),Q+="/Colors "+E+" /BitsPerComponent "+w+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(F&&this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),{alias:b,data:m,index:p,filter:oe,decodeParameters:Q,transparency:_,palette:O,sMask:F,predictor:A,width:y.width,height:y.height,bitsPerComponent:w,colorSpace:C}}}})($e.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new gM(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},f=new hg(100).encode(c,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A}($e.API),vi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Ot.log("bit decode error:"+n)}},vi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},vi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},vi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},vi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=c}this.pos+=t}},vi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=255}this.pos+=t}},vi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},vi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},vi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new vi(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new hg(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}($e.API),q_.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new q_(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new hg(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}($e.API),$e.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var f=r[c],h=r[c+1],m=r[c+2],p=r[c+3];s[a++]=f,s[a++]=h,s[a++]=m,o[l++]=p}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},$e.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},kl=$e.API,df=kl.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=c.fof?c.fof:1,h=e.doKerning!==!1,m=0,p=t.length,b=0,S=a[0]||l,C=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(m=h&&bt(c[r])==="object"&&!isNaN(parseInt(c[r][b],10))?c[r][b]/f:0,C.push((a[r]||S)/l+m)),b=r;return C},U_=kl.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return kl.processArabic&&(t=kl.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:df.apply(this,arguments).reduce(function(s,o){return s+o},0)},z_=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},W_=function(t,e,n){n||(n={});var r,i,s,o,a,l,c,f=[],h=[f],m=n.textIndent||0,p=0,b=0,S=t.split(" "),C=df.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),y=[];S.map(function(E){(E=E.split(/\s*\n/)).length>1?y=y.concat(E.map(function(O,F){return(F&&O.length?`
`:"")+O})):y.push(E[0])}),S=y,l=U_.apply(this,[w,n])}for(s=0,o=S.length;s<o;s++){var _=0;if(r=S[s],l&&r[0]==`
`&&(r=r.substr(1),_=1),m+p+(b=(i=df.apply(this,[r,n])).reduce(function(E,O){return E+O},0))>e||_){if(b>e){for(a=z_.apply(this,[r,i,e-(m+p),e]),f.push(a.shift()),f=[a.pop()];a.length;)h.push([a.shift()]);b=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(E,O){return E+O},0)}else f=[r];h.push(f),m=b+l,p=C}else f.push(r),m+=p+b,p=C}return c=l?function(E,O){return(O?w:"")+E.join(" ")}:function(E){return E.join(" ")},h.map(c)},kl.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(W_.apply(this,[r[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var m,p,b,S,C=["{"];for(var w in h){if(m=h[w],isNaN(parseInt(w,10))?p="'"+w+"'":(w=parseInt(w,10),p=(p=s(w).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof m=="number")m<0?(b=s(m).slice(3),S="-"):(b=s(m).slice(2),S=""),b=S+b.slice(0,-1)+r[b.slice(-1)];else{if(bt(m)!=="object")throw new Error("Don't know what to do with value type "+bt(m)+".");b=o(m)}C.push(p+b)}return C.push("}"),C.join("")},a=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,p,b,S,C={},w=1,y=C,_=[],E="",O="",F=h.length-1,R=1;R<F;R+=1)(S=h[R])=="'"?m?(b=m.join(""),m=void 0):m=[]:m?m.push(S):S=="{"?(_.push([y,b]),y={},b=void 0):S=="}"?((p=_.pop())[0][p[1]]=y,b=void 0,y=p[0]):S=="-"?w=-1:b===void 0?n.hasOwnProperty(S)?(E+=n[S],b=parseInt(E,16)*w,w=1,E=""):E+=S:n.hasOwnProperty(S)?(O+=n[S],y[b]=parseInt(O,16)*w,w=1,b=void 0,O=""):O+=S;return C},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},f={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var m=h.font,p=f.Unicode[m.postScriptName];p&&(m.metadata.Unicode={},m.metadata.Unicode.widths=p.widths,m.metadata.Unicode.kerning=p.kerning);var b=c.Unicode[m.postScriptName];b&&(m.metadata.Unicode.encoding=b,m.encoding=b.codePages[0])}])}($e.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Wc(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}($e),function(t){function e(){return(Ge.canvg?Promise.resolve(Ge.canvg):z1(()=>import("./index.es-BWh2h6Ia.js"),[],import.meta.url)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}$e.API.addSvgAsImage=function(n,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw Ot.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Ot.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=o;var h=f.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(b){return b.fromString(h,n,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(m)}).then(function(){p.addImage(f.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),$e.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},$e.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,f=0,h=0;function m(b,S){var C,w=!1;for(C=0;C<b.length;C+=1)b[C]===S&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(h=0;h<p;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(bt(t)==="object"){for(i in t)if(s=t[i],m(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&m(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(f=0;f<s[c].length;f+=1)typeof s[c][f]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,S=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?S.push("/"+b+" /"+n[b].value):S.push("/"+b+" "+n[b].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}($e.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],f=[""],h=0,m=s.length;h<m;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(c[4-a.length],a)}return f.join("")},r=function(s){var o,a,l,c,f,h,m;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,m=(a=Object.keys(s).sort(function(p,b){return p-b})).length;h<m;h++)o=a[h],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",b=0;b<m.length;b++)p+=String.fromCharCode(m[b]);var S=c();f({data:p,addLength1:!0,objectId:S}),l("endobj");var C=c();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:C}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Pl(a.fontName)),l("/FontFile2 "+S+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Pl(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+C+" 0 R"),l("/BaseFont /"+Pl(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,m="",p=0;p<h.length;p++)m+=String.fromCharCode(h[p]);var b=c();f({data:m,addLength1:!0,objectId:b}),l("endobj");var S=c();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var C=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Pl(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Pl(a.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,f=s.options||{},h=s.mutex||{},m=h.pdfEscape,p=h.activeFontKey,b=h.fonts,S=p,C="",w=0,y="",_=b[S].encoding;if(b[S].encoding!=="Identity-H")return{text:a,x:l,y:c,options:f,mutex:h};for(y=a,S=p,Array.isArray(a)&&(y=a[0]),w=0;w<y.length;w+=1)b[S].metadata.hasOwnProperty("cmap")&&(o=b[S].metadata.cmap.unicode.codeMap[y[w].charCodeAt(0)]),o||y[w].charCodeAt(0)<256&&b[S].metadata.hasOwnProperty("Unicode")?C+=y[w]:C+="";var E="";return parseInt(S.slice(1))<14||_==="WinAnsiEncoding"?E=m(C,S).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(E=n(C,b[S])),h.isHex=!0,{text:E,x:l,y:c,options:f,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}($e),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}($e.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,f,h=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,_=0;this.__bidiEngine__={};var E=function(P){var k=P.charCodeAt(),V=k>>8,Y=S[V];return Y!==void 0?h[256*Y+(255&k)]:V===252||V===253?"AL":w.test(V)?"L":V===8?"R":"N"},O=function(P){for(var k,V=0;V<P.length;V++){if((k=E(P.charAt(V)))==="L")return!1;if(k==="R")return!0}return!1},F=function(P,k,V,Y){var oe,Q,G,z,$=k[Y];switch($){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&($="AN");break;case"AL":y=!0,$="R";break;case"WS":$="N";break;case"CS":Y<1||Y+1>=k.length||(oe=V[Y-1])!=="EN"&&oe!=="AN"||(Q=k[Y+1])!=="EN"&&Q!=="AN"?$="N":y&&(Q="AN"),$=Q===oe?Q:"N";break;case"ES":$=(oe=Y>0?V[Y-1]:"B")==="EN"&&Y+1<k.length&&k[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&V[Y-1]==="EN"){$="EN";break}if(y){$="N";break}for(G=Y+1,z=k.length;G<z&&k[G]==="ET";)G++;$=G<z&&k[G]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(z=k.length,G=Y+1;G<z&&k[G]==="NSM";)G++;if(G<z){var te=P[Y],de=te>=1425&&te<=2303||te===64286;if(oe=k[G],de&&(oe==="R"||oe==="AL")){$="R";break}}}$=Y<1||(oe=k[Y-1])==="B"?"N":V[Y-1];break;case"B":y=!1,i=!0,$=_;break;case"S":s=!0,$="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":$="N"}return $},R=function(P,k,V){var Y=P.split("");return V&&I(Y,V,{hiLevel:_}),Y.reverse(),k&&k.reverse(),Y.join("")},I=function(P,k,V){var Y,oe,Q,G,z,$=-1,te=P.length,de=0,A=[],U=_?p:m,q=[];for(y=!1,i=!1,s=!1,oe=0;oe<te;oe++)q[oe]=E(P[oe]);for(Q=0;Q<te;Q++){if(z=de,A[Q]=F(P,q,A,Q),Y=240&(de=U[z][b[A[Q]]]),de&=15,k[Q]=G=U[de][5],Y>0)if(Y===16){for(oe=$;oe<Q;oe++)k[oe]=1;$=-1}else $=-1;if(U[de][6])$===-1&&($=Q);else if($>-1){for(oe=$;oe<Q;oe++)k[oe]=G;$=-1}q[Q]==="B"&&(k[Q]=0),V.hiLevel|=G}s&&function(Z,J,se){for(var ue=0;ue<se;ue++)if(Z[ue]==="S"){J[ue]=_;for(var he=ue-1;he>=0&&Z[he]==="WS";he--)J[he]=_}}(q,k,te)},W=function(P,k,V,Y,oe){if(!(oe.hiLevel<P)){if(P===1&&_===1&&!i)return k.reverse(),void(V&&V.reverse());for(var Q,G,z,$,te=k.length,de=0;de<te;){if(Y[de]>=P){for(z=de+1;z<te&&Y[z]>=P;)z++;for($=de,G=z-1;$<G;$++,G--)Q=k[$],k[$]=k[G],k[G]=Q,V&&(Q=V[$],V[$]=V[G],V[G]=Q);de=z}de++}}},H=function(P,k,V){var Y=P.split(""),oe={hiLevel:_};return V||(V=[]),I(Y,V,oe),function(Q,G,z){if(z.hiLevel!==0&&f)for(var $,te=0;te<Q.length;te++)G[te]===1&&($=C.indexOf(Q[te]))>=0&&(Q[te]=C[$+1])}(Y,V,oe),W(2,Y,k,V,oe),W(1,Y,k,V,oe),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(P,k,V){if(function(oe,Q){if(Q)for(var G=0;G<oe.length;G++)Q[G]=G;a===void 0&&(a=O(oe)),c===void 0&&(c=O(oe))}(P,k),o||!l||c)if(o&&l&&a^c)_=a?1:0,P=R(P,k,V);else if(!o&&l&&c)_=a?1:0,P=H(P,k,V),P=R(P,k);else if(!o||a||l||c){if(o&&!l&&a^c)P=R(P,k),a?(_=0,P=H(P,k,V)):(_=1,P=H(P,k,V),P=R(P,k));else if(o&&a&&!l&&c)_=1,P=H(P,k,V),P=R(P,k);else if(!o&&!l&&a^c){var Y=f;a?(_=1,P=H(P,k,V),_=0,f=!1,P=H(P,k,V),f=Y):(_=0,P=H(P,k,V),P=R(P,k),_=1,f=!1,P=H(P,k,V),f=Y,P=R(P,k))}}else _=0,P=H(P,k,V);else _=a?1:0,P=H(P,k,V);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,l=P.isOutputVisual,a=P.isInputRtl,c=P.isOutputRtl,f=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}($e),$e.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Wo(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new TM(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new vM(this.contents),this.head=new wM(this),this.name=new NM(this),this.cmap=new gN(this),this.toUnicode={},this.hhea=new _M(this),this.maxp=new CM(this),this.hmtx=new EM(this),this.post=new xM(this),this.os2=new bM(this),this.loca=new IM(this),this.glyf=new kM(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Ti,Wo=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),vM=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,c,f,h,m,p,b,S;for(S in p=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(p)/l),o=Math.floor(h/l),f=16*p-h,(i=new Wo).writeInt(this.scalarType),i.writeShort(p),i.writeShort(h),i.writeShort(o),i.writeShort(f),s=16*p,c=i.pos+s,a=null,b=[],n)for(m=n[S],i.writeString(S),i.writeInt(t(m)),i.writeInt(c),i.writeInt(m.length),b=b.concat(m),S==="head"&&(a=c),c+=m.length;c%4;)b.push(0),c++;return i.write(b),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=vN.call(n);n.length%4;)n.push(0);for(s=new Wo(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),yM={}.hasOwnProperty,ns=function(t,e){for(var n in e)yM.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Ti=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var wM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Ti),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Wo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),$_=function(){function t(e,n){var r,i,s,o,a,l,c,f,h,m,p,b,S,C,w,y,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,s=function(){var E,O;for(O=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)O.push(e.readUInt16());return O}(),e.pos+=2,S=function(){var E,O;for(O=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)O.push(e.readUInt16());return O}(),c=function(){var E,O;for(O=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)O.push(e.readUInt16());return O}(),f=function(){var E,O;for(O=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)O.push(e.readUInt16());return O}(),i=(this.length-e.pos+this.offset)/2,a=function(){var E,O;for(O=[],l=E=0;0<=i?E<i:E>i;l=0<=i?++E:--E)O.push(e.readUInt16());return O}(),l=w=0,_=s.length;w<_;l=++w)for(C=s[l],r=y=b=S[l];b<=C?y<=C:y>=C;r=b<=C?++y:--y)f[l]===0?o=r+c[l]:(o=a[f[l]/2+(r-b)-(m-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=h}return t.encode=function(e,n){var r,i,s,o,a,l,c,f,h,m,p,b,S,C,w,y,_,E,O,F,R,I,W,H,P,k,V,Y,oe,Q,G,z,$,te,de,A,U,q,Z,J,se,ue,he,Ne,we,Pe;switch(Y=new Wo,o=Object.keys(e).sort(function(Ie,Ve){return Ie-Ve}),n){case"macroman":for(S=0,C=function(){var Ie=[];for(b=0;b<256;++b)Ie.push(0);return Ie}(),y={0:0},s={},oe=0,$=o.length;oe<$;oe++)y[he=e[i=o[oe]]]==null&&(y[he]=++S),s[i]={old:e[i],new:y[e[i]]},C[i]=y[e[i]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(C),{charMap:s,subtable:Y.data,maxGlyphID:S+1};case"unicode":for(k=[],h=[],_=0,y={},r={},w=c=null,Q=0,te=o.length;Q<te;Q++)y[O=e[i=o[Q]]]==null&&(y[O]=++_),r[i]={old:O,new:y[O]},a=y[O]-i,w!=null&&a===c||(w&&h.push(w),k.push(i),c=a),w=i;for(w&&h.push(w),h.push(65535),k.push(65535),H=2*(W=k.length),I=2*Math.pow(Math.log(W)/Math.LN2,2),m=Math.log(I/2)/Math.LN2,R=2*W-I,l=[],F=[],p=[],b=G=0,de=k.length;G<de;b=++G){if(P=k[b],f=h[b],P===65535){l.push(0),F.push(0);break}if(P-(V=r[P].new)>=32768)for(l.push(0),F.push(2*(p.length+W-b)),i=z=P;P<=f?z<=f:z>=f;i=P<=f?++z:--z)p.push(r[i].new);else l.push(V-P),F.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*W+2*p.length),Y.writeUInt16(0),Y.writeUInt16(H),Y.writeUInt16(I),Y.writeUInt16(m),Y.writeUInt16(R),se=0,A=h.length;se<A;se++)i=h[se],Y.writeUInt16(i);for(Y.writeUInt16(0),ue=0,U=k.length;ue<U;ue++)i=k[ue],Y.writeUInt16(i);for(Ne=0,q=l.length;Ne<q;Ne++)a=l[Ne],Y.writeUInt16(a);for(we=0,Z=F.length;we<Z;we++)E=F[we],Y.writeUInt16(E);for(Pe=0,J=p.length;Pe<J;Pe++)S=p[Pe],Y.writeUInt16(S);return{charMap:r,subtable:Y.data,maxGlyphID:_+1}}},t}(),gN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Ti),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new $_(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=$_.encode(n,r),(s=new Wo).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),_M=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Ti),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),bM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Ti),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),xM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Ti),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(n.readUInt32());return c}).call(this)}},e}(),SM=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},NM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Ti),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,c,f,h,m,p;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=h=0,m=i.length;h<m;o=++h)s=i[o],n.pos=s.offset,f=n.readString(s.length),a=new SM(f,s),c[p=s.nameID]==null&&(c[p]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),CM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Ti),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),EM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Ti),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,h;for(h=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)h.push(n.readInt16());return h}(),this.widths=(function(){var f,h,m,p;for(p=[],f=0,h=(m=this.metrics).length;f<h;f++)o=m[f],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),vN=[].slice,kM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Ti),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,c,f,h,m;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Wo(r.read(s))).readShort(),f=l.readShort(),m=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[n]=a===-1?new PM(l,f,m,c,h):new AM(l,a,f,m,c,h),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),AM=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),PM=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Wo(vN.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),IM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Ti),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var f=new Array(4*i.length),h=0;h<i.length;++h)f[4*h+3]=255&i[h],f[4*h+2]=(65280&i[h])>>8,f[4*h+1]=(16711680&i[h])>>16,f[4*h]=(4278190080&i[h])>>24;return f},e}(),TM=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,c,f,h,m,p,b,S,C,w;for(i in r=gN.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},w=r.charMap)p[(l=w[i]).old]=l.new;for(b in m=r.maxGlyphID,o)b in p||(p[b]=m++);return f=function(y){var _,E;for(_ in E={},y)E[y[_]]=_;return E}(p),h=Object.keys(f).sort(function(y,_){return y-_}),S=function(){var y,_,E;for(E=[],y=0,_=h.length;y<_;y++)a=h[y],E.push(f[a]);return E}(),s=this.font.glyf.encode(o,S,p),c=this.font.loca.encode(s.offsets,S),C={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},t}();$e.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const LM=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:uM,AcroFormAppearance:Ue,AcroFormButton:xn,AcroFormCheckBox:$c,AcroFormChoiceField:Sa,AcroFormComboBox:Ca,AcroFormEditBox:Hc,AcroFormListBox:Na,AcroFormPasswordField:Vc,AcroFormPushButton:qc,AcroFormRadioButton:Ea,AcroFormTextField:Oo,GState:Ed,ShadingPattern:po,TilingPattern:ya,default:$e,jsPDF:$e},Symbol.toStringTag,{value:"Module"}));var RM={exports:{}};const OM=nC(LM);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return OM}catch{}}())})(typeof globalThis<"u"?globalThis:typeof c0<"u"?c0:typeof window<"u"?window:typeof self<"u"?self:c0,function(n){return function(){var r={172:function(a,l){var c=this&&this.__extends||function(){var m=function(p,b){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,C){S.__proto__=C}||function(S,C){for(var w in C)Object.prototype.hasOwnProperty.call(C,w)&&(S[w]=C[w])},m(p,b)};return function(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");m(p,b);function S(){this.constructor=p}p.prototype=b===null?Object.create(b):(S.prototype=b.prototype,new S)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var f=function(){function m(p,b,S){this.table=b,this.pageNumber=b.pageNumber,this.pageCount=this.pageNumber,this.settings=b.settings,this.cursor=S,this.doc=p.getDocument()}return m}();l.HookData=f;var h=function(m){c(p,m);function p(b,S,C,w,y,_){var E=m.call(this,b,S,_)||this;return E.cell=C,E.row=w,E.column=y,E.section=w.section,E}return p}(f);l.CellHookData=h},340:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(4),h=c(136),m=c(744),p=c(776),b=c(664),S=c(972);function C(w){w.API.autoTable=function(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];var E;y.length===1?E=y[0]:(console.error("Use of deprecated autoTable initiation"),E=y[2]||{},E.columns=y[0],E.body=y[1]);var O=(0,p.parseInput)(this,E),F=(0,S.createTable)(this,O);return(0,b.drawTable)(this,F),this},w.API.lastAutoTable=!1,w.API.previousAutoTable=!1,w.API.autoTable.previous=!1,w.API.autoTableText=function(y,_,E,O){(0,h.default)(y,_,E,O,this)},w.API.autoTableSetDefaults=function(y){return m.DocHandler.setDefaults(y,this),this},w.autoTableSetDefaults=function(y,_){m.DocHandler.setDefaults(y,_)},w.API.autoTableHtmlToJson=function(y,_){var E;if(_===void 0&&(_=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var O=new m.DocHandler(this),F=(0,f.parseHtml)(O,y,window,_,!1),R=F.head,I=F.body,W=((E=R[0])===null||E===void 0?void 0:E.map(function(H){return H.content}))||[];return{columns:W,rows:I,data:I}},w.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},w.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),w.API.autoTable.globalDefaults||(w.API.autoTable.globalDefaults={}),w.API.autoTable.globalDefaults.addPageContent=y,this},w.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=C},136:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function c(f,h,m,p,b){p=p||{};var S=1.15,C=b.internal.scaleFactor,w=b.internal.getFontSize()/C,y=b.getLineHeightFactor?b.getLineHeightFactor():S,_=w*y,E=/\r\n|\r|\n/g,O="",F=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(O=typeof f=="string"?f.split(E):f,F=O.length||1),m+=w*(2-S),p.valign==="middle"?m-=F/2*_:p.valign==="bottom"&&(m-=F*_),p.halign==="center"||p.halign==="right"){var R=w;if(p.halign==="center"&&(R*=.5),O&&F>=1){for(var I=0;I<O.length;I++)b.text(O[I],h-b.getStringUnitWidth(O[I])*R,m),m+=_;return b}h-=b.getStringUnitWidth(f)*R}return p.halign==="justify"?b.text(f,h,m,{maxWidth:p.maxWidth||100,align:"justify"}):b.text(f,h,m),b}l.default=c},420:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function c(b,S,C){C.applyStyles(S,!0);var w=Array.isArray(b)?b:[b],y=w.map(function(_){return C.getTextWidth(_)}).reduce(function(_,E){return Math.max(_,E)},0);return y}l.getStringWidth=c;function f(b,S,C,w){var y=S.settings.tableLineWidth,_=S.settings.tableLineColor;b.applyStyles({lineWidth:y,lineColor:_});var E=h(y,!1);E&&b.rect(C.x,C.y,S.getWidth(b.pageSize().width),w.y-C.y,E)}l.addTableBorder=f;function h(b,S){var C=b>0,w=S||S===0;return C&&w?"DF":C?"S":w?"F":null}l.getFillStyle=h;function m(b,S){var C,w,y,_;if(b=b||S,Array.isArray(b)){if(b.length>=4)return{top:b[0],right:b[1],bottom:b[2],left:b[3]};if(b.length===3)return{top:b[0],right:b[1],bottom:b[2],left:b[1]};if(b.length===2)return{top:b[0],right:b[1],bottom:b[0],left:b[1]};b.length===1?b=b[0]:b=S}return typeof b=="object"?(typeof b.vertical=="number"&&(b.top=b.vertical,b.bottom=b.vertical),typeof b.horizontal=="number"&&(b.right=b.horizontal,b.left=b.horizontal),{left:(C=b.left)!==null&&C!==void 0?C:S,top:(w=b.top)!==null&&w!==void 0?w:S,right:(y=b.right)!==null&&y!==void 0?y:S,bottom:(_=b.bottom)!==null&&_!==void 0?_:S}):(typeof b!="number"&&(b=S),{top:b,right:b,bottom:b,left:b})}l.parseSpacing=m;function p(b,S){var C=m(S.settings.margin,0);return b.pageSize().width-(C.left+C.right)}l.getPageAvailableWidth=p},796:function(a,l){var c=this&&this.__extends||function(){var p=function(b,S){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,w){C.__proto__=w}||function(C,w){for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(C[y]=w[y])},p(b,S)};return function(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");p(b,S);function C(){this.constructor=b}b.prototype=S===null?Object.create(S):(C.prototype=S.prototype,new C)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var f=function(p){c(b,p);function b(S){var C=p.call(this)||this;return C._element=S,C}return b}(Array);l.HtmlRowInput=f;function h(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=h;function m(p){var b={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return b[p]}l.getTheme=m},903:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var f=c(420);function h(C,w,y,_,E){var O={},F=1.3333333333333333,R=p(w,function($){return E.getComputedStyle($).backgroundColor});R!=null&&(O.fillColor=R);var I=p(w,function($){return E.getComputedStyle($).color});I!=null&&(O.textColor=I);var W=S(_,y);W&&(O.cellPadding=W);var H="borderTopColor",P=F*y,k=_.borderTopWidth;if(_.borderBottomWidth===k&&_.borderRightWidth===k&&_.borderLeftWidth===k){var V=(parseFloat(k)||0)/P;V&&(O.lineWidth=V)}else O.lineWidth={top:(parseFloat(_.borderTopWidth)||0)/P,right:(parseFloat(_.borderRightWidth)||0)/P,bottom:(parseFloat(_.borderBottomWidth)||0)/P,left:(parseFloat(_.borderLeftWidth)||0)/P},O.lineWidth.top||(O.lineWidth.right?H="borderRightColor":O.lineWidth.bottom?H="borderBottomColor":O.lineWidth.left&&(H="borderLeftColor"));var Y=p(w,function($){return E.getComputedStyle($)[H]});Y!=null&&(O.lineColor=Y);var oe=["left","right","center","justify"];oe.indexOf(_.textAlign)!==-1&&(O.halign=_.textAlign),oe=["middle","bottom","top"],oe.indexOf(_.verticalAlign)!==-1&&(O.valign=_.verticalAlign);var Q=parseInt(_.fontSize||"");isNaN(Q)||(O.fontSize=Q/F);var G=m(_);G&&(O.fontStyle=G);var z=(_.fontFamily||"").toLowerCase();return C.indexOf(z)!==-1&&(O.font=z),O}l.parseCss=h;function m(C){var w="";return(C.fontWeight==="bold"||C.fontWeight==="bolder"||parseInt(C.fontWeight)>=700)&&(w="bold"),(C.fontStyle==="italic"||C.fontStyle==="oblique")&&(w+="italic"),w}function p(C,w){var y=b(C,w);if(!y)return null;var _=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!_||!Array.isArray(_))return null;var E=[parseInt(_[1]),parseInt(_[2]),parseInt(_[3])],O=parseInt(_[4]);return O===0||isNaN(E[0])||isNaN(E[1])||isNaN(E[2])?null:E}function b(C,w){var y=w(C);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?C.parentElement==null?null:b(C.parentElement,w):y}function S(C,w){var y=[C.paddingTop,C.paddingRight,C.paddingBottom,C.paddingLeft],_=96/(72/w),E=(parseInt(C.lineHeight)-parseInt(C.fontSize))/w/2,O=y.map(function(R){return parseInt(R||"0")/_}),F=(0,f.parseSpacing)(O,0);return E>F.top&&(F.top=E),E>F.bottom&&(F.bottom=E),F}},744:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var c={},f=function(){function h(m){this.jsPDFDocument=m,this.userStyles={textColor:m.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:m.internal.getFontSize(),fontStyle:m.internal.getFont().fontStyle,font:m.internal.getFont().fontName,lineWidth:m.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:m.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return h.setDefaults=function(m,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=m:c=m},h.unifyColor=function(m){return Array.isArray(m)?m:typeof m=="number"?[m,m,m]:typeof m=="string"?[m]:null},h.prototype.applyStyles=function(m,p){var b,S,C;p===void 0&&(p=!1),m.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(m.fontStyle);var w=this.jsPDFDocument.internal.getFont(),y=w.fontStyle,_=w.fontName;if(m.font&&(_=m.font),m.fontStyle){y=m.fontStyle;var E=this.getFontList()[_];E&&E.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(E[0]),y=E[0])}if(this.jsPDFDocument.setFont(_,y),m.fontSize&&this.jsPDFDocument.setFontSize(m.fontSize),!p){var O=h.unifyColor(m.fillColor);O&&(b=this.jsPDFDocument).setFillColor.apply(b,O),O=h.unifyColor(m.textColor),O&&(S=this.jsPDFDocument).setTextColor.apply(S,O),O=h.unifyColor(m.lineColor),O&&(C=this.jsPDFDocument).setDrawColor.apply(C,O),typeof m.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(m.lineWidth)}},h.prototype.splitTextToSize=function(m,p,b){return this.jsPDFDocument.splitTextToSize(m,p,b)},h.prototype.rect=function(m,p,b,S,C){return this.jsPDFDocument.rect(m,p,b,S,C)},h.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},h.prototype.getTextWidth=function(m){return this.jsPDFDocument.getTextWidth(m)},h.prototype.getDocument=function(){return this.jsPDFDocument},h.prototype.setPage=function(m){this.jsPDFDocument.setPage(m)},h.prototype.addPage=function(){return this.jsPDFDocument.addPage()},h.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},h.prototype.getGlobalOptions=function(){return c||{}},h.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},h.prototype.pageSize=function(){var m=this.jsPDFDocument.internal.pageSize;return m.width==null&&(m={width:m.getWidth(),height:m.getHeight()}),m},h.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},h.prototype.getLineHeightFactor=function(){var m=this.jsPDFDocument;return m.getLineHeightFactor?m.getLineHeightFactor():1.15},h.prototype.getLineHeight=function(m){return m/this.scaleFactor()*this.getLineHeightFactor()},h.prototype.pageNumber=function(){var m=this.jsPDFDocument.internal.getCurrentPageInfo();return m?m.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},h}();l.DocHandler=f},4:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var f=c(903),h=c(796);function m(S,C,w,y,_){var E,O;y===void 0&&(y=!1),_===void 0&&(_=!1);var F;typeof C=="string"?F=w.document.querySelector(C):F=C;var R=Object.keys(S.getFontList()),I=S.scaleFactor(),W=[],H=[],P=[];if(!F)return console.error("Html table could not be found with input: ",C),{head:W,body:H,foot:P};for(var k=0;k<F.rows.length;k++){var V=F.rows[k],Y=(O=(E=V==null?void 0:V.parentElement)===null||E===void 0?void 0:E.tagName)===null||O===void 0?void 0:O.toLowerCase(),oe=p(R,I,w,V,y,_);oe&&(Y==="thead"?W.push(oe):Y==="tfoot"?P.push(oe):H.push(oe))}return{head:W,body:H,foot:P}}l.parseHtml=m;function p(S,C,w,y,_,E){for(var O=new h.HtmlRowInput(y),F=0;F<y.cells.length;F++){var R=y.cells[F],I=w.getComputedStyle(R);if(_||I.display!=="none"){var W=void 0;E&&(W=(0,f.parseCss)(S,R,C,I,w)),O.push({rowSpan:R.rowSpan,colSpan:R.colSpan,styles:W,_element:R,content:b(R)})}}var H=w.getComputedStyle(y);if(O.length>0&&(_||H.display!=="none"))return O}function b(S){var C=S.cloneNode(!0);return C.innerHTML=C.innerHTML.replace(/\n/g,"").replace(/ +/g," "),C.innerHTML=C.innerHTML.split(/<br.*?>/).map(function(w){return w.trim()}).join(`
`),C.innerText||C.textContent||""}},776:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var f=c(4),h=c(356),m=c(420),p=c(744),b=c(792);function S(F,R){var I=new p.DocHandler(F),W=I.getDocumentOptions(),H=I.getGlobalOptions();(0,b.default)(I,H,W,R);var P=(0,h.assign)({},H,W,R),k;typeof window<"u"&&(k=window);var V=C(H,W,R),Y=w(H,W,R),oe=y(I,P),Q=E(I,P,k);return{id:R.tableId,content:Q,hooks:Y,styles:V,settings:oe}}l.parseInput=S;function C(F,R,I){for(var W={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},H=function(Y){if(Y==="columnStyles"){var oe=F[Y],Q=R[Y],G=I[Y];W.columnStyles=(0,h.assign)({},oe,Q,G)}else{var z=[F,R,I],$=z.map(function(te){return te[Y]||{}});W[Y]=(0,h.assign)({},$[0],$[1],$[2])}},P=0,k=Object.keys(W);P<k.length;P++){var V=k[P];H(V)}return W}function w(F,R,I){for(var W=[F,R,I],H={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},P=0,k=W;P<k.length;P++){var V=k[P];V.didParseCell&&H.didParseCell.push(V.didParseCell),V.willDrawCell&&H.willDrawCell.push(V.willDrawCell),V.didDrawCell&&H.didDrawCell.push(V.didDrawCell),V.willDrawPage&&H.willDrawPage.push(V.willDrawPage),V.didDrawPage&&H.didDrawPage.push(V.didDrawPage)}return H}function y(F,R){var I,W,H,P,k,V,Y,oe,Q,G,z,$,te=(0,m.parseSpacing)(R.margin,40/F.scaleFactor()),de=(I=_(F,R.startY))!==null&&I!==void 0?I:te.top,A;R.showFoot===!0?A="everyPage":R.showFoot===!1?A="never":A=(W=R.showFoot)!==null&&W!==void 0?W:"everyPage";var U;R.showHead===!0?U="everyPage":R.showHead===!1?U="never":U=(H=R.showHead)!==null&&H!==void 0?H:"everyPage";var q=(P=R.useCss)!==null&&P!==void 0?P:!1,Z=R.theme||(q?"plain":"striped"),J=!!R.horizontalPageBreak,se=(k=R.horizontalPageBreakRepeat)!==null&&k!==void 0?k:null;return{includeHiddenHtml:(V=R.includeHiddenHtml)!==null&&V!==void 0?V:!1,useCss:q,theme:Z,startY:de,margin:te,pageBreak:(Y=R.pageBreak)!==null&&Y!==void 0?Y:"auto",rowPageBreak:(oe=R.rowPageBreak)!==null&&oe!==void 0?oe:"auto",tableWidth:(Q=R.tableWidth)!==null&&Q!==void 0?Q:"auto",showHead:U,showFoot:A,tableLineWidth:(G=R.tableLineWidth)!==null&&G!==void 0?G:0,tableLineColor:(z=R.tableLineColor)!==null&&z!==void 0?z:200,horizontalPageBreak:J,horizontalPageBreakRepeat:se,horizontalPageBreakBehaviour:($=R.horizontalPageBreakBehaviour)!==null&&$!==void 0?$:"afterAllRows"}}function _(F,R){var I=F.getLastAutoTable(),W=F.scaleFactor(),H=F.pageNumber(),P=!1;if(I&&I.startPageNumber){var k=I.startPageNumber+I.pageNumber-1;P=k===H}return typeof R=="number"?R:(R==null||R===!1)&&P&&(I==null?void 0:I.finalY)!=null?I.finalY+20/W:null}function E(F,R,I){var W=R.head||[],H=R.body||[],P=R.foot||[];if(R.html){var k=R.includeHiddenHtml;if(I){var V=(0,f.parseHtml)(F,R.html,I,k,R.useCss)||{};W=V.head||W,H=V.body||W,P=V.foot||W}else console.error("Cannot parse html in non browser environment")}var Y=R.columns||O(W,H,P);return{columns:Y,head:W,body:H,foot:P}}function O(F,R,I){var W=F[0]||R[0]||I[0]||[],H=[];return Object.keys(W).filter(function(P){return P!=="_element"}).forEach(function(P){var k=1,V;Array.isArray(W)?V=W[parseInt(P)]:V=W[P],typeof V=="object"&&!Array.isArray(V)&&(k=(V==null?void 0:V.colSpan)||1);for(var Y=0;Y<k;Y++){var oe=void 0;Array.isArray(W)?oe=H.length:oe=P+(Y>0?"_".concat(Y):"");var Q={dataKey:oe};H.push(Q)}}),H}},792:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function c(h,m,p,b){for(var S=function(_){_&&typeof _!="object"&&console.error("The options parameter should be of type object, is: "+typeof _),typeof _.extendWidth<"u"&&(_.tableWidth=_.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof _.margins<"u"&&(typeof _.margin>"u"&&(_.margin=_.margins),console.error("Use of deprecated option: margins, use margin instead.")),_.startY&&typeof _.startY!="number"&&(console.error("Invalid value for startY option",_.startY),delete _.startY),!_.didDrawPage&&(_.afterPageContent||_.beforePageContent||_.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),_.didDrawPage=function(P){h.applyStyles(h.userStyles),_.beforePageContent&&_.beforePageContent(P),h.applyStyles(h.userStyles),_.afterPageContent&&_.afterPageContent(P),h.applyStyles(h.userStyles),_.afterPageAdd&&P.pageNumber>1&&P.afterPageAdd(P),h.applyStyles(h.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(P){_[P]&&console.error('The "'.concat(P,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(P){var k=P[0],V=P[1];_[V]&&(console.error("Use of deprecated option ".concat(V,". Use ").concat(k," instead")),_[k]=_[V])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(P){var k=typeof P=="string"?P:P[0],V=typeof P=="string"?P:P[1];typeof _[k]<"u"&&(typeof _.styles[V]>"u"&&(_.styles[V]=_[k]),console.error("Use of deprecated option: "+k+", use the style "+V+" instead."))});for(var E=0,O=["styles","bodyStyles","headStyles","footStyles"];E<O.length;E++){var F=O[E];f(_[F]||{})}for(var R=_.columnStyles||{},I=0,W=Object.keys(R);I<W.length;I++){var H=W[I];f(R[H]||{})}},C=0,w=[m,p,b];C<w.length;C++){var y=w[C];S(y)}}l.default=c;function f(h){h.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),h.minCellHeight||(h.minCellHeight=h.rowHeight)):h.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),h.cellWidth||(h.cellWidth=h.columnWidth))}},260:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var f=c(796),h=c(172),m=c(420),p=function(){function w(y,_){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=_.columns,this.head=_.head,this.body=_.body,this.foot=_.foot}return w.prototype.getHeadHeight=function(y){return this.head.reduce(function(_,E){return _+E.getMaxCellHeight(y)},0)},w.prototype.getFootHeight=function(y){return this.foot.reduce(function(_,E){return _+E.getMaxCellHeight(y)},0)},w.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},w.prototype.callCellHooks=function(y,_,E,O,F,R){for(var I=0,W=_;I<W.length;I++){var H=W[I],P=new h.CellHookData(y,this,E,O,F,R),k=H(P)===!1;if(E.text=Array.isArray(E.text)?E.text:[E.text],k)return!1}return!0},w.prototype.callEndPageHooks=function(y,_){y.applyStyles(y.userStyles);for(var E=0,O=this.hooks.didDrawPage;E<O.length;E++){var F=O[E];F(new h.HookData(y,this,_))}},w.prototype.callWillDrawPageHooks=function(y,_){for(var E=0,O=this.hooks.willDrawPage;E<O.length;E++){var F=O[E];F(new h.HookData(y,this,_))}},w.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var _=this.columns.reduce(function(O,F){return O+F.wrappedWidth},0);return _}else{var E=this.settings.margin;return y-E.left-E.right}},w}();l.Table=p;var b=function(){function w(y,_,E,O,F){F===void 0&&(F=!1),this.height=0,this.raw=y,y instanceof f.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=_,this.section=E,this.cells=O,this.spansMultiplePages=F}return w.prototype.getMaxCellHeight=function(y){var _=this;return y.reduce(function(E,O){var F;return Math.max(E,((F=_.cells[O.index])===null||F===void 0?void 0:F.height)||0)},0)},w.prototype.hasRowSpan=function(y){var _=this;return y.filter(function(E){var O=_.cells[E.index];return O?O.rowSpan>1:!1}).length>0},w.prototype.canEntireRowFit=function(y,_){return this.getMaxCellHeight(_)<=y},w.prototype.getMinimumRowHeight=function(y,_){var E=this;return y.reduce(function(O,F){var R=E.cells[F.index];if(!R)return 0;var I=_.getLineHeight(R.styles.fontSize),W=R.padding("vertical"),H=W+I;return H>O?H:O},0)},w}();l.Row=b;var S=function(){function w(y,_,E){var O,F;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=_,this.section=E,this.raw=y;var R=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,R=(F=(O=y.content)!==null&&O!==void 0?O:y.title)!==null&&F!==void 0?F:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var I=R!=null?""+R:"",W=/\r\n|\r|\n/g;this.text=I.split(W)}return w.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var _=this.height-this.padding("vertical");y=this.y+_/2+this.padding("top")}var E;if(this.styles.halign==="right")E=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var O=this.width-this.padding("horizontal");E=this.x+O/2+this.padding("left")}else E=this.x+this.padding("left");return{x:E,y}},w.prototype.getContentHeight=function(y,_){_===void 0&&(_=1.15);var E=Array.isArray(this.text)?this.text.length:1,O=this.styles.fontSize/y*_,F=E*O+this.padding("vertical");return Math.max(F,this.styles.minCellHeight)},w.prototype.padding=function(y){var _=(0,m.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?_.top+_.bottom:y==="horizontal"?_.left+_.right:_[y]},w}();l.Cell=S;var C=function(){function w(y,_,E){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=_,this.index=E}return w.prototype.getMaxCustomCellWidth=function(y){for(var _=0,E=0,O=y.allRows();E<O.length;E++){var F=O[E],R=F.cells[this.index];R&&typeof R.styles.cellWidth=="number"&&(_=Math.max(_,R.styles.cellWidth))}return _},w}();l.Column=C},356:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function c(f,h,m,p,b){if(f==null)throw new TypeError("Cannot convert undefined or null to object");for(var S=Object(f),C=1;C<arguments.length;C++){var w=arguments[C];if(w!=null)for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(S[y]=w[y])}return S}l.assign=c},972:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var f=c(744),h=c(260),m=c(324),p=c(796),b=c(356);function S(F,R){var I=new f.DocHandler(F),W=C(R,I.scaleFactor()),H=new h.Table(R,W);return(0,m.calculateWidths)(I,H),I.applyStyles(I.userStyles),H}l.createTable=S;function C(F,R){var I=F.content,W=E(I.columns);if(I.head.length===0){var H=y(W,"head");H&&I.head.push(H)}if(I.foot.length===0){var H=y(W,"foot");H&&I.foot.push(H)}var P=F.settings.theme,k=F.styles;return{columns:W,head:w("head",I.head,W,k,P,R),body:w("body",I.body,W,k,P,R),foot:w("foot",I.foot,W,k,P,R)}}function w(F,R,I,W,H,P){var k={},V=R.map(function(Y,oe){for(var Q=0,G={},z=0,$=0,te=0,de=I;te<de.length;te++){var A=de[te];if(k[A.index]==null||k[A.index].left===0)if($===0){var U=void 0;Array.isArray(Y)?U=Y[A.index-z-Q]:U=Y[A.dataKey];var q={};typeof U=="object"&&!Array.isArray(U)&&(q=(U==null?void 0:U.styles)||{});var Z=O(F,A,oe,H,W,P,q),J=new h.Cell(U,Z,F);G[A.dataKey]=J,G[A.index]=J,$=J.colSpan-1,k[A.index]={left:J.rowSpan-1,times:$}}else $--,z++;else k[A.index].left--,$=k[A.index].times,Q++}return new h.Row(Y,oe,F,G)});return V}function y(F,R){var I={};return F.forEach(function(W){if(W.raw!=null){var H=_(R,W.raw);H!=null&&(I[W.dataKey]=H)}}),Object.keys(I).length>0?I:null}function _(F,R){if(F==="head"){if(typeof R=="object")return R.header||R.title||null;if(typeof R=="string"||typeof R=="number")return R}else if(F==="foot"&&typeof R=="object")return R.footer;return null}function E(F){return F.map(function(R,I){var W,H,P;return typeof R=="object"?P=(H=(W=R.dataKey)!==null&&W!==void 0?W:R.key)!==null&&H!==void 0?H:I:P=I,new h.Column(P,R,I)})}function O(F,R,I,W,H,P,k){var V=(0,p.getTheme)(W),Y;F==="head"?Y=H.headStyles:F==="body"?Y=H.bodyStyles:F==="foot"&&(Y=H.footStyles);var oe=(0,b.assign)({},V.table,V[F],H.styles,Y),Q=H.columnStyles[R.dataKey]||H.columnStyles[R.index]||{},G=F==="body"?Q:{},z=F==="body"&&I%2===0?(0,b.assign)({},V.alternateRow,H.alternateRowStyles):{},$=(0,p.defaultStyles)(P),te=(0,b.assign)({},$,oe,z,G);return(0,b.assign)(te,k)}},664:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var f=c(420),h=c(260),m=c(744),p=c(356),b=c(136),S=c(224);function C(Q,G){var z=G.settings,$=z.startY,te=z.margin,de={x:te.left,y:$},A=G.getHeadHeight(G.columns)+G.getFootHeight(G.columns),U=$+te.bottom+A;if(z.pageBreak==="avoid"){var q=G.body,Z=q.reduce(function(ue,he){return ue+he.height},0);U+=Z}var J=new m.DocHandler(Q);(z.pageBreak==="always"||z.startY!=null&&U>J.pageSize().height)&&(oe(J),de.y=te.top),G.callWillDrawPageHooks(J,de);var se=(0,p.assign)({},de);G.startPageNumber=J.pageNumber(),z.horizontalPageBreak?w(J,G,se,de):(J.applyStyles(J.userStyles),(z.showHead==="firstPage"||z.showHead==="everyPage")&&G.head.forEach(function(ue){return H(J,G,ue,de,G.columns)}),J.applyStyles(J.userStyles),G.body.forEach(function(ue,he){var Ne=he===G.body.length-1;W(J,G,ue,Ne,se,de,G.columns)}),J.applyStyles(J.userStyles),(z.showFoot==="lastPage"||z.showFoot==="everyPage")&&G.foot.forEach(function(ue){return H(J,G,ue,de,G.columns)})),(0,f.addTableBorder)(J,G,se,de),G.callEndPageHooks(J,de),G.finalY=de.y,Q.lastAutoTable=G,Q.previousAutoTable=G,Q.autoTable&&(Q.autoTable.previous=G),J.applyStyles(J.userStyles)}l.drawTable=C;function w(Q,G,z,$){var te=(0,S.calculateAllColumnsCanFitInPage)(Q,G),de=G.settings;if(de.horizontalPageBreakBehaviour==="afterAllRows")te.forEach(function(Z,J){Q.applyStyles(Q.userStyles),J>0?Y(Q,G,z,$,Z.columns,!0):y(Q,G,$,Z.columns),_(Q,G,z,$,Z.columns),O(Q,G,$,Z.columns)});else for(var A=-1,U=te[0],q=function(){var Z=A;if(U){Q.applyStyles(Q.userStyles);var J=U.columns;A>=0?Y(Q,G,z,$,J,!0):y(Q,G,$,J),Z=E(Q,G,A+1,$,J),O(Q,G,$,J)}var se=Z-A;te.slice(1).forEach(function(ue){Q.applyStyles(Q.userStyles),Y(Q,G,z,$,ue.columns,!0),E(Q,G,A+1,$,ue.columns,se),O(Q,G,$,ue.columns)}),A=Z};A<G.body.length-1;)q()}function y(Q,G,z,$){var te=G.settings;Q.applyStyles(Q.userStyles),(te.showHead==="firstPage"||te.showHead==="everyPage")&&G.head.forEach(function(de){return H(Q,G,de,z,$)})}function _(Q,G,z,$,te){Q.applyStyles(Q.userStyles),G.body.forEach(function(de,A){var U=A===G.body.length-1;W(Q,G,de,U,z,$,te)})}function E(Q,G,z,$,te,de){Q.applyStyles(Q.userStyles),de=de??G.body.length;var A=Math.min(z+de,G.body.length),U=-1;return G.body.slice(z,A).forEach(function(q,Z){var J=z+Z===G.body.length-1,se=V(Q,G,J,$);q.canEntireRowFit(se,te)&&(H(Q,G,q,$,te),U=z+Z)}),U}function O(Q,G,z,$){var te=G.settings;Q.applyStyles(Q.userStyles),(te.showFoot==="lastPage"||te.showFoot==="everyPage")&&G.foot.forEach(function(de){return H(Q,G,de,z,$)})}function F(Q,G,z){var $=z.getLineHeight(Q.styles.fontSize),te=Q.padding("vertical"),de=Math.floor((G-te)/$);return Math.max(0,de)}function R(Q,G,z,$){var te={};Q.spansMultiplePages=!0,Q.height=0;for(var de=0,A=0,U=z.columns;A<U.length;A++){var q=U[A],Z=Q.cells[q.index];if(Z){Array.isArray(Z.text)||(Z.text=[Z.text]);var J=new h.Cell(Z.raw,Z.styles,Z.section);J=(0,p.assign)(J,Z),J.text=[];var se=F(Z,G,$);Z.text.length>se&&(J.text=Z.text.splice(se,Z.text.length));var ue=$.scaleFactor(),he=$.getLineHeightFactor();Z.contentHeight=Z.getContentHeight(ue,he),Z.contentHeight>=G&&(Z.contentHeight=G,J.styles.minCellHeight-=G),Z.contentHeight>Q.height&&(Q.height=Z.contentHeight),J.contentHeight=J.getContentHeight(ue,he),J.contentHeight>de&&(de=J.contentHeight),te[q.index]=J}}var Ne=new h.Row(Q.raw,-1,Q.section,te,!0);Ne.height=de;for(var we=0,Pe=z.columns;we<Pe.length;we++){var q=Pe[we],J=Ne.cells[q.index];J&&(J.height=Ne.height);var Z=Q.cells[q.index];Z&&(Z.height=Q.height)}return Ne}function I(Q,G,z,$){var te=Q.pageSize().height,de=$.settings.margin,A=de.top+de.bottom,U=te-A;G.section==="body"&&(U-=$.getHeadHeight($.columns)+$.getFootHeight($.columns));var q=G.getMinimumRowHeight($.columns,Q),Z=q<z;if(q>U)return console.error("Will not be able to print row ".concat(G.index," correctly since it's minimum height is larger than page height")),!0;if(!Z)return!1;var J=G.hasRowSpan($.columns),se=G.getMaxCellHeight($.columns)>U;return se?(J&&console.error("The content of row ".concat(G.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(J||$.settings.rowPageBreak==="avoid")}function W(Q,G,z,$,te,de,A){var U=V(Q,G,$,de);if(z.canEntireRowFit(U,A))H(Q,G,z,de,A);else if(I(Q,z,U,G)){var q=R(z,U,G,Q);H(Q,G,z,de,A),Y(Q,G,te,de,A),W(Q,G,q,$,te,de,A)}else Y(Q,G,te,de,A),W(Q,G,z,$,te,de,A)}function H(Q,G,z,$,te){$.x=G.settings.margin.left;for(var de=0,A=te;de<A.length;de++){var U=A[de],q=z.cells[U.index];if(!q){$.x+=U.width;continue}Q.applyStyles(q.styles),q.x=$.x,q.y=$.y;var Z=G.callCellHooks(Q,G.hooks.willDrawCell,q,z,U,$);if(Z===!1){$.x+=U.width;continue}P(Q,q,$);var J=q.getTextPos();(0,b.default)(q.text,J.x,J.y,{halign:q.styles.halign,valign:q.styles.valign,maxWidth:Math.ceil(q.width-q.padding("left")-q.padding("right"))},Q.getDocument()),G.callCellHooks(Q,G.hooks.didDrawCell,q,z,U,$),$.x+=U.width}$.y+=z.height}function P(Q,G,z){var $=G.styles;if(Q.getDocument().setFillColor(Q.getDocument().getFillColor()),typeof $.lineWidth=="number"){var te=(0,f.getFillStyle)($.lineWidth,$.fillColor);te&&Q.rect(G.x,z.y,G.width,G.height,te)}else typeof $.lineWidth=="object"&&($.fillColor&&Q.rect(G.x,z.y,G.width,G.height,"F"),k(Q,G,z,$.lineWidth))}function k(Q,G,z,$){var te,de,A,U;$.top&&(te=z.x,de=z.y,A=z.x+G.width,U=z.y,$.right&&(A+=.5*$.right),$.left&&(te-=.5*$.left),q($.top,te,de,A,U)),$.bottom&&(te=z.x,de=z.y+G.height,A=z.x+G.width,U=z.y+G.height,$.right&&(A+=.5*$.right),$.left&&(te-=.5*$.left),q($.bottom,te,de,A,U)),$.left&&(te=z.x,de=z.y,A=z.x,U=z.y+G.height,$.top&&(de-=.5*$.top),$.bottom&&(U+=.5*$.bottom),q($.left,te,de,A,U)),$.right&&(te=z.x+G.width,de=z.y,A=z.x+G.width,U=z.y+G.height,$.top&&(de-=.5*$.top),$.bottom&&(U+=.5*$.bottom),q($.right,te,de,A,U));function q(Z,J,se,ue,he){Q.getDocument().setLineWidth(Z),Q.getDocument().line(J,se,ue,he,"S")}}function V(Q,G,z,$){var te=G.settings.margin.bottom,de=G.settings.showFoot;return(de==="everyPage"||de==="lastPage"&&z)&&(te+=G.getFootHeight(G.columns)),Q.pageSize().height-$.y-te}function Y(Q,G,z,$,te,de){te===void 0&&(te=[]),de===void 0&&(de=!1),Q.applyStyles(Q.userStyles),G.settings.showFoot==="everyPage"&&!de&&G.foot.forEach(function(U){return H(Q,G,U,$,te)}),G.callEndPageHooks(Q,$);var A=G.settings.margin;(0,f.addTableBorder)(Q,G,z,$),oe(Q),G.pageNumber++,G.pageCount++,$.x=A.left,$.y=A.top,z.y=A.top,G.callWillDrawPageHooks(Q,$),G.settings.showHead==="everyPage"&&(G.head.forEach(function(U){return H(Q,G,U,$,te)}),Q.applyStyles(Q.userStyles))}l.addPage=Y;function oe(Q){var G=Q.pageNumber();Q.setPage(G+1);var z=Q.pageNumber();return z===G?(Q.addPage(),!0):!1}},224:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var f=c(420);function h(p,b,S){var C;S===void 0&&(S={});var w=(0,f.getPageAvailableWidth)(p,b),y=new Map,_=[],E=[],O=[];b.settings.horizontalPageBreakRepeat,Array.isArray(b.settings.horizontalPageBreakRepeat)?O=b.settings.horizontalPageBreakRepeat:(typeof b.settings.horizontalPageBreakRepeat=="string"||typeof b.settings.horizontalPageBreakRepeat=="number")&&(O=[b.settings.horizontalPageBreakRepeat]),O.forEach(function(W){var H=b.columns.find(function(P){return P.dataKey===W||P.index===W});H&&!y.has(H.index)&&(y.set(H.index,!0),_.push(H.index),E.push(b.columns[H.index]),w-=H.wrappedWidth)});for(var F=!0,R=(C=S==null?void 0:S.start)!==null&&C!==void 0?C:0;R<b.columns.length;){if(y.has(R)){R++;continue}var I=b.columns[R].wrappedWidth;if(F||w>=I)F=!1,_.push(R),E.push(b.columns[R]),w-=I;else break;R++}return{colIndexes:_,columns:E,lastIndex:R-1}}function m(p,b){for(var S=[],C=0;C<b.columns.length;C++){var w=h(p,b,{start:C});w.columns.length&&(S.push(w),C=w.lastIndex)}return S}l.calculateAllColumnsCanFitInPage=m},324:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var f=c(420);function h(_,E){m(_,E);var O=[],F=0;E.columns.forEach(function(I){var W=I.getMaxCustomCellWidth(E);W?I.width=W:(I.width=I.wrappedWidth,O.push(I)),F+=I.width});var R=E.getWidth(_.pageSize().width)-F;R&&(R=p(O,R,function(I){return Math.max(I.minReadableWidth,I.minWidth)})),R&&(R=p(O,R,function(I){return I.minWidth})),R=Math.abs(R),!E.settings.horizontalPageBreak&&R>.1/_.scaleFactor()&&(R=R<1?R:Math.round(R),console.warn("Of the table content, ".concat(R," units width could not fit page"))),S(E),C(E,_),b(E)}l.calculateWidths=h;function m(_,E){var O=_.scaleFactor(),F=E.settings.horizontalPageBreak,R=(0,f.getPageAvailableWidth)(_,E);E.allRows().forEach(function(I){for(var W=0,H=E.columns;W<H.length;W++){var P=H[W],k=I.cells[P.index];if(k){var V=E.hooks.didParseCell;E.callCellHooks(_,V,k,I,P,null);var Y=k.padding("horizontal");k.contentWidth=(0,f.getStringWidth)(k.text,k.styles,_)+Y;var oe=(0,f.getStringWidth)(k.text.join(" ").split(/[^\S\u00A0]+/),k.styles,_);if(k.minReadableWidth=oe+k.padding("horizontal"),typeof k.styles.cellWidth=="number")k.minWidth=k.styles.cellWidth,k.wrappedWidth=k.styles.cellWidth;else if(k.styles.cellWidth==="wrap"||F===!0)k.contentWidth>R?(k.minWidth=R,k.wrappedWidth=R):(k.minWidth=k.contentWidth,k.wrappedWidth=k.contentWidth);else{var Q=10/O;k.minWidth=k.styles.minCellWidth||Q,k.wrappedWidth=k.contentWidth,k.minWidth>k.wrappedWidth&&(k.wrappedWidth=k.minWidth)}}}}),E.allRows().forEach(function(I){for(var W=0,H=E.columns;W<H.length;W++){var P=H[W],k=I.cells[P.index];if(k&&k.colSpan===1)P.wrappedWidth=Math.max(P.wrappedWidth,k.wrappedWidth),P.minWidth=Math.max(P.minWidth,k.minWidth),P.minReadableWidth=Math.max(P.minReadableWidth,k.minReadableWidth);else{var V=E.styles.columnStyles[P.dataKey]||E.styles.columnStyles[P.index]||{},Y=V.cellWidth||V.minCellWidth;Y&&typeof Y=="number"&&(P.minWidth=Y,P.wrappedWidth=Y)}k&&(k.colSpan>1&&!P.minWidth&&(P.minWidth=k.minWidth),k.colSpan>1&&!P.wrappedWidth&&(P.wrappedWidth=k.minWidth))}})}function p(_,E,O){for(var F=E,R=_.reduce(function(Q,G){return Q+G.wrappedWidth},0),I=0;I<_.length;I++){var W=_[I],H=W.wrappedWidth/R,P=F*H,k=W.width+P,V=O(W),Y=k<V?V:k;E-=Y-W.width,W.width=Y}if(E=Math.round(E*1e10)/1e10,E){var oe=_.filter(function(Q){return E<0?Q.width>O(Q):!0});oe.length&&(E=p(oe,E,O))}return E}l.resizeColumns=p;function b(_){for(var E={},O=1,F=_.allRows(),R=0;R<F.length;R++)for(var I=F[R],W=0,H=_.columns;W<H.length;W++){var P=H[W],k=E[P.index];if(O>1)O--,delete I.cells[P.index];else if(k)k.cell.height+=I.height,O=k.cell.colSpan,delete I.cells[P.index],k.left--,k.left<=1&&delete E[P.index];else{var V=I.cells[P.index];if(!V)continue;if(V.height=I.height,V.rowSpan>1){var Y=F.length-R,oe=V.rowSpan>Y?Y:V.rowSpan;E[P.index]={cell:V,left:oe,row:I}}}}}function S(_){for(var E=_.allRows(),O=0;O<E.length;O++)for(var F=E[O],R=null,I=0,W=0,H=0;H<_.columns.length;H++){var P=_.columns[H];if(W-=1,W>1&&_.columns[H+1])I+=P.width,delete F.cells[P.index];else if(R){var k=R;delete F.cells[P.index],R=null,k.width=P.width+I}else{var k=F.cells[P.index];if(!k)continue;if(W=k.colSpan,I=0,k.colSpan>1){R=k,I+=P.width;continue}k.width=P.width+I}}}function C(_,E){for(var O={count:0,height:0},F=0,R=_.allRows();F<R.length;F++){for(var I=R[F],W=0,H=_.columns;W<H.length;W++){var P=H[W],k=I.cells[P.index];if(k){E.applyStyles(k.styles,!0);var V=k.width-k.padding("horizontal");if(k.styles.overflow==="linebreak")k.text=E.splitTextToSize(k.text,V+1/E.scaleFactor(),{fontSize:k.styles.fontSize});else if(k.styles.overflow==="ellipsize")k.text=w(k.text,V,k.styles,E,"...");else if(k.styles.overflow==="hidden")k.text=w(k.text,V,k.styles,E,"");else if(typeof k.styles.overflow=="function"){var Y=k.styles.overflow(k.text,V);typeof Y=="string"?k.text=[Y]:k.text=Y}k.contentHeight=k.getContentHeight(E.scaleFactor(),E.getLineHeightFactor());var oe=k.contentHeight/k.rowSpan;k.rowSpan>1&&O.count*O.height<oe*k.rowSpan?O={height:oe,count:k.rowSpan}:O&&O.count>0&&O.height>oe&&(oe=O.height),oe>I.height&&(I.height=oe)}}O.count--}}function w(_,E,O,F,R){return _.map(function(I){return y(I,E,O,F,R)})}l.ellipsize=w;function y(_,E,O,F,R){var I=1e4*F.scaleFactor();if(E=Math.ceil(E*I)/I,E>=(0,f.getStringWidth)(_,O,F))return _;for(;E<(0,f.getStringWidth)(_+R,O,F)&&!(_.length<=1);)_=_.substring(0,_.length-1);return _.trim()+R}},964:function(a){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={exports:{}};return r[a].call(c.exports,c,c.exports,s),c.exports}var o={};return function(){var a=o;Object.defineProperty(a,"__esModule",{value:!0}),a.Cell=a.Column=a.Row=a.Table=a.CellHookData=a.__drawTable=a.__createTable=a.applyPlugin=void 0;var l=s(340),c=s(776),f=s(664),h=s(972),m=s(260);Object.defineProperty(a,"Table",{enumerable:!0,get:function(){return m.Table}});var p=s(172);Object.defineProperty(a,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var b=s(260);Object.defineProperty(a,"Cell",{enumerable:!0,get:function(){return b.Cell}}),Object.defineProperty(a,"Column",{enumerable:!0,get:function(){return b.Column}}),Object.defineProperty(a,"Row",{enumerable:!0,get:function(){return b.Row}});function S(E){(0,l.default)(E)}a.applyPlugin=S;function C(E,O){var F=(0,c.parseInput)(E,O),R=(0,h.createTable)(E,F);(0,f.drawTable)(E,R)}function w(E,O){var F=(0,c.parseInput)(E,O);return(0,h.createTable)(E,F)}a.__createTable=w;function y(E,O){(0,f.drawTable)(E,O)}a.__drawTable=y;try{var _=s(964);_.jsPDF&&(_=_.jsPDF),S(_)}catch{}a.default=C}(),o}()})})(RM);function DM({closure:t,accounts:e,transactions:n,observations:r}){const i=new $e;i.setFontSize(20),i.text("Cierre Diario",105,20,{align:"center"}),i.setFontSize(12),i.text(ym(t.date),105,30,{align:"center"}),i.setFontSize(16),i.text("Resumen de Cuentas",14,45);const s=e.map(f=>[f.name,er(f.initialBalance),er(f.currentBalance)]);i.autoTable({startY:50,head:[["Cuenta","Saldo Inicial","Saldo Actual"]],body:s,theme:"grid"}),i.setFontSize(16),i.text("Movimientos",14,i.lastAutoTable.finalY+15);const o=n.map(f=>{var h;return[X2(f.timestamp),f.concept,f.description,(h=e.find(m=>m.id===f.accountId))==null?void 0:h.name,er(f.amount),f.status]});i.autoTable({startY:i.lastAutoTable.finalY+20,head:[["Fecha","Concepto","Descripcin","Cuenta","Monto","Estado"]],body:o,theme:"grid"});const{cashTotal:a,bankTotal:l}=e.reduce((f,h)=>(h.type==="efectivo"?f.cashTotal+=h.currentBalance:h.type==="banco"&&(f.bankTotal+=h.currentBalance),f),{cashTotal:0,bankTotal:0});let c=i.lastAutoTable.finalY+20;if(i.setFontSize(14),i.text(`Total Efectivo: ${er(a)}`,14,c),c+=8,i.text(`Total Banco: ${er(l)}`,14,c),c+=8,i.text(`Saldo Final: ${er(t.finalBalance)}`,14,c),r){c+=20,i.setFontSize(16),i.text("Observaciones",14,c),c+=10;const f=i.splitTextToSize(r,180);i.setFontSize(12),i.text(f,14,c),c+=f.length*7+20}else c+=40;return i.line(14,c,100,c),i.setFontSize(12),i.text("Firma del Responsable",14,c+5),i}function V_(t=[]){return!t||!Array.isArray(t)?[]:t.filter(e=>{if(e.paymentType==="transferencia")return!1;const n=Object.values(Ma).find(s=>s.name===e.concept);if(!n)return!1;const r=n.states.find(s=>s.name===e.status);return r?n.states.indexOf(r)<n.states.length-1:!1})}function jM({isOpen:t,onClose:e,onConfirm:n,isSubmitting:r}){return t?N.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:N.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:e}),N.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[N.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Finalizar Cierre"}),N.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",disabled:r,children:N.jsx(ts,{className:"h-6 w-6"})})]}),N.jsxs("div",{className:"p-6",children:[N.jsx("p",{className:"text-gray-700 mb-6",children:"Est seguro que desea finalizar el cierre? Esta accin no se puede deshacer."}),N.jsxs("div",{className:"flex justify-end gap-3",children:[N.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary",disabled:r,children:"Cancelar"}),N.jsx("button",{type:"button",onClick:n,className:"btn btn-primary",disabled:r,children:r?N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Finalizando..."]}):"Confirmar"})]})]})]})]})}):null}function MM({isOpen:t,onClose:e,transactions:n}){return t?N.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:N.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:e}),N.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[N.jsxs("div",{className:"flex items-center gap-2 text-yellow-600",children:[N.jsx(PR,{className:"h-6 w-6"}),N.jsx("h3",{className:"text-xl font-semibold",children:"No es posible finalizar el cierre"})]}),N.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:N.jsx(ts,{className:"h-6 w-6"})})]}),N.jsxs("div",{className:"p-6",children:[N.jsxs("p",{className:"text-gray-700 mb-4",children:["Existen ",n.length," movimientos pendientes que deben ser completados:"]}),N.jsx("div",{className:"bg-yellow-50 rounded-lg p-4 mb-6",children:N.jsx("div",{className:"overflow-x-auto",children:N.jsxs("table",{className:"min-w-full divide-y divide-yellow-200",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-yellow-700",children:"Fecha"}),N.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-yellow-700",children:"Concepto"}),N.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-yellow-700",children:"Estado"})]})}),N.jsx("tbody",{className:"divide-y divide-yellow-200",children:n.map(r=>N.jsxs("tr",{children:[N.jsx("td",{className:"px-4 py-2 text-sm text-yellow-700",children:X2(r.timestamp)}),N.jsx("td",{className:"px-4 py-2 text-sm text-yellow-700",children:r.concept}),N.jsx("td",{className:"px-4 py-2 text-sm text-yellow-700",children:r.status})]},r.id))})]})})}),N.jsx("div",{className:"flex justify-end",children:N.jsx("button",{type:"button",onClick:e,className:"btn btn-primary",children:"Entendido"})})]})]})]})}):null}function FM({closure:t,onBack:e}){var Z;const[n,r]=me.useState(t),[i,s]=me.useState(t.observations||""),[o,a]=me.useState(!1),[l,c]=me.useState(!1),[f,h]=me.useState(null),[m,p]=me.useState(!1),[b,S]=me.useState(!1),[C,w]=me.useState(!1),[y,_]=me.useState(null),[E,O]=me.useState(!1),[F,R]=me.useState(!1),[I,W]=me.useState(!1),[H,P]=me.useState({concept:"",description:"",accountId:(Z=t.accounts[0])==null?void 0:Z.id,paymentType:"efectivo"}),{concepts:k}=ey(),{executeTransfer:V,isSubmitting:Y}=Tj(),{addTransaction:oe,isSubmitting:Q}=vj(),G=async()=>{var J;try{const se=await oe({closureId:n.id,transaction:H,accounts:n.accounts,currentTransactions:n.transactions||[]});r(ue=>({...ue,accounts:se.accounts,transactions:[...ue.transactions||[],se.transaction],finalBalance:se.finalBalance})),P({concept:"",description:"",accountId:(J=n.accounts[0])==null?void 0:J.id,paymentType:"efectivo"}),w(!1),zt.success("Transaccin agregada exitosamente")}catch(se){console.error("Error al agregar la transaccin:",se),zt.error(se instanceof Error?se.message:"Error al agregar la transaccin")}},z=()=>{V_(n.transactions||[]).length>0?W(!0):R(!0)},$=async()=>{S(!0);try{await ql(br(xr,`closures/${n.id}`),{status:"closed",updatedAt:Date.now()}),r(J=>({...J,status:"closed"})),R(!1),zt.success("Cierre finalizado exitosamente")}catch(J){console.error("Error al finalizar el cierre:",J),zt.error("Error al finalizar el cierre")}finally{S(!1)}},te=async()=>{if(f){p(!0);try{const J=n.transactions.find(we=>we.id===f);if(!J)return;let se=[f];J.transferId&&(se=n.transactions.filter(we=>we.transferId===J.transferId).map(we=>we.id));const ue=n.transactions.filter(we=>!se.includes(we.id)),he=n.accounts.map(we=>{const Pe=n.transactions.filter(Ie=>Ie.accountId===we.id&&se.includes(Ie.id));if(Pe.length>0){const Ie=Pe.reduce((Ve,ye)=>Ve+ye.amount,0);return{...we,currentBalance:we.currentBalance-Ie}}return we}),Ne=he.reduce((we,Pe)=>we+Pe.currentBalance,0);await ql(br(xr,`closures/${n.id}`),{accounts:he,transactions:ue,finalBalance:Ne,updatedAt:Date.now()}),r(we=>({...we,accounts:he,transactions:ue,finalBalance:Ne})),zt.success("Transaccin eliminada exitosamente"),h(null)}catch(J){console.error("Error al eliminar la transaccin:",J),zt.error("Error al eliminar la transaccin")}finally{p(!1)}}},de=async()=>{c(!0);try{await aR(br(xr,`closures/${n.id}`)),zt.success("Cierre eliminado exitosamente"),e()}catch(J){console.error("Error al eliminar el cierre:",J),zt.error("Error al eliminar el cierre"),c(!1)}},A=async J=>{try{const se=await V({...J,closureId:n.id,accounts:n.accounts,transactions:n.transactions});se&&(r(ue=>({...ue,accounts:se.updatedAccounts,transactions:se.updatedTransactions,finalBalance:se.finalBalance})),zt.success("Transferencia realizada exitosamente"),O(!1))}catch(se){console.error("Error en la transferencia:",se),zt.error("Error al realizar la transferencia")}},U=()=>{DM({closure:n,accounts:n.accounts,transactions:n.transactions,observations:i}).save(`cierre-${n.date}.pdf`)},q=async J=>{const se=k==null?void 0:k.find(Ne=>Ne.name===J.concept);if(!se)return;const ue=se.states.find(Ne=>Ne.name===J.status);if(!ue)return;const he=se.states[se.states.indexOf(ue)+1];if(he){S(!0);try{const Ne={...J,status:he.name},we=n.transactions.map(Pe=>Pe.id===J.id?Ne:Pe);await ql(br(xr,`closures/${n.id}`),{transactions:we,updatedAt:Date.now()}),r(Pe=>({...Pe,transactions:we})),zt.success("Estado actualizado exitosamente")}catch(Ne){console.error("Error al actualizar el estado:",Ne),zt.error("Error al actualizar el estado")}finally{S(!1)}}};return N.jsxs(M1,{children:[N.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center",children:[N.jsx("button",{onClick:e,className:"mr-4 text-gray-600 hover:text-gray-900",children:N.jsx(TR,{className:"h-6 w-6"})}),N.jsxs("div",{children:[N.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:ym(n.date)}),N.jsxs("p",{className:"text-sm text-gray-500",children:["Estado: ",n.status==="open"?"Abierto":"Cerrado"]})]})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("button",{onClick:U,className:"btn btn-secondary inline-flex items-center",children:[N.jsx(DR,{className:"h-4 w-4 mr-2"}),"Imprimir Cierre"]}),N.jsxs("button",{onClick:()=>a(!0),className:"btn bg-red-600 hover:bg-red-700 text-white inline-flex items-center",children:[N.jsx(MS,{className:"h-4 w-4 mr-2"}),"Eliminar Cierre"]}),n.status==="open"&&N.jsxs("button",{onClick:z,className:"btn bg-green-600 hover:bg-green-700 text-white inline-flex items-center",disabled:b,children:[N.jsx(OS,{className:"h-4 w-4 mr-2"}),"Finalizar Cierre"]})]})]}),N.jsxs("div",{className:"space-y-6",children:[N.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[N.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Resumen de Cuentas"}),N.jsx(_j,{accounts:n.accounts,finalBalance:n.finalBalance})]}),N.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Movimientos"}),n.status==="open"&&!C&&N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("button",{onClick:()=>O(!0),className:"btn btn-secondary inline-flex items-center",children:[N.jsx(IR,{className:"h-4 w-4 mr-2"}),"Nueva Transferencia"]}),N.jsxs("button",{onClick:()=>w(!0),className:"btn btn-primary inline-flex items-center",children:[N.jsx(DS,{className:"h-4 w-4 mr-2"}),"Nuevo Movimiento"]})]})]}),n.status==="open"&&C&&N.jsx(Sj,{transaction:H,onUpdate:P,onSubmit:G,onCancel:()=>{var J;w(!1),_(null),P({concept:"",description:"",accountId:(J=n.accounts[0])==null?void 0:J.id,paymentType:"efectivo"})},isSubmitting:Q,isEditing:!!y,accounts:n.accounts}),N.jsx(Ej,{transactions:n.transactions,accounts:n.accounts,concepts:k,isClosureOpen:n.status==="open",isSubmitting:b,onStatusUpdate:q,onDelete:J=>h(J)})]}),N.jsx(kj,{accounts:n.accounts,transactions:n.transactions,finalBalance:n.finalBalance}),N.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[N.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Observaciones"}),N.jsxs("div",{className:"space-y-4",children:[N.jsx("textarea",{value:i,onChange:J=>s(J.target.value),className:"input h-32 resize-none",placeholder:"Agregar observaciones...",disabled:n.status==="closed"||b}),n.status==="open"&&N.jsx("div",{className:"flex justify-end",children:N.jsx("button",{onClick:async()=>{S(!0);try{await ql(br(xr,`closures/${n.id}`),{observations:i,updatedAt:Date.now()}),zt.success("Observaciones guardadas exitosamente")}catch(J){console.error("Error al guardar las observaciones:",J),zt.error("Error al guardar las observaciones")}finally{S(!1)}},className:"btn btn-primary",disabled:b,children:"Guardar Observaciones"})})]})]})]}),N.jsx(jM,{isOpen:F,onClose:()=>R(!1),onConfirm:$,isSubmitting:b}),N.jsx(MM,{isOpen:I,onClose:()=>W(!1),transactions:V_(n.transactions)}),N.jsx(Ij,{isOpen:E,onClose:()=>O(!1),accounts:n.accounts,onTransfer:A,isSubmitting:Y}),N.jsx(yj,{isOpen:o,onClose:()=>a(!1),onConfirm:de,isLoading:l}),N.jsx(wj,{isOpen:!!f,onClose:()=>h(null),onConfirm:te,isLoading:m})]})}function BM({searchTerm:t,onSearchChange:e}){return N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:N.jsx(jS,{className:"h-5 w-5 text-gray-400"})}),N.jsx("input",{type:"text",value:t,onChange:n=>e(n.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Buscar por fecha, descripcin u observaciones..."})]})}function UM(){const{currentUser:t}=Au(),[e,n]=me.useState([]),[r,i]=me.useState([]),[s,o]=me.useState(!0),[a,l]=me.useState(!1),[c,f]=me.useState(null),[h,m]=me.useState("");me.useEffect(()=>{if(!t)return;const y=br(xr,"closures"),_=D1(y,R1("userId"),O1(t.uid)),E=uR(_,O=>{const F=O.val();if(F){const I=Object.entries(F).map(([W,H])=>({...H,id:W})).sort((W,H)=>new Date(H.date).getTime()-new Date(W.date).getTime());n(I),p(I,h)}else n([]),i([]);o(!1)});return()=>E()},[t]),me.useEffect(()=>{p(e,h)},[h]);const p=(y,_)=>{let E=[...y];if(_.trim()){const O=_.toLowerCase().trim();E=E.filter(F=>{var R,I;return F.date.includes(O)||(R=F.observations)!=null&&R.toLowerCase().includes(O)?!0:(I=F.transactions)==null?void 0:I.some(W=>{var H,P;return((H=W.description)==null?void 0:H.toLowerCase().includes(O))||((P=W.concept)==null?void 0:P.toLowerCase().includes(O))})})}i(E)},b=y=>{f(y)},{totalBalance:S,cashBalance:C,bankBalance:w}=r.reduce((y,_)=>(y.totalBalance+=_.finalBalance,_.accounts.forEach(E=>{E.type==="efectivo"?y.cashBalance+=E.currentBalance:E.type==="banco"&&(y.bankBalance+=E.currentBalance)}),y),{totalBalance:0,cashBalance:0,bankBalance:0});return s?N.jsx(M1,{children:N.jsx("div",{className:"flex items-center justify-center h-64",children:N.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):c?N.jsx(FM,{closure:c,onBack:()=>f(null)}):N.jsxs(M1,{children:[N.jsxs("div",{className:"mb-6",children:[N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Cierres Diarios"}),N.jsxs("button",{className:"btn btn-primary inline-flex items-center",onClick:()=>l(!0),children:[N.jsx(DS,{className:"h-5 w-5 mr-2"}),"Nuevo Cierre"]})]}),N.jsx(BM,{searchTerm:h,onSearchChange:m})]}),N.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[N.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:N.jsx("div",{className:"flex items-center justify-between",children:N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:N.jsx(FS,{className:"h-6 w-6 text-blue-600"})}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Saldo General"}),N.jsxs("p",{className:`text-2xl font-bold ${S>=0?"text-green-600":"text-red-600"}`,children:["$",S.toLocaleString("es-AR")]})]})]})})}),N.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:N.jsx("div",{className:"flex items-center justify-between",children:N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:N.jsx(RS,{className:"h-6 w-6 text-green-600"})}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Saldo Efectivo"}),N.jsxs("p",{className:`text-2xl font-bold ${C>=0?"text-green-600":"text-red-600"}`,children:["$",C.toLocaleString("es-AR")]})]})]})})}),N.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:N.jsx("div",{className:"flex items-center justify-between",children:N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:N.jsx(Q2,{className:"h-6 w-6 text-purple-600"})}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Saldo Banco"}),N.jsxs("p",{className:`text-2xl font-bold ${w>=0?"text-green-600":"text-red-600"}`,children:["$",w.toLocaleString("es-AR")]})]})]})})})]}),r.length===0?N.jsxs("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:[N.jsx(jS,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),N.jsx("p",{className:"text-gray-500",children:e.length===0?"No hay cierres diarios registrados":"No se encontraron cierres diarios para los criterios seleccionados"})]}):N.jsx(uj,{closures:r,onClosureClick:b}),N.jsx(fj,{isOpen:a,onClose:()=>l(!1)})]})}function zM({children:t}){const{currentUser:e,loading:n}=Au();return n?N.jsx("div",{className:"min-h-screen flex items-center justify-center",children:N.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?N.jsx(N.Fragment,{children:t}):N.jsx(v3,{to:"/login"})}function WM(){return N.jsx(bk,{children:N.jsxs(ER,{children:[N.jsx(dA,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),N.jsxs(yk,{children:[N.jsx(Nf,{path:"/login",element:N.jsx(WR,{})}),N.jsx(Nf,{path:"/dashboard",element:N.jsx(zM,{children:N.jsx(UM,{})})}),N.jsx(Nf,{path:"/",element:N.jsx(v3,{to:"/dashboard",replace:!0})})]})]})})}s3(document.getElementById("root")).render(N.jsx(me.StrictMode,{children:N.jsx(WM,{})}));export{bt as _,c0 as c,Z1 as g};
