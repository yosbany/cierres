function VN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function YN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var F_={exports:{}},Ap={},B_={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd=Symbol.for("react.element"),GN=Symbol.for("react.portal"),KN=Symbol.for("react.fragment"),QN=Symbol.for("react.strict_mode"),JN=Symbol.for("react.profiler"),XN=Symbol.for("react.provider"),ZN=Symbol.for("react.context"),eC=Symbol.for("react.forward_ref"),tC=Symbol.for("react.suspense"),nC=Symbol.for("react.memo"),rC=Symbol.for("react.lazy"),Cy=Symbol.iterator;function iC(t){return t===null||typeof t!="object"?null:(t=Cy&&t[Cy]||t["@@iterator"],typeof t=="function"?t:null)}var U_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z_=Object.assign,W_={};function fu(t,e,n){this.props=t,this.context=e,this.refs=W_,this.updater=n||U_}fu.prototype.isReactComponent={};fu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H_(){}H_.prototype=fu.prototype;function Q1(t,e,n){this.props=t,this.context=e,this.refs=W_,this.updater=n||U_}var J1=Q1.prototype=new H_;J1.constructor=Q1;z_(J1,fu.prototype);J1.isPureReactComponent=!0;var Ey=Array.isArray,q_=Object.prototype.hasOwnProperty,X1={current:null},$_={key:!0,ref:!0,__self:!0,__source:!0};function V_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)q_.call(e,r)&&!$_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Nd,type:t,key:s,ref:o,props:i,_owner:X1.current}}function sC(t,e){return{$$typeof:Nd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Z1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nd}function oC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ky=/\/+/g;function og(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oC(""+t.key):e.toString(36)}function lf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nd:case GN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+og(o,0):r,Ey(i)?(n="",t!=null&&(n=t.replace(ky,"$&/")+"/"),lf(i,e,n,"",function(c){return c})):i!=null&&(Z1(i)&&(i=sC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ky,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ey(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+og(s,a);o+=lf(s,e,n,l,i)}else if(l=iC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+og(s,a++),o+=lf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Oh(t,e,n){if(t==null)return t;var r=[],i=0;return lf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function aC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dr={current:null},uf={transition:null},lC={ReactCurrentDispatcher:dr,ReactCurrentBatchConfig:uf,ReactCurrentOwner:X1};function Y_(){throw Error("act(...) is not supported in production builds of React.")}ht.Children={map:Oh,forEach:function(t,e,n){Oh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oh(t,function(){e++}),e},toArray:function(t){return Oh(t,function(e){return e})||[]},only:function(t){if(!Z1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ht.Component=fu;ht.Fragment=KN;ht.Profiler=JN;ht.PureComponent=Q1;ht.StrictMode=QN;ht.Suspense=tC;ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lC;ht.act=Y_;ht.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=z_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=X1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)q_.call(e,l)&&!$_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Nd,type:t.type,key:i,ref:s,props:r,_owner:o}};ht.createContext=function(t){return t={$$typeof:ZN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XN,_context:t},t.Consumer=t};ht.createElement=V_;ht.createFactory=function(t){var e=V_.bind(null,t);return e.type=t,e};ht.createRef=function(){return{current:null}};ht.forwardRef=function(t){return{$$typeof:eC,render:t}};ht.isValidElement=Z1;ht.lazy=function(t){return{$$typeof:rC,_payload:{_status:-1,_result:t},_init:aC}};ht.memo=function(t,e){return{$$typeof:nC,type:t,compare:e===void 0?null:e}};ht.startTransition=function(t){var e=uf.transition;uf.transition={};try{t()}finally{uf.transition=e}};ht.unstable_act=Y_;ht.useCallback=function(t,e){return dr.current.useCallback(t,e)};ht.useContext=function(t){return dr.current.useContext(t)};ht.useDebugValue=function(){};ht.useDeferredValue=function(t){return dr.current.useDeferredValue(t)};ht.useEffect=function(t,e){return dr.current.useEffect(t,e)};ht.useId=function(){return dr.current.useId()};ht.useImperativeHandle=function(t,e,n){return dr.current.useImperativeHandle(t,e,n)};ht.useInsertionEffect=function(t,e){return dr.current.useInsertionEffect(t,e)};ht.useLayoutEffect=function(t,e){return dr.current.useLayoutEffect(t,e)};ht.useMemo=function(t,e){return dr.current.useMemo(t,e)};ht.useReducer=function(t,e,n){return dr.current.useReducer(t,e,n)};ht.useRef=function(t){return dr.current.useRef(t)};ht.useState=function(t){return dr.current.useState(t)};ht.useSyncExternalStore=function(t,e,n){return dr.current.useSyncExternalStore(t,e,n)};ht.useTransition=function(){return dr.current.useTransition()};ht.version="18.3.1";B_.exports=ht;var me=B_.exports;const uC=K1(me),cC=VN({__proto__:null,default:uC},[me]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dC=me,hC=Symbol.for("react.element"),fC=Symbol.for("react.fragment"),pC=Object.prototype.hasOwnProperty,mC=dC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gC={key:!0,ref:!0,__self:!0,__source:!0};function G_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)pC.call(e,r)&&!gC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hC,type:t,key:s,ref:o,props:i,_owner:mC.current}}Ap.Fragment=fC;Ap.jsx=G_;Ap.jsxs=G_;F_.exports=Ap;var L=F_.exports,K_={exports:{}},Ur={},Q_={exports:{}},J_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,H){var te=U.length;U.push(H);e:for(;0<te;){var ue=te-1>>>1,C=U[ue];if(0<i(C,H))U[ue]=H,U[te]=C,te=ue;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var H=U[0],te=U.pop();if(te!==H){U[0]=te;e:for(var ue=0,C=U.length,j=C>>>1;ue<j;){var W=2*(ue+1)-1,J=U[W],Z=W+1,le=U[Z];if(0>i(J,te))Z<C&&0>i(le,J)?(U[ue]=le,U[Z]=te,ue=Z):(U[ue]=J,U[W]=te,ue=W);else if(Z<C&&0>i(le,te))U[ue]=le,U[Z]=te,ue=Z;else break e}}return H}function i(U,H){var te=U.sortIndex-H.sortIndex;return te!==0?te:U.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,g=3,p=!1,b=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(U){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=U)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function E(U){if(S=!1,_(U),!b)if(n(l)!==null)b=!0,Q(D);else{var H=n(c);H!==null&&Y(E,H.startTime-U)}}function D(U,H){b=!1,S&&(S=!1,w(P),P=-1),p=!0;var te=g;try{for(_(H),h=n(l);h!==null&&(!(h.expirationTime>H)||U&&!A());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,g=h.priorityLevel;var C=ue(h.expirationTime<=H);H=t.unstable_now(),typeof C=="function"?h.callback=C:h===n(l)&&r(l),_(H)}else r(l);h=n(l)}if(h!==null)var j=!0;else{var W=n(c);W!==null&&Y(E,W.startTime-H),j=!1}return j}finally{h=null,g=te,p=!1}}var B=!1,R=null,P=-1,q=5,$=-1;function A(){return!(t.unstable_now()-$<q)}function k(){if(R!==null){var U=t.unstable_now();$=U;var H=!0;try{H=R(!0,U)}finally{H?V():(B=!1,R=null)}}else B=!1}var V;if(typeof y=="function")V=function(){y(k)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,se=G.port2;G.port1.onmessage=k,V=function(){se.postMessage(null)}}else V=function(){N(k,0)};function Q(U){R=U,B||(B=!0,V())}function Y(U,H){P=N(function(){U(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){b||p||(b=!0,Q(D))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var te=g;g=H;try{return U()}finally{g=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=g;g=U;try{return H()}finally{g=te}},t.unstable_scheduleCallback=function(U,H,te){var ue=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ue+te:ue):te=ue,U){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=te+C,U={id:f++,callback:H,priorityLevel:U,startTime:te,expirationTime:C,sortIndex:-1},te>ue?(U.sortIndex=te,e(c,U),n(l)===null&&U===n(c)&&(S?(w(P),P=-1):S=!0,Y(E,te-ue))):(U.sortIndex=C,e(l,U),b||p||(b=!0,Q(D))),U},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(U){var H=g;return function(){var te=g;g=H;try{return U.apply(this,arguments)}finally{g=te}}}})(J_);Q_.exports=J_;var vC=Q_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yC=me,Br=vC;function ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X_=new Set,qc={};function Da(t,e){Zl(t,e),Zl(t+"Capture",e)}function Zl(t,e){for(qc[t]=e,t=0;t<e.length;t++)X_.add(e[t])}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l0=Object.prototype.hasOwnProperty,wC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ay={},Py={};function _C(t){return l0.call(Py,t)?!0:l0.call(Ay,t)?!1:wC.test(t)?Py[t]=!0:(Ay[t]=!0,!1)}function bC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xC(t,e,n,r){if(e===null||typeof e>"u"||bC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Un[t]=new hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Un[e]=new hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Un[t]=new hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Un[t]=new hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Un[t]=new hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Un[t]=new hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Un[t]=new hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Un[t]=new hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Un[t]=new hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var ev=/[\-:]([a-z])/g;function tv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ev,tv);Un[e]=new hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ev,tv);Un[e]=new hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ev,tv);Un[e]=new hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Un[t]=new hr(t,1,!1,t.toLowerCase(),null,!1,!1)});Un.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Un[t]=new hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function nv(t,e,n,r){var i=Un.hasOwnProperty(e)?Un[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xC(e,n,i,r)&&(n=null),r||i===null?_C(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Os=yC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dh=Symbol.for("react.element"),Al=Symbol.for("react.portal"),Pl=Symbol.for("react.fragment"),rv=Symbol.for("react.strict_mode"),u0=Symbol.for("react.profiler"),Z_=Symbol.for("react.provider"),eb=Symbol.for("react.context"),iv=Symbol.for("react.forward_ref"),c0=Symbol.for("react.suspense"),d0=Symbol.for("react.suspense_list"),sv=Symbol.for("react.memo"),to=Symbol.for("react.lazy"),tb=Symbol.for("react.offscreen"),Iy=Symbol.iterator;function nc(t){return t===null||typeof t!="object"?null:(t=Iy&&t[Iy]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,ag;function vc(t){if(ag===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ag=e&&e[1]||""}return`
`+ag+t}var lg=!1;function ug(t,e){if(!t||lg)return"";lg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{lg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vc(t):""}function SC(t){switch(t.tag){case 5:return vc(t.type);case 16:return vc("Lazy");case 13:return vc("Suspense");case 19:return vc("SuspenseList");case 0:case 2:case 15:return t=ug(t.type,!1),t;case 11:return t=ug(t.type.render,!1),t;case 1:return t=ug(t.type,!0),t;default:return""}}function h0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pl:return"Fragment";case Al:return"Portal";case u0:return"Profiler";case rv:return"StrictMode";case c0:return"Suspense";case d0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eb:return(t.displayName||"Context")+".Consumer";case Z_:return(t._context.displayName||"Context")+".Provider";case iv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sv:return e=t.displayName||null,e!==null?e:h0(t.type)||"Memo";case to:e=t._payload,t=t._init;try{return h0(t(e))}catch{}}return null}function NC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h0(e);case 8:return e===rv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CC(t){var e=nb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mh(t){t._valueTracker||(t._valueTracker=CC(t))}function rb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function f0(t,e){var n=e.checked;return Qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ty(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ib(t,e){e=e.checked,e!=null&&nv(t,"checked",e,!1)}function p0(t,e){ib(t,e);var n=Lo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?m0(t,e.type,n):e.hasOwnProperty("defaultValue")&&m0(t,e.type,Lo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ly(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function m0(t,e,n){(e!=="number"||Pf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yc=Array.isArray;function Wl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function g0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ke(91));return Qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ry(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ke(92));if(yc(n)){if(1<n.length)throw Error(ke(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lo(n)}}function sb(t,e){var n=Lo(e.value),r=Lo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Oy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ob(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function v0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ob(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jh,ab=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jh=jh||document.createElement("div"),jh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $c(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EC=["Webkit","ms","Moz","O"];Object.keys(Nc).forEach(function(t){EC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nc[e]=Nc[t]})});function lb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nc.hasOwnProperty(t)&&Nc[t]?(""+e).trim():e+"px"}function ub(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var kC=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function y0(t,e){if(e){if(kC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ke(62))}}function w0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _0=null;function ov(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var b0=null,Hl=null,ql=null;function Dy(t){if(t=kd(t)){if(typeof b0!="function")throw Error(ke(280));var e=t.stateNode;e&&(e=Rp(e),b0(t.stateNode,t.type,e))}}function cb(t){Hl?ql?ql.push(t):ql=[t]:Hl=t}function db(){if(Hl){var t=Hl,e=ql;if(ql=Hl=null,Dy(t),e)for(t=0;t<e.length;t++)Dy(e[t])}}function hb(t,e){return t(e)}function fb(){}var cg=!1;function pb(t,e,n){if(cg)return t(e,n);cg=!0;try{return hb(t,e,n)}finally{cg=!1,(Hl!==null||ql!==null)&&(fb(),db())}}function Vc(t,e){var n=t.stateNode;if(n===null)return null;var r=Rp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ke(231,e,typeof n));return n}var x0=!1;if(Es)try{var rc={};Object.defineProperty(rc,"passive",{get:function(){x0=!0}}),window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{x0=!1}function AC(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Cc=!1,If=null,Tf=!1,S0=null,PC={onError:function(t){Cc=!0,If=t}};function IC(t,e,n,r,i,s,o,a,l){Cc=!1,If=null,AC.apply(PC,arguments)}function TC(t,e,n,r,i,s,o,a,l){if(IC.apply(this,arguments),Cc){if(Cc){var c=If;Cc=!1,If=null}else throw Error(ke(198));Tf||(Tf=!0,S0=c)}}function Ma(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function My(t){if(Ma(t)!==t)throw Error(ke(188))}function LC(t){var e=t.alternate;if(!e){if(e=Ma(t),e===null)throw Error(ke(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return My(i),t;if(s===r)return My(i),e;s=s.sibling}throw Error(ke(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ke(189))}}if(n.alternate!==r)throw Error(ke(190))}if(n.tag!==3)throw Error(ke(188));return n.stateNode.current===n?t:e}function gb(t){return t=LC(t),t!==null?vb(t):null}function vb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vb(t);if(e!==null)return e;t=t.sibling}return null}var yb=Br.unstable_scheduleCallback,jy=Br.unstable_cancelCallback,RC=Br.unstable_shouldYield,OC=Br.unstable_requestPaint,un=Br.unstable_now,DC=Br.unstable_getCurrentPriorityLevel,av=Br.unstable_ImmediatePriority,wb=Br.unstable_UserBlockingPriority,Lf=Br.unstable_NormalPriority,MC=Br.unstable_LowPriority,_b=Br.unstable_IdlePriority,Pp=null,Gi=null;function jC(t){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(Pp,t,void 0,(t.current.flags&128)===128)}catch{}}var Ni=Math.clz32?Math.clz32:UC,FC=Math.log,BC=Math.LN2;function UC(t){return t>>>=0,t===0?32:31-(FC(t)/BC|0)|0}var Fh=64,Bh=4194304;function wc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=wc(a):(s&=o,s!==0&&(r=wc(s)))}else o=n&~i,o!==0?r=wc(o):s!==0&&(r=wc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ni(e),i=1<<n,r|=t[n],e&=~i;return r}function zC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ni(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=zC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function N0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bb(){var t=Fh;return Fh<<=1,!(Fh&4194240)&&(Fh=64),t}function dg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Cd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ni(e),t[e]=n}function HC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ni(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function lv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ni(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var kt=0;function xb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sb,uv,Nb,Cb,Eb,C0=!1,Uh=[],vo=null,yo=null,wo=null,Yc=new Map,Gc=new Map,ro=[],qC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fy(t,e){switch(t){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":wo=null;break;case"pointerover":case"pointerout":Yc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(e.pointerId)}}function ic(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=kd(e),e!==null&&uv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $C(t,e,n,r,i){switch(e){case"focusin":return vo=ic(vo,t,e,n,r,i),!0;case"dragenter":return yo=ic(yo,t,e,n,r,i),!0;case"mouseover":return wo=ic(wo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Yc.set(s,ic(Yc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Gc.set(s,ic(Gc.get(s)||null,t,e,n,r,i)),!0}return!1}function kb(t){var e=ha(t.target);if(e!==null){var n=Ma(e);if(n!==null){if(e=n.tag,e===13){if(e=mb(n),e!==null){t.blockedOn=e,Eb(t.priority,function(){Nb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=E0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_0=r,n.target.dispatchEvent(r),_0=null}else return e=kd(n),e!==null&&uv(e),t.blockedOn=n,!1;e.shift()}return!0}function By(t,e,n){cf(t)&&n.delete(e)}function VC(){C0=!1,vo!==null&&cf(vo)&&(vo=null),yo!==null&&cf(yo)&&(yo=null),wo!==null&&cf(wo)&&(wo=null),Yc.forEach(By),Gc.forEach(By)}function sc(t,e){t.blockedOn===e&&(t.blockedOn=null,C0||(C0=!0,Br.unstable_scheduleCallback(Br.unstable_NormalPriority,VC)))}function Kc(t){function e(i){return sc(i,t)}if(0<Uh.length){sc(Uh[0],t);for(var n=1;n<Uh.length;n++){var r=Uh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vo!==null&&sc(vo,t),yo!==null&&sc(yo,t),wo!==null&&sc(wo,t),Yc.forEach(e),Gc.forEach(e),n=0;n<ro.length;n++)r=ro[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ro.length&&(n=ro[0],n.blockedOn===null);)kb(n),n.blockedOn===null&&ro.shift()}var $l=Os.ReactCurrentBatchConfig,Of=!0;function YC(t,e,n,r){var i=kt,s=$l.transition;$l.transition=null;try{kt=1,cv(t,e,n,r)}finally{kt=i,$l.transition=s}}function GC(t,e,n,r){var i=kt,s=$l.transition;$l.transition=null;try{kt=4,cv(t,e,n,r)}finally{kt=i,$l.transition=s}}function cv(t,e,n,r){if(Of){var i=E0(t,e,n,r);if(i===null)bg(t,e,r,Df,n),Fy(t,r);else if($C(i,t,e,n,r))r.stopPropagation();else if(Fy(t,r),e&4&&-1<qC.indexOf(t)){for(;i!==null;){var s=kd(i);if(s!==null&&Sb(s),s=E0(t,e,n,r),s===null&&bg(t,e,r,Df,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else bg(t,e,r,null,n)}}var Df=null;function E0(t,e,n,r){if(Df=null,t=ov(r),t=ha(t),t!==null)if(e=Ma(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Df=t,null}function Ab(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DC()){case av:return 1;case wb:return 4;case Lf:case MC:return 16;case _b:return 536870912;default:return 16}default:return 16}}var ho=null,dv=null,df=null;function Pb(){if(df)return df;var t,e=dv,n=e.length,r,i="value"in ho?ho.value:ho.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return df=i.slice(t,1<r?1-r:void 0)}function hf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zh(){return!0}function Uy(){return!1}function zr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zh:Uy,this.isPropagationStopped=Uy,this}return Qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zh)},persist:function(){},isPersistent:zh}),e}var pu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hv=zr(pu),Ed=Qt({},pu,{view:0,detail:0}),KC=zr(Ed),hg,fg,oc,Ip=Qt({},Ed,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oc&&(oc&&t.type==="mousemove"?(hg=t.screenX-oc.screenX,fg=t.screenY-oc.screenY):fg=hg=0,oc=t),hg)},movementY:function(t){return"movementY"in t?t.movementY:fg}}),zy=zr(Ip),QC=Qt({},Ip,{dataTransfer:0}),JC=zr(QC),XC=Qt({},Ed,{relatedTarget:0}),pg=zr(XC),ZC=Qt({},pu,{animationName:0,elapsedTime:0,pseudoElement:0}),eE=zr(ZC),tE=Qt({},pu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nE=zr(tE),rE=Qt({},pu,{data:0}),Wy=zr(rE),iE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oE[t])?!!e[t]:!1}function fv(){return aE}var lE=Qt({},Ed,{key:function(t){if(t.key){var e=iE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fv,charCode:function(t){return t.type==="keypress"?hf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uE=zr(lE),cE=Qt({},Ip,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hy=zr(cE),dE=Qt({},Ed,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fv}),hE=zr(dE),fE=Qt({},pu,{propertyName:0,elapsedTime:0,pseudoElement:0}),pE=zr(fE),mE=Qt({},Ip,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gE=zr(mE),vE=[9,13,27,32],pv=Es&&"CompositionEvent"in window,Ec=null;Es&&"documentMode"in document&&(Ec=document.documentMode);var yE=Es&&"TextEvent"in window&&!Ec,Ib=Es&&(!pv||Ec&&8<Ec&&11>=Ec),qy=" ",$y=!1;function Tb(t,e){switch(t){case"keyup":return vE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Il=!1;function wE(t,e){switch(t){case"compositionend":return Lb(e);case"keypress":return e.which!==32?null:($y=!0,qy);case"textInput":return t=e.data,t===qy&&$y?null:t;default:return null}}function _E(t,e){if(Il)return t==="compositionend"||!pv&&Tb(t,e)?(t=Pb(),df=dv=ho=null,Il=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ib&&e.locale!=="ko"?null:e.data;default:return null}}var bE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bE[t.type]:e==="textarea"}function Rb(t,e,n,r){cb(r),e=Mf(e,"onChange"),0<e.length&&(n=new hv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kc=null,Qc=null;function xE(t){qb(t,0)}function Tp(t){var e=Rl(t);if(rb(e))return t}function SE(t,e){if(t==="change")return e}var Ob=!1;if(Es){var mg;if(Es){var gg="oninput"in document;if(!gg){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),gg=typeof Yy.oninput=="function"}mg=gg}else mg=!1;Ob=mg&&(!document.documentMode||9<document.documentMode)}function Gy(){kc&&(kc.detachEvent("onpropertychange",Db),Qc=kc=null)}function Db(t){if(t.propertyName==="value"&&Tp(Qc)){var e=[];Rb(e,Qc,t,ov(t)),pb(xE,e)}}function NE(t,e,n){t==="focusin"?(Gy(),kc=e,Qc=n,kc.attachEvent("onpropertychange",Db)):t==="focusout"&&Gy()}function CE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tp(Qc)}function EE(t,e){if(t==="click")return Tp(e)}function kE(t,e){if(t==="input"||t==="change")return Tp(e)}function AE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ki=typeof Object.is=="function"?Object.is:AE;function Jc(t,e){if(ki(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!l0.call(e,i)||!ki(t[i],e[i]))return!1}return!0}function Ky(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qy(t,e){var n=Ky(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ky(n)}}function Mb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jb(){for(var t=window,e=Pf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pf(t.document)}return e}function mv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PE(t){var e=jb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Mb(n.ownerDocument.documentElement,n)){if(r!==null&&mv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Qy(n,s);var o=Qy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IE=Es&&"documentMode"in document&&11>=document.documentMode,Tl=null,k0=null,Ac=null,A0=!1;function Jy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;A0||Tl==null||Tl!==Pf(r)||(r=Tl,"selectionStart"in r&&mv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ac&&Jc(Ac,r)||(Ac=r,r=Mf(k0,"onSelect"),0<r.length&&(e=new hv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tl)))}function Wh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ll={animationend:Wh("Animation","AnimationEnd"),animationiteration:Wh("Animation","AnimationIteration"),animationstart:Wh("Animation","AnimationStart"),transitionend:Wh("Transition","TransitionEnd")},vg={},Fb={};Es&&(Fb=document.createElement("div").style,"AnimationEvent"in window||(delete Ll.animationend.animation,delete Ll.animationiteration.animation,delete Ll.animationstart.animation),"TransitionEvent"in window||delete Ll.transitionend.transition);function Lp(t){if(vg[t])return vg[t];if(!Ll[t])return t;var e=Ll[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Fb)return vg[t]=e[n];return t}var Bb=Lp("animationend"),Ub=Lp("animationiteration"),zb=Lp("animationstart"),Wb=Lp("transitionend"),Hb=new Map,Xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zo(t,e){Hb.set(t,e),Da(e,[t])}for(var yg=0;yg<Xy.length;yg++){var wg=Xy[yg],TE=wg.toLowerCase(),LE=wg[0].toUpperCase()+wg.slice(1);zo(TE,"on"+LE)}zo(Bb,"onAnimationEnd");zo(Ub,"onAnimationIteration");zo(zb,"onAnimationStart");zo("dblclick","onDoubleClick");zo("focusin","onFocus");zo("focusout","onBlur");zo(Wb,"onTransitionEnd");Zl("onMouseEnter",["mouseout","mouseover"]);Zl("onMouseLeave",["mouseout","mouseover"]);Zl("onPointerEnter",["pointerout","pointerover"]);Zl("onPointerLeave",["pointerout","pointerover"]);Da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Da("onBeforeInput",["compositionend","keypress","textInput","paste"]);Da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RE=new Set("cancel close invalid load scroll toggle".split(" ").concat(_c));function Zy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TC(r,e,void 0,t),t.currentTarget=null}function qb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Zy(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Zy(i,a,c),s=l}}}if(Tf)throw t=S0,Tf=!1,S0=null,t}function Ut(t,e){var n=e[R0];n===void 0&&(n=e[R0]=new Set);var r=t+"__bubble";n.has(r)||($b(e,t,2,!1),n.add(r))}function _g(t,e,n){var r=0;e&&(r|=4),$b(n,t,r,e)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function Xc(t){if(!t[Hh]){t[Hh]=!0,X_.forEach(function(n){n!=="selectionchange"&&(RE.has(n)||_g(n,!1,t),_g(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hh]||(e[Hh]=!0,_g("selectionchange",!1,e))}}function $b(t,e,n,r){switch(Ab(e)){case 1:var i=YC;break;case 4:i=GC;break;default:i=cv}n=i.bind(null,e,n,t),i=void 0,!x0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ha(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}pb(function(){var c=s,f=ov(n),h=[];e:{var g=Hb.get(t);if(g!==void 0){var p=hv,b=t;switch(t){case"keypress":if(hf(n)===0)break e;case"keydown":case"keyup":p=uE;break;case"focusin":b="focus",p=pg;break;case"focusout":b="blur",p=pg;break;case"beforeblur":case"afterblur":p=pg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=zy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hE;break;case Bb:case Ub:case zb:p=eE;break;case Wb:p=pE;break;case"scroll":p=KC;break;case"wheel":p=gE;break;case"copy":case"cut":case"paste":p=nE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Hy}var S=(e&4)!==0,N=!S&&t==="scroll",w=S?g!==null?g+"Capture":null:g;S=[];for(var y=c,_;y!==null;){_=y;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,w!==null&&(E=Vc(y,w),E!=null&&S.push(Zc(y,E,_)))),N)break;y=y.return}0<S.length&&(g=new p(g,b,null,n,f),h.push({event:g,listeners:S}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",g&&n!==_0&&(b=n.relatedTarget||n.fromElement)&&(ha(b)||b[ks]))break e;if((p||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=c,b=b?ha(b):null,b!==null&&(N=Ma(b),b!==N||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=c),p!==b)){if(S=zy,E="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(S=Hy,E="onPointerLeave",w="onPointerEnter",y="pointer"),N=p==null?g:Rl(p),_=b==null?g:Rl(b),g=new S(E,y+"leave",p,n,f),g.target=N,g.relatedTarget=_,E=null,ha(f)===c&&(S=new S(w,y+"enter",b,n,f),S.target=_,S.relatedTarget=N,E=S),N=E,p&&b)t:{for(S=p,w=b,y=0,_=S;_;_=_l(_))y++;for(_=0,E=w;E;E=_l(E))_++;for(;0<y-_;)S=_l(S),y--;for(;0<_-y;)w=_l(w),_--;for(;y--;){if(S===w||w!==null&&S===w.alternate)break t;S=_l(S),w=_l(w)}S=null}else S=null;p!==null&&e5(h,g,p,S,!1),b!==null&&N!==null&&e5(h,N,b,S,!0)}}e:{if(g=c?Rl(c):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var D=SE;else if(Vy(g))if(Ob)D=kE;else{D=CE;var B=NE}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(D=EE);if(D&&(D=D(t,c))){Rb(h,D,n,f);break e}B&&B(t,g,c),t==="focusout"&&(B=g._wrapperState)&&B.controlled&&g.type==="number"&&m0(g,"number",g.value)}switch(B=c?Rl(c):window,t){case"focusin":(Vy(B)||B.contentEditable==="true")&&(Tl=B,k0=c,Ac=null);break;case"focusout":Ac=k0=Tl=null;break;case"mousedown":A0=!0;break;case"contextmenu":case"mouseup":case"dragend":A0=!1,Jy(h,n,f);break;case"selectionchange":if(IE)break;case"keydown":case"keyup":Jy(h,n,f)}var R;if(pv)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Il?Tb(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Ib&&n.locale!=="ko"&&(Il||P!=="onCompositionStart"?P==="onCompositionEnd"&&Il&&(R=Pb()):(ho=f,dv="value"in ho?ho.value:ho.textContent,Il=!0)),B=Mf(c,P),0<B.length&&(P=new Wy(P,t,null,n,f),h.push({event:P,listeners:B}),R?P.data=R:(R=Lb(n),R!==null&&(P.data=R)))),(R=yE?wE(t,n):_E(t,n))&&(c=Mf(c,"onBeforeInput"),0<c.length&&(f=new Wy("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=R))}qb(h,e)})}function Zc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Vc(t,n),s!=null&&r.unshift(Zc(t,s,i)),s=Vc(t,e),s!=null&&r.push(Zc(t,s,i))),t=t.return}return r}function _l(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function e5(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Vc(n,s),l!=null&&o.unshift(Zc(n,l,a))):i||(l=Vc(n,s),l!=null&&o.push(Zc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var OE=/\r\n?/g,DE=/\u0000|\uFFFD/g;function t5(t){return(typeof t=="string"?t:""+t).replace(OE,`
`).replace(DE,"")}function qh(t,e,n){if(e=t5(e),t5(t)!==e&&n)throw Error(ke(425))}function jf(){}var P0=null,I0=null;function T0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var L0=typeof setTimeout=="function"?setTimeout:void 0,ME=typeof clearTimeout=="function"?clearTimeout:void 0,n5=typeof Promise=="function"?Promise:void 0,jE=typeof queueMicrotask=="function"?queueMicrotask:typeof n5<"u"?function(t){return n5.resolve(null).then(t).catch(FE)}:L0;function FE(t){setTimeout(function(){throw t})}function xg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Kc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Kc(e)}function _o(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function r5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mu=Math.random().toString(36).slice(2),qi="__reactFiber$"+mu,ed="__reactProps$"+mu,ks="__reactContainer$"+mu,R0="__reactEvents$"+mu,BE="__reactListeners$"+mu,UE="__reactHandles$"+mu;function ha(t){var e=t[qi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ks]||n[qi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=r5(t);t!==null;){if(n=t[qi])return n;t=r5(t)}return e}t=n,n=t.parentNode}return null}function kd(t){return t=t[qi]||t[ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ke(33))}function Rp(t){return t[ed]||null}var O0=[],Ol=-1;function Wo(t){return{current:t}}function Wt(t){0>Ol||(t.current=O0[Ol],O0[Ol]=null,Ol--)}function Bt(t,e){Ol++,O0[Ol]=t.current,t.current=e}var Ro={},er=Wo(Ro),xr=Wo(!1),Ca=Ro;function eu(t,e){var n=t.type.contextTypes;if(!n)return Ro;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sr(t){return t=t.childContextTypes,t!=null}function Ff(){Wt(xr),Wt(er)}function i5(t,e,n){if(er.current!==Ro)throw Error(ke(168));Bt(er,e),Bt(xr,n)}function Vb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ke(108,NC(t)||"Unknown",i));return Qt({},n,r)}function Bf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ro,Ca=er.current,Bt(er,t),Bt(xr,xr.current),!0}function s5(t,e,n){var r=t.stateNode;if(!r)throw Error(ke(169));n?(t=Vb(t,e,Ca),r.__reactInternalMemoizedMergedChildContext=t,Wt(xr),Wt(er),Bt(er,t)):Wt(xr),Bt(xr,n)}var gs=null,Op=!1,Sg=!1;function Yb(t){gs===null?gs=[t]:gs.push(t)}function zE(t){Op=!0,Yb(t)}function Ho(){if(!Sg&&gs!==null){Sg=!0;var t=0,e=kt;try{var n=gs;for(kt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gs=null,Op=!1}catch(i){throw gs!==null&&(gs=gs.slice(t+1)),yb(av,Ho),i}finally{kt=e,Sg=!1}}return null}var Dl=[],Ml=0,Uf=null,zf=0,Qr=[],Jr=0,Ea=null,vs=1,ys="";function oa(t,e){Dl[Ml++]=zf,Dl[Ml++]=Uf,Uf=t,zf=e}function Gb(t,e,n){Qr[Jr++]=vs,Qr[Jr++]=ys,Qr[Jr++]=Ea,Ea=t;var r=vs;t=ys;var i=32-Ni(r)-1;r&=~(1<<i),n+=1;var s=32-Ni(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,vs=1<<32-Ni(e)+i|n<<i|r,ys=s+t}else vs=1<<s|n<<i|r,ys=t}function gv(t){t.return!==null&&(oa(t,1),Gb(t,1,0))}function vv(t){for(;t===Uf;)Uf=Dl[--Ml],Dl[Ml]=null,zf=Dl[--Ml],Dl[Ml]=null;for(;t===Ea;)Ea=Qr[--Jr],Qr[Jr]=null,ys=Qr[--Jr],Qr[Jr]=null,vs=Qr[--Jr],Qr[Jr]=null}var Fr=null,Dr=null,$t=!1,bi=null;function Kb(t,e){var n=Xr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function o5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fr=t,Dr=_o(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fr=t,Dr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ea!==null?{id:vs,overflow:ys}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fr=t,Dr=null,!0):!1;default:return!1}}function D0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function M0(t){if($t){var e=Dr;if(e){var n=e;if(!o5(t,e)){if(D0(t))throw Error(ke(418));e=_o(n.nextSibling);var r=Fr;e&&o5(t,e)?Kb(r,n):(t.flags=t.flags&-4097|2,$t=!1,Fr=t)}}else{if(D0(t))throw Error(ke(418));t.flags=t.flags&-4097|2,$t=!1,Fr=t}}}function a5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fr=t}function $h(t){if(t!==Fr)return!1;if(!$t)return a5(t),$t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!T0(t.type,t.memoizedProps)),e&&(e=Dr)){if(D0(t))throw Qb(),Error(ke(418));for(;e;)Kb(t,e),e=_o(e.nextSibling)}if(a5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dr=_o(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dr=null}}else Dr=Fr?_o(t.stateNode.nextSibling):null;return!0}function Qb(){for(var t=Dr;t;)t=_o(t.nextSibling)}function tu(){Dr=Fr=null,$t=!1}function yv(t){bi===null?bi=[t]:bi.push(t)}var WE=Os.ReactCurrentBatchConfig;function ac(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ke(309));var r=n.stateNode}if(!r)throw Error(ke(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ke(284));if(!n._owner)throw Error(ke(290,t))}return t}function Vh(t,e){throw t=Object.prototype.toString.call(e),Error(ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function l5(t){var e=t._init;return e(t._payload)}function Jb(t){function e(w,y){if(t){var _=w.deletions;_===null?(w.deletions=[y],w.flags|=16):_.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=No(w,y),w.index=0,w.sibling=null,w}function s(w,y,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<y?(w.flags|=2,y):_):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,_,E){return y===null||y.tag!==6?(y=Ig(_,w.mode,E),y.return=w,y):(y=i(y,_),y.return=w,y)}function l(w,y,_,E){var D=_.type;return D===Pl?f(w,y,_.props.children,E,_.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===to&&l5(D)===y.type)?(E=i(y,_.props),E.ref=ac(w,y,_),E.return=w,E):(E=wf(_.type,_.key,_.props,null,w.mode,E),E.ref=ac(w,y,_),E.return=w,E)}function c(w,y,_,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Tg(_,w.mode,E),y.return=w,y):(y=i(y,_.children||[]),y.return=w,y)}function f(w,y,_,E,D){return y===null||y.tag!==7?(y=ya(_,w.mode,E,D),y.return=w,y):(y=i(y,_),y.return=w,y)}function h(w,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ig(""+y,w.mode,_),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Dh:return _=wf(y.type,y.key,y.props,null,w.mode,_),_.ref=ac(w,null,y),_.return=w,_;case Al:return y=Tg(y,w.mode,_),y.return=w,y;case to:var E=y._init;return h(w,E(y._payload),_)}if(yc(y)||nc(y))return y=ya(y,w.mode,_,null),y.return=w,y;Vh(w,y)}return null}function g(w,y,_,E){var D=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return D!==null?null:a(w,y,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Dh:return _.key===D?l(w,y,_,E):null;case Al:return _.key===D?c(w,y,_,E):null;case to:return D=_._init,g(w,y,D(_._payload),E)}if(yc(_)||nc(_))return D!==null?null:f(w,y,_,E,null);Vh(w,_)}return null}function p(w,y,_,E,D){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(_)||null,a(y,w,""+E,D);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Dh:return w=w.get(E.key===null?_:E.key)||null,l(y,w,E,D);case Al:return w=w.get(E.key===null?_:E.key)||null,c(y,w,E,D);case to:var B=E._init;return p(w,y,_,B(E._payload),D)}if(yc(E)||nc(E))return w=w.get(_)||null,f(y,w,E,D,null);Vh(y,E)}return null}function b(w,y,_,E){for(var D=null,B=null,R=y,P=y=0,q=null;R!==null&&P<_.length;P++){R.index>P?(q=R,R=null):q=R.sibling;var $=g(w,R,_[P],E);if($===null){R===null&&(R=q);break}t&&R&&$.alternate===null&&e(w,R),y=s($,y,P),B===null?D=$:B.sibling=$,B=$,R=q}if(P===_.length)return n(w,R),$t&&oa(w,P),D;if(R===null){for(;P<_.length;P++)R=h(w,_[P],E),R!==null&&(y=s(R,y,P),B===null?D=R:B.sibling=R,B=R);return $t&&oa(w,P),D}for(R=r(w,R);P<_.length;P++)q=p(R,w,P,_[P],E),q!==null&&(t&&q.alternate!==null&&R.delete(q.key===null?P:q.key),y=s(q,y,P),B===null?D=q:B.sibling=q,B=q);return t&&R.forEach(function(A){return e(w,A)}),$t&&oa(w,P),D}function S(w,y,_,E){var D=nc(_);if(typeof D!="function")throw Error(ke(150));if(_=D.call(_),_==null)throw Error(ke(151));for(var B=D=null,R=y,P=y=0,q=null,$=_.next();R!==null&&!$.done;P++,$=_.next()){R.index>P?(q=R,R=null):q=R.sibling;var A=g(w,R,$.value,E);if(A===null){R===null&&(R=q);break}t&&R&&A.alternate===null&&e(w,R),y=s(A,y,P),B===null?D=A:B.sibling=A,B=A,R=q}if($.done)return n(w,R),$t&&oa(w,P),D;if(R===null){for(;!$.done;P++,$=_.next())$=h(w,$.value,E),$!==null&&(y=s($,y,P),B===null?D=$:B.sibling=$,B=$);return $t&&oa(w,P),D}for(R=r(w,R);!$.done;P++,$=_.next())$=p(R,w,P,$.value,E),$!==null&&(t&&$.alternate!==null&&R.delete($.key===null?P:$.key),y=s($,y,P),B===null?D=$:B.sibling=$,B=$);return t&&R.forEach(function(k){return e(w,k)}),$t&&oa(w,P),D}function N(w,y,_,E){if(typeof _=="object"&&_!==null&&_.type===Pl&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Dh:e:{for(var D=_.key,B=y;B!==null;){if(B.key===D){if(D=_.type,D===Pl){if(B.tag===7){n(w,B.sibling),y=i(B,_.props.children),y.return=w,w=y;break e}}else if(B.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===to&&l5(D)===B.type){n(w,B.sibling),y=i(B,_.props),y.ref=ac(w,B,_),y.return=w,w=y;break e}n(w,B);break}else e(w,B);B=B.sibling}_.type===Pl?(y=ya(_.props.children,w.mode,E,_.key),y.return=w,w=y):(E=wf(_.type,_.key,_.props,null,w.mode,E),E.ref=ac(w,y,_),E.return=w,w=E)}return o(w);case Al:e:{for(B=_.key;y!==null;){if(y.key===B)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(w,y.sibling),y=i(y,_.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=Tg(_,w.mode,E),y.return=w,w=y}return o(w);case to:return B=_._init,N(w,y,B(_._payload),E)}if(yc(_))return b(w,y,_,E);if(nc(_))return S(w,y,_,E);Vh(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,_),y.return=w,w=y):(n(w,y),y=Ig(_,w.mode,E),y.return=w,w=y),o(w)):n(w,y)}return N}var nu=Jb(!0),Xb=Jb(!1),Wf=Wo(null),Hf=null,jl=null,wv=null;function _v(){wv=jl=Hf=null}function bv(t){var e=Wf.current;Wt(Wf),t._currentValue=e}function j0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vl(t,e){Hf=t,wv=jl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_r=!0),t.firstContext=null)}function ti(t){var e=t._currentValue;if(wv!==t)if(t={context:t,memoizedValue:e,next:null},jl===null){if(Hf===null)throw Error(ke(308));jl=t,Hf.dependencies={lanes:0,firstContext:t}}else jl=jl.next=t;return e}var fa=null;function xv(t){fa===null?fa=[t]:fa.push(t)}function Zb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xv(e)):(n.next=i.next,i.next=n),e.interleaved=n,As(t,r)}function As(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var no=!1;function Sv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ex(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,vt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,As(t,n)}return i=r.interleaved,i===null?(e.next=e,xv(r)):(e.next=i.next,i.next=e),r.interleaved=e,As(t,n)}function ff(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lv(t,n)}}function u5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qf(t,e,n,r){var i=t.updateQueue;no=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,f=c=l=null,a=s;do{var g=a.lane,p=a.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,S=a;switch(g=e,p=n,S.tag){case 1:if(b=S.payload,typeof b=="function"){h=b.call(p,h,g);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=S.payload,g=typeof b=="function"?b.call(p,h,g):b,g==null)break e;h=Qt({},h,g);break e;case 2:no=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else p={eventTime:p,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=p,l=h):f=f.next=p,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Aa|=o,t.lanes=o,t.memoizedState=h}}function c5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ke(191,i));i.call(r)}}}var Ad={},Ki=Wo(Ad),td=Wo(Ad),nd=Wo(Ad);function pa(t){if(t===Ad)throw Error(ke(174));return t}function Nv(t,e){switch(Bt(nd,e),Bt(td,t),Bt(Ki,Ad),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:v0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=v0(e,t)}Wt(Ki),Bt(Ki,e)}function ru(){Wt(Ki),Wt(td),Wt(nd)}function tx(t){pa(nd.current);var e=pa(Ki.current),n=v0(e,t.type);e!==n&&(Bt(td,t),Bt(Ki,n))}function Cv(t){td.current===t&&(Wt(Ki),Wt(td))}var Yt=Wo(0);function $f(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ng=[];function Ev(){for(var t=0;t<Ng.length;t++)Ng[t]._workInProgressVersionPrimary=null;Ng.length=0}var pf=Os.ReactCurrentDispatcher,Cg=Os.ReactCurrentBatchConfig,ka=0,Kt=null,bn=null,Tn=null,Vf=!1,Pc=!1,rd=0,HE=0;function Vn(){throw Error(ke(321))}function kv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ki(t[n],e[n]))return!1;return!0}function Av(t,e,n,r,i,s){if(ka=s,Kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pf.current=t===null||t.memoizedState===null?YE:GE,t=n(r,i),Pc){s=0;do{if(Pc=!1,rd=0,25<=s)throw Error(ke(301));s+=1,Tn=bn=null,e.updateQueue=null,pf.current=KE,t=n(r,i)}while(Pc)}if(pf.current=Yf,e=bn!==null&&bn.next!==null,ka=0,Tn=bn=Kt=null,Vf=!1,e)throw Error(ke(300));return t}function Pv(){var t=rd!==0;return rd=0,t}function Hi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Kt.memoizedState=Tn=t:Tn=Tn.next=t,Tn}function ni(){if(bn===null){var t=Kt.alternate;t=t!==null?t.memoizedState:null}else t=bn.next;var e=Tn===null?Kt.memoizedState:Tn.next;if(e!==null)Tn=e,bn=t;else{if(t===null)throw Error(ke(310));bn=t,t={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Tn===null?Kt.memoizedState=Tn=t:Tn=Tn.next=t}return Tn}function id(t,e){return typeof e=="function"?e(t):e}function Eg(t){var e=ni(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var r=bn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var f=c.lane;if((ka&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Kt.lanes|=f,Aa|=f}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ki(r,e.memoizedState)||(_r=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Kt.lanes|=s,Aa|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kg(t){var e=ni(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ki(s,e.memoizedState)||(_r=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function nx(){}function rx(t,e){var n=Kt,r=ni(),i=e(),s=!ki(r.memoizedState,i);if(s&&(r.memoizedState=i,_r=!0),r=r.queue,Iv(ox.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Tn!==null&&Tn.memoizedState.tag&1){if(n.flags|=2048,sd(9,sx.bind(null,n,r,i,e),void 0,null),Rn===null)throw Error(ke(349));ka&30||ix(n,e,i)}return i}function ix(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sx(t,e,n,r){e.value=n,e.getSnapshot=r,ax(e)&&lx(t)}function ox(t,e,n){return n(function(){ax(e)&&lx(t)})}function ax(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ki(t,n)}catch{return!0}}function lx(t){var e=As(t,1);e!==null&&Ci(e,t,1,-1)}function d5(t){var e=Hi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:t},e.queue=t,t=t.dispatch=VE.bind(null,Kt,t),[e.memoizedState,t]}function sd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ux(){return ni().memoizedState}function mf(t,e,n,r){var i=Hi();Kt.flags|=t,i.memoizedState=sd(1|e,n,void 0,r===void 0?null:r)}function Dp(t,e,n,r){var i=ni();r=r===void 0?null:r;var s=void 0;if(bn!==null){var o=bn.memoizedState;if(s=o.destroy,r!==null&&kv(r,o.deps)){i.memoizedState=sd(e,n,s,r);return}}Kt.flags|=t,i.memoizedState=sd(1|e,n,s,r)}function h5(t,e){return mf(8390656,8,t,e)}function Iv(t,e){return Dp(2048,8,t,e)}function cx(t,e){return Dp(4,2,t,e)}function dx(t,e){return Dp(4,4,t,e)}function hx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fx(t,e,n){return n=n!=null?n.concat([t]):null,Dp(4,4,hx.bind(null,e,t),n)}function Tv(){}function px(t,e){var n=ni();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mx(t,e){var n=ni();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gx(t,e,n){return ka&21?(ki(n,e)||(n=bb(),Kt.lanes|=n,Aa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_r=!0),t.memoizedState=n)}function qE(t,e){var n=kt;kt=n!==0&&4>n?n:4,t(!0);var r=Cg.transition;Cg.transition={};try{t(!1),e()}finally{kt=n,Cg.transition=r}}function vx(){return ni().memoizedState}function $E(t,e,n){var r=So(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yx(t))wx(e,n);else if(n=Zb(t,e,n,r),n!==null){var i=lr();Ci(n,t,r,i),_x(n,e,r)}}function VE(t,e,n){var r=So(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yx(t))wx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ki(a,o)){var l=e.interleaved;l===null?(i.next=i,xv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Zb(t,e,i,r),n!==null&&(i=lr(),Ci(n,t,r,i),_x(n,e,r))}}function yx(t){var e=t.alternate;return t===Kt||e!==null&&e===Kt}function wx(t,e){Pc=Vf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _x(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lv(t,n)}}var Yf={readContext:ti,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},YE={readContext:ti,useCallback:function(t,e){return Hi().memoizedState=[t,e===void 0?null:e],t},useContext:ti,useEffect:h5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mf(4194308,4,hx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mf(4194308,4,t,e)},useInsertionEffect:function(t,e){return mf(4,2,t,e)},useMemo:function(t,e){var n=Hi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$E.bind(null,Kt,t),[r.memoizedState,t]},useRef:function(t){var e=Hi();return t={current:t},e.memoizedState=t},useState:d5,useDebugValue:Tv,useDeferredValue:function(t){return Hi().memoizedState=t},useTransition:function(){var t=d5(!1),e=t[0];return t=qE.bind(null,t[1]),Hi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Kt,i=Hi();if($t){if(n===void 0)throw Error(ke(407));n=n()}else{if(n=e(),Rn===null)throw Error(ke(349));ka&30||ix(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,h5(ox.bind(null,r,s,t),[t]),r.flags|=2048,sd(9,sx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Hi(),e=Rn.identifierPrefix;if($t){var n=ys,r=vs;n=(r&~(1<<32-Ni(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GE={readContext:ti,useCallback:px,useContext:ti,useEffect:Iv,useImperativeHandle:fx,useInsertionEffect:cx,useLayoutEffect:dx,useMemo:mx,useReducer:Eg,useRef:ux,useState:function(){return Eg(id)},useDebugValue:Tv,useDeferredValue:function(t){var e=ni();return gx(e,bn.memoizedState,t)},useTransition:function(){var t=Eg(id)[0],e=ni().memoizedState;return[t,e]},useMutableSource:nx,useSyncExternalStore:rx,useId:vx,unstable_isNewReconciler:!1},KE={readContext:ti,useCallback:px,useContext:ti,useEffect:Iv,useImperativeHandle:fx,useInsertionEffect:cx,useLayoutEffect:dx,useMemo:mx,useReducer:kg,useRef:ux,useState:function(){return kg(id)},useDebugValue:Tv,useDeferredValue:function(t){var e=ni();return bn===null?e.memoizedState=t:gx(e,bn.memoizedState,t)},useTransition:function(){var t=kg(id)[0],e=ni().memoizedState;return[t,e]},useMutableSource:nx,useSyncExternalStore:rx,useId:vx,unstable_isNewReconciler:!1};function yi(t,e){if(t&&t.defaultProps){e=Qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function F0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mp={isMounted:function(t){return(t=t._reactInternals)?Ma(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=lr(),i=So(t),s=Ns(r,i);s.payload=e,n!=null&&(s.callback=n),e=bo(t,s,i),e!==null&&(Ci(e,t,i,r),ff(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=lr(),i=So(t),s=Ns(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=bo(t,s,i),e!==null&&(Ci(e,t,i,r),ff(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lr(),r=So(t),i=Ns(n,r);i.tag=2,e!=null&&(i.callback=e),e=bo(t,i,r),e!==null&&(Ci(e,t,r,n),ff(e,t,r))}};function f5(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Jc(n,r)||!Jc(i,s):!0}function bx(t,e,n){var r=!1,i=Ro,s=e.contextType;return typeof s=="object"&&s!==null?s=ti(s):(i=Sr(e)?Ca:er.current,r=e.contextTypes,s=(r=r!=null)?eu(t,i):Ro),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function p5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mp.enqueueReplaceState(e,e.state,null)}function B0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Sv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ti(s):(s=Sr(e)?Ca:er.current,i.context=eu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(F0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Mp.enqueueReplaceState(i,i.state,null),qf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function iu(t,e){try{var n="",r=e;do n+=SC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ag(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function U0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var QE=typeof WeakMap=="function"?WeakMap:Map;function xx(t,e,n){n=Ns(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kf||(Kf=!0,Q0=r),U0(t,e)},n}function Sx(t,e,n){n=Ns(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){U0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){U0(t,e),typeof r!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function m5(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new QE;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=c6.bind(null,t,e,n),e.then(t,t))}function g5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function v5(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ns(-1,1),e.tag=2,bo(n,e,1))),n.lanes|=1),t)}var JE=Os.ReactCurrentOwner,_r=!1;function sr(t,e,n,r){e.child=t===null?Xb(e,null,n,r):nu(e,t.child,n,r)}function y5(t,e,n,r,i){n=n.render;var s=e.ref;return Vl(e,i),r=Av(t,e,n,r,s,i),n=Pv(),t!==null&&!_r?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ps(t,e,i)):($t&&n&&gv(e),e.flags|=1,sr(t,e,r,i),e.child)}function w5(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Bv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Nx(t,e,s,r,i)):(t=wf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Jc,n(o,r)&&t.ref===e.ref)return Ps(t,e,i)}return e.flags|=1,t=No(s,r),t.ref=e.ref,t.return=e,e.child=t}function Nx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Jc(s,r)&&t.ref===e.ref)if(_r=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(_r=!0);else return e.lanes=t.lanes,Ps(t,e,i)}return z0(t,e,n,r,i)}function Cx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(Bl,Tr),Tr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Bt(Bl,Tr),Tr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Bt(Bl,Tr),Tr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Bt(Bl,Tr),Tr|=r;return sr(t,e,i,n),e.child}function Ex(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function z0(t,e,n,r,i){var s=Sr(n)?Ca:er.current;return s=eu(e,s),Vl(e,i),n=Av(t,e,n,r,s,i),r=Pv(),t!==null&&!_r?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ps(t,e,i)):($t&&r&&gv(e),e.flags|=1,sr(t,e,n,i),e.child)}function _5(t,e,n,r,i){if(Sr(n)){var s=!0;Bf(e)}else s=!1;if(Vl(e,i),e.stateNode===null)gf(t,e),bx(e,n,r),B0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ti(c):(c=Sr(n)?Ca:er.current,c=eu(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&p5(e,o,r,c),no=!1;var g=e.memoizedState;o.state=g,qf(e,r,o,i),l=e.memoizedState,a!==r||g!==l||xr.current||no?(typeof f=="function"&&(F0(e,n,f,r),l=e.memoizedState),(a=no||f5(e,n,a,r,g,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ex(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:yi(e.type,a),o.props=c,h=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ti(l):(l=Sr(n)?Ca:er.current,l=eu(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||g!==l)&&p5(e,o,r,l),no=!1,g=e.memoizedState,o.state=g,qf(e,r,o,i);var b=e.memoizedState;a!==h||g!==b||xr.current||no?(typeof p=="function"&&(F0(e,n,p,r),b=e.memoizedState),(c=no||f5(e,n,c,r,g,b,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return W0(t,e,n,r,s,i)}function W0(t,e,n,r,i,s){Ex(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&s5(e,n,!1),Ps(t,e,s);r=e.stateNode,JE.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=nu(e,t.child,null,s),e.child=nu(e,null,a,s)):sr(t,e,a,s),e.memoizedState=r.state,i&&s5(e,n,!0),e.child}function kx(t){var e=t.stateNode;e.pendingContext?i5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&i5(t,e.context,!1),Nv(t,e.containerInfo)}function b5(t,e,n,r,i){return tu(),yv(i),e.flags|=256,sr(t,e,n,r),e.child}var H0={dehydrated:null,treeContext:null,retryLane:0};function q0(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ax(t,e,n){var r=e.pendingProps,i=Yt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Bt(Yt,i&1),t===null)return M0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bp(o,r,0,null),t=ya(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=q0(n),e.memoizedState=H0,t):Lv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return XE(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=No(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=No(a,s):(s=ya(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?q0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=H0,r}return s=t.child,t=s.sibling,r=No(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Lv(t,e){return e=Bp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yh(t,e,n,r){return r!==null&&yv(r),nu(e,t.child,null,n),t=Lv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XE(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ag(Error(ke(422))),Yh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bp({mode:"visible",children:r.children},i,0,null),s=ya(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&nu(e,t.child,null,o),e.child.memoizedState=q0(o),e.memoizedState=H0,s);if(!(e.mode&1))return Yh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ke(419)),r=Ag(s,r,void 0),Yh(t,e,o,r)}if(a=(o&t.childLanes)!==0,_r||a){if(r=Rn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,As(t,i),Ci(r,t,i,-1))}return Fv(),r=Ag(Error(ke(421))),Yh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=d6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dr=_o(i.nextSibling),Fr=e,$t=!0,bi=null,t!==null&&(Qr[Jr++]=vs,Qr[Jr++]=ys,Qr[Jr++]=Ea,vs=t.id,ys=t.overflow,Ea=e),e=Lv(e,r.children),e.flags|=4096,e)}function x5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),j0(t.return,e,n)}function Pg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Px(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(sr(t,e,r.children,n),r=Yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&x5(t,n,e);else if(t.tag===19)x5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Bt(Yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$f(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Pg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$f(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Pg(e,!0,n,null,s);break;case"together":Pg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ps(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Aa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ke(153));if(e.child!==null){for(t=e.child,n=No(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=No(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZE(t,e,n){switch(e.tag){case 3:kx(e),tu();break;case 5:tx(e);break;case 1:Sr(e.type)&&Bf(e);break;case 4:Nv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Bt(Wf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Bt(Yt,Yt.current&1),e.flags|=128,null):n&e.child.childLanes?Ax(t,e,n):(Bt(Yt,Yt.current&1),t=Ps(t,e,n),t!==null?t.sibling:null);Bt(Yt,Yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Px(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Bt(Yt,Yt.current),r)break;return null;case 22:case 23:return e.lanes=0,Cx(t,e,n)}return Ps(t,e,n)}var Ix,$0,Tx,Lx;Ix=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$0=function(){};Tx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,pa(Ki.current);var s=null;switch(n){case"input":i=f0(t,i),r=f0(t,r),s=[];break;case"select":i=Qt({},i,{value:void 0}),r=Qt({},r,{value:void 0}),s=[];break;case"textarea":i=g0(t,i),r=g0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jf)}y0(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ut("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Lx=function(t,e,n,r){n!==r&&(e.flags|=4)};function lc(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function e6(t,e,n){var r=e.pendingProps;switch(vv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(e),null;case 1:return Sr(e.type)&&Ff(),Yn(e),null;case 3:return r=e.stateNode,ru(),Wt(xr),Wt(er),Ev(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($h(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bi!==null&&(Z0(bi),bi=null))),$0(t,e),Yn(e),null;case 5:Cv(e);var i=pa(nd.current);if(n=e.type,t!==null&&e.stateNode!=null)Tx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ke(166));return Yn(e),null}if(t=pa(Ki.current),$h(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qi]=e,r[ed]=s,t=(e.mode&1)!==0,n){case"dialog":Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":case"embed":Ut("load",r);break;case"video":case"audio":for(i=0;i<_c.length;i++)Ut(_c[i],r);break;case"source":Ut("error",r);break;case"img":case"image":case"link":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"input":Ty(r,s),Ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ut("invalid",r);break;case"textarea":Ry(r,s),Ut("invalid",r)}y0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&qh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&qh(r.textContent,a,t),i=["children",""+a]):qc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ut("scroll",r)}switch(n){case"input":Mh(r),Ly(r,s,!0);break;case"textarea":Mh(r),Oy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=jf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ob(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qi]=e,t[ed]=r,Ix(t,e,!1,!1),e.stateNode=t;e:{switch(o=w0(n,r),n){case"dialog":Ut("cancel",t),Ut("close",t),i=r;break;case"iframe":case"object":case"embed":Ut("load",t),i=r;break;case"video":case"audio":for(i=0;i<_c.length;i++)Ut(_c[i],t);i=r;break;case"source":Ut("error",t),i=r;break;case"img":case"image":case"link":Ut("error",t),Ut("load",t),i=r;break;case"details":Ut("toggle",t),i=r;break;case"input":Ty(t,r),i=f0(t,r),Ut("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qt({},r,{value:void 0}),Ut("invalid",t);break;case"textarea":Ry(t,r),i=g0(t,r),Ut("invalid",t);break;default:i=r}y0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ub(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ab(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$c(t,l):typeof l=="number"&&$c(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ut("scroll",t):l!=null&&nv(t,s,l,o))}switch(n){case"input":Mh(t),Ly(t,r,!1);break;case"textarea":Mh(t),Oy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Wl(t,!!r.multiple,s,!1):r.defaultValue!=null&&Wl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yn(e),null;case 6:if(t&&e.stateNode!=null)Lx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ke(166));if(n=pa(nd.current),pa(Ki.current),$h(e)){if(r=e.stateNode,n=e.memoizedProps,r[qi]=e,(s=r.nodeValue!==n)&&(t=Fr,t!==null))switch(t.tag){case 3:qh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qi]=e,e.stateNode=r}return Yn(e),null;case 13:if(Wt(Yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($t&&Dr!==null&&e.mode&1&&!(e.flags&128))Qb(),tu(),e.flags|=98560,s=!1;else if(s=$h(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ke(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ke(317));s[qi]=e}else tu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yn(e),s=!1}else bi!==null&&(Z0(bi),bi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Yt.current&1?Cn===0&&(Cn=3):Fv())),e.updateQueue!==null&&(e.flags|=4),Yn(e),null);case 4:return ru(),$0(t,e),t===null&&Xc(e.stateNode.containerInfo),Yn(e),null;case 10:return bv(e.type._context),Yn(e),null;case 17:return Sr(e.type)&&Ff(),Yn(e),null;case 19:if(Wt(Yt),s=e.memoizedState,s===null)return Yn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)lc(s,!1);else{if(Cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$f(t),o!==null){for(e.flags|=128,lc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Bt(Yt,Yt.current&1|2),e.child}t=t.sibling}s.tail!==null&&un()>su&&(e.flags|=128,r=!0,lc(s,!1),e.lanes=4194304)}else{if(!r)if(t=$f(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),lc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$t)return Yn(e),null}else 2*un()-s.renderingStartTime>su&&n!==1073741824&&(e.flags|=128,r=!0,lc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=un(),e.sibling=null,n=Yt.current,Bt(Yt,r?n&1|2:n&1),e):(Yn(e),null);case 22:case 23:return jv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tr&1073741824&&(Yn(e),e.subtreeFlags&6&&(e.flags|=8192)):Yn(e),null;case 24:return null;case 25:return null}throw Error(ke(156,e.tag))}function t6(t,e){switch(vv(e),e.tag){case 1:return Sr(e.type)&&Ff(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ru(),Wt(xr),Wt(er),Ev(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cv(e),null;case 13:if(Wt(Yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ke(340));tu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Wt(Yt),null;case 4:return ru(),null;case 10:return bv(e.type._context),null;case 22:case 23:return jv(),null;case 24:return null;default:return null}}var Gh=!1,Xn=!1,n6=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Fl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nn(t,e,r)}else n.current=null}function V0(t,e,n){try{n()}catch(r){nn(t,e,r)}}var S5=!1;function r6(t,e){if(P0=Of,t=jb(),mv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,h=t,g=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)g=h,h=p;for(;;){if(h===t)break t;if(g===n&&++c===i&&(a=o),g===s&&++f===r&&(l=o),(p=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(I0={focusedElem:t,selectionRange:n},Of=!1,Be=e;Be!==null;)if(e=Be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Be=t;else for(;Be!==null;){e=Be;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var S=b.memoizedProps,N=b.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?S:yi(e.type,S),N);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(E){nn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Be=t;break}Be=e.return}return b=S5,S5=!1,b}function Ic(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&V0(e,n,s)}i=i.next}while(i!==r)}}function jp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Y0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Rx(t){var e=t.alternate;e!==null&&(t.alternate=null,Rx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qi],delete e[ed],delete e[R0],delete e[BE],delete e[UE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ox(t){return t.tag===5||t.tag===3||t.tag===4}function N5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ox(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function G0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jf));else if(r!==4&&(t=t.child,t!==null))for(G0(t,e,n),t=t.sibling;t!==null;)G0(t,e,n),t=t.sibling}function K0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(K0(t,e,n),t=t.sibling;t!==null;)K0(t,e,n),t=t.sibling}var jn=null,_i=!1;function Qs(t,e,n){for(n=n.child;n!==null;)Dx(t,e,n),n=n.sibling}function Dx(t,e,n){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(Pp,n)}catch{}switch(n.tag){case 5:Xn||Fl(n,e);case 6:var r=jn,i=_i;jn=null,Qs(t,e,n),jn=r,_i=i,jn!==null&&(_i?(t=jn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jn.removeChild(n.stateNode));break;case 18:jn!==null&&(_i?(t=jn,n=n.stateNode,t.nodeType===8?xg(t.parentNode,n):t.nodeType===1&&xg(t,n),Kc(t)):xg(jn,n.stateNode));break;case 4:r=jn,i=_i,jn=n.stateNode.containerInfo,_i=!0,Qs(t,e,n),jn=r,_i=i;break;case 0:case 11:case 14:case 15:if(!Xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&V0(n,e,o),i=i.next}while(i!==r)}Qs(t,e,n);break;case 1:if(!Xn&&(Fl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nn(n,e,a)}Qs(t,e,n);break;case 21:Qs(t,e,n);break;case 22:n.mode&1?(Xn=(r=Xn)||n.memoizedState!==null,Qs(t,e,n),Xn=r):Qs(t,e,n);break;default:Qs(t,e,n)}}function C5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new n6),e.forEach(function(r){var i=h6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:jn=a.stateNode,_i=!1;break e;case 3:jn=a.stateNode.containerInfo,_i=!0;break e;case 4:jn=a.stateNode.containerInfo,_i=!0;break e}a=a.return}if(jn===null)throw Error(ke(160));Dx(s,o,i),jn=null,_i=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){nn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Mx(e,t),e=e.sibling}function Mx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mi(e,t),zi(t),r&4){try{Ic(3,t,t.return),jp(3,t)}catch(S){nn(t,t.return,S)}try{Ic(5,t,t.return)}catch(S){nn(t,t.return,S)}}break;case 1:mi(e,t),zi(t),r&512&&n!==null&&Fl(n,n.return);break;case 5:if(mi(e,t),zi(t),r&512&&n!==null&&Fl(n,n.return),t.flags&32){var i=t.stateNode;try{$c(i,"")}catch(S){nn(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ib(i,s),w0(a,o);var c=w0(a,s);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?ub(i,h):f==="dangerouslySetInnerHTML"?ab(i,h):f==="children"?$c(i,h):nv(i,f,h,c)}switch(a){case"input":p0(i,s);break;case"textarea":sb(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Wl(i,!!s.multiple,p,!1):g!==!!s.multiple&&(s.defaultValue!=null?Wl(i,!!s.multiple,s.defaultValue,!0):Wl(i,!!s.multiple,s.multiple?[]:"",!1))}i[ed]=s}catch(S){nn(t,t.return,S)}}break;case 6:if(mi(e,t),zi(t),r&4){if(t.stateNode===null)throw Error(ke(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){nn(t,t.return,S)}}break;case 3:if(mi(e,t),zi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kc(e.containerInfo)}catch(S){nn(t,t.return,S)}break;case 4:mi(e,t),zi(t);break;case 13:mi(e,t),zi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Dv=un())),r&4&&C5(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Xn=(c=Xn)||f,mi(e,t),Xn=c):mi(e,t),zi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(Be=t,f=t.child;f!==null;){for(h=Be=f;Be!==null;){switch(g=Be,p=g.child,g.tag){case 0:case 11:case 14:case 15:Ic(4,g,g.return);break;case 1:Fl(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(S){nn(r,n,S)}}break;case 5:Fl(g,g.return);break;case 22:if(g.memoizedState!==null){k5(h);continue}}p!==null?(p.return=g,Be=p):k5(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lb("display",o))}catch(S){nn(t,t.return,S)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){nn(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mi(e,t),zi(t),r&4&&C5(t);break;case 21:break;default:mi(e,t),zi(t)}}function zi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ox(n)){var r=n;break e}n=n.return}throw Error(ke(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($c(i,""),r.flags&=-33);var s=N5(t);K0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=N5(t);G0(t,a,o);break;default:throw Error(ke(161))}}catch(l){nn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function i6(t,e,n){Be=t,jx(t)}function jx(t,e,n){for(var r=(t.mode&1)!==0;Be!==null;){var i=Be,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Gh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Xn;a=Gh;var c=Xn;if(Gh=o,(Xn=l)&&!c)for(Be=i;Be!==null;)o=Be,l=o.child,o.tag===22&&o.memoizedState!==null?A5(i):l!==null?(l.return=o,Be=l):A5(i);for(;s!==null;)Be=s,jx(s),s=s.sibling;Be=i,Gh=a,Xn=c}E5(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Be=s):E5(t)}}function E5(t){for(;Be!==null;){var e=Be;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xn||jp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&c5(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}c5(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Kc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}Xn||e.flags&512&&Y0(e)}catch(g){nn(e,e.return,g)}}if(e===t){Be=null;break}if(n=e.sibling,n!==null){n.return=e.return,Be=n;break}Be=e.return}}function k5(t){for(;Be!==null;){var e=Be;if(e===t){Be=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Be=n;break}Be=e.return}}function A5(t){for(;Be!==null;){var e=Be;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jp(4,e)}catch(l){nn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){nn(e,i,l)}}var s=e.return;try{Y0(e)}catch(l){nn(e,s,l)}break;case 5:var o=e.return;try{Y0(e)}catch(l){nn(e,o,l)}}}catch(l){nn(e,e.return,l)}if(e===t){Be=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Be=a;break}Be=e.return}}var s6=Math.ceil,Gf=Os.ReactCurrentDispatcher,Rv=Os.ReactCurrentOwner,ei=Os.ReactCurrentBatchConfig,vt=0,Rn=null,vn=null,Bn=0,Tr=0,Bl=Wo(0),Cn=0,od=null,Aa=0,Fp=0,Ov=0,Tc=null,wr=null,Dv=0,su=1/0,ms=null,Kf=!1,Q0=null,xo=null,Kh=!1,fo=null,Qf=0,Lc=0,J0=null,vf=-1,yf=0;function lr(){return vt&6?un():vf!==-1?vf:vf=un()}function So(t){return t.mode&1?vt&2&&Bn!==0?Bn&-Bn:WE.transition!==null?(yf===0&&(yf=bb()),yf):(t=kt,t!==0||(t=window.event,t=t===void 0?16:Ab(t.type)),t):1}function Ci(t,e,n,r){if(50<Lc)throw Lc=0,J0=null,Error(ke(185));Cd(t,n,r),(!(vt&2)||t!==Rn)&&(t===Rn&&(!(vt&2)&&(Fp|=n),Cn===4&&io(t,Bn)),Nr(t,r),n===1&&vt===0&&!(e.mode&1)&&(su=un()+500,Op&&Ho()))}function Nr(t,e){var n=t.callbackNode;WC(t,e);var r=Rf(t,t===Rn?Bn:0);if(r===0)n!==null&&jy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jy(n),e===1)t.tag===0?zE(P5.bind(null,t)):Yb(P5.bind(null,t)),jE(function(){!(vt&6)&&Ho()}),n=null;else{switch(xb(r)){case 1:n=av;break;case 4:n=wb;break;case 16:n=Lf;break;case 536870912:n=_b;break;default:n=Lf}n=$x(n,Fx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Fx(t,e){if(vf=-1,yf=0,vt&6)throw Error(ke(327));var n=t.callbackNode;if(Yl()&&t.callbackNode!==n)return null;var r=Rf(t,t===Rn?Bn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jf(t,r);else{e=r;var i=vt;vt|=2;var s=Ux();(Rn!==t||Bn!==e)&&(ms=null,su=un()+500,va(t,e));do try{l6();break}catch(a){Bx(t,a)}while(!0);_v(),Gf.current=s,vt=i,vn!==null?e=0:(Rn=null,Bn=0,e=Cn)}if(e!==0){if(e===2&&(i=N0(t),i!==0&&(r=i,e=X0(t,i))),e===1)throw n=od,va(t,0),io(t,r),Nr(t,un()),n;if(e===6)io(t,r);else{if(i=t.current.alternate,!(r&30)&&!o6(i)&&(e=Jf(t,r),e===2&&(s=N0(t),s!==0&&(r=s,e=X0(t,s))),e===1))throw n=od,va(t,0),io(t,r),Nr(t,un()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ke(345));case 2:aa(t,wr,ms);break;case 3:if(io(t,r),(r&130023424)===r&&(e=Dv+500-un(),10<e)){if(Rf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){lr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=L0(aa.bind(null,t,wr,ms),e);break}aa(t,wr,ms);break;case 4:if(io(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ni(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=un()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*s6(r/1960))-r,10<r){t.timeoutHandle=L0(aa.bind(null,t,wr,ms),r);break}aa(t,wr,ms);break;case 5:aa(t,wr,ms);break;default:throw Error(ke(329))}}}return Nr(t,un()),t.callbackNode===n?Fx.bind(null,t):null}function X0(t,e){var n=Tc;return t.current.memoizedState.isDehydrated&&(va(t,e).flags|=256),t=Jf(t,e),t!==2&&(e=wr,wr=n,e!==null&&Z0(e)),t}function Z0(t){wr===null?wr=t:wr.push.apply(wr,t)}function o6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ki(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function io(t,e){for(e&=~Ov,e&=~Fp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ni(e),r=1<<n;t[n]=-1,e&=~r}}function P5(t){if(vt&6)throw Error(ke(327));Yl();var e=Rf(t,0);if(!(e&1))return Nr(t,un()),null;var n=Jf(t,e);if(t.tag!==0&&n===2){var r=N0(t);r!==0&&(e=r,n=X0(t,r))}if(n===1)throw n=od,va(t,0),io(t,e),Nr(t,un()),n;if(n===6)throw Error(ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,aa(t,wr,ms),Nr(t,un()),null}function Mv(t,e){var n=vt;vt|=1;try{return t(e)}finally{vt=n,vt===0&&(su=un()+500,Op&&Ho())}}function Pa(t){fo!==null&&fo.tag===0&&!(vt&6)&&Yl();var e=vt;vt|=1;var n=ei.transition,r=kt;try{if(ei.transition=null,kt=1,t)return t()}finally{kt=r,ei.transition=n,vt=e,!(vt&6)&&Ho()}}function jv(){Tr=Bl.current,Wt(Bl)}function va(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ME(n)),vn!==null)for(n=vn.return;n!==null;){var r=n;switch(vv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ff();break;case 3:ru(),Wt(xr),Wt(er),Ev();break;case 5:Cv(r);break;case 4:ru();break;case 13:Wt(Yt);break;case 19:Wt(Yt);break;case 10:bv(r.type._context);break;case 22:case 23:jv()}n=n.return}if(Rn=t,vn=t=No(t.current,null),Bn=Tr=e,Cn=0,od=null,Ov=Fp=Aa=0,wr=Tc=null,fa!==null){for(e=0;e<fa.length;e++)if(n=fa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}fa=null}return t}function Bx(t,e){do{var n=vn;try{if(_v(),pf.current=Yf,Vf){for(var r=Kt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vf=!1}if(ka=0,Tn=bn=Kt=null,Pc=!1,rd=0,Rv.current=null,n===null||n.return===null){Cn=1,od=e,vn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Bn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=g5(o);if(p!==null){p.flags&=-257,v5(p,o,a,s,e),p.mode&1&&m5(s,c,e),e=p,l=c;var b=e.updateQueue;if(b===null){var S=new Set;S.add(l),e.updateQueue=S}else b.add(l);break e}else{if(!(e&1)){m5(s,c,e),Fv();break e}l=Error(ke(426))}}else if($t&&a.mode&1){var N=g5(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),v5(N,o,a,s,e),yv(iu(l,a));break e}}s=l=iu(l,a),Cn!==4&&(Cn=2),Tc===null?Tc=[s]:Tc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=xx(s,l,e);u5(s,w);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(xo===null||!xo.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Sx(s,a,e);u5(s,E);break e}}s=s.return}while(s!==null)}Wx(n)}catch(D){e=D,vn===n&&n!==null&&(vn=n=n.return);continue}break}while(!0)}function Ux(){var t=Gf.current;return Gf.current=Yf,t===null?Yf:t}function Fv(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),Rn===null||!(Aa&268435455)&&!(Fp&268435455)||io(Rn,Bn)}function Jf(t,e){var n=vt;vt|=2;var r=Ux();(Rn!==t||Bn!==e)&&(ms=null,va(t,e));do try{a6();break}catch(i){Bx(t,i)}while(!0);if(_v(),vt=n,Gf.current=r,vn!==null)throw Error(ke(261));return Rn=null,Bn=0,Cn}function a6(){for(;vn!==null;)zx(vn)}function l6(){for(;vn!==null&&!RC();)zx(vn)}function zx(t){var e=qx(t.alternate,t,Tr);t.memoizedProps=t.pendingProps,e===null?Wx(t):vn=e,Rv.current=null}function Wx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=t6(n,e),n!==null){n.flags&=32767,vn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Cn=6,vn=null;return}}else if(n=e6(n,e,Tr),n!==null){vn=n;return}if(e=e.sibling,e!==null){vn=e;return}vn=e=t}while(e!==null);Cn===0&&(Cn=5)}function aa(t,e,n){var r=kt,i=ei.transition;try{ei.transition=null,kt=1,u6(t,e,n,r)}finally{ei.transition=i,kt=r}return null}function u6(t,e,n,r){do Yl();while(fo!==null);if(vt&6)throw Error(ke(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ke(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(HC(t,s),t===Rn&&(vn=Rn=null,Bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kh||(Kh=!0,$x(Lf,function(){return Yl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ei.transition,ei.transition=null;var o=kt;kt=1;var a=vt;vt|=4,Rv.current=null,r6(t,n),Mx(n,t),PE(I0),Of=!!P0,I0=P0=null,t.current=n,i6(n),OC(),vt=a,kt=o,ei.transition=s}else t.current=n;if(Kh&&(Kh=!1,fo=t,Qf=i),s=t.pendingLanes,s===0&&(xo=null),jC(n.stateNode),Nr(t,un()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kf)throw Kf=!1,t=Q0,Q0=null,t;return Qf&1&&t.tag!==0&&Yl(),s=t.pendingLanes,s&1?t===J0?Lc++:(Lc=0,J0=t):Lc=0,Ho(),null}function Yl(){if(fo!==null){var t=xb(Qf),e=ei.transition,n=kt;try{if(ei.transition=null,kt=16>t?16:t,fo===null)var r=!1;else{if(t=fo,fo=null,Qf=0,vt&6)throw Error(ke(331));var i=vt;for(vt|=4,Be=t.current;Be!==null;){var s=Be,o=s.child;if(Be.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Be=c;Be!==null;){var f=Be;switch(f.tag){case 0:case 11:case 15:Ic(8,f,s)}var h=f.child;if(h!==null)h.return=f,Be=h;else for(;Be!==null;){f=Be;var g=f.sibling,p=f.return;if(Rx(f),f===c){Be=null;break}if(g!==null){g.return=p,Be=g;break}Be=p}}}var b=s.alternate;if(b!==null){var S=b.child;if(S!==null){b.child=null;do{var N=S.sibling;S.sibling=null,S=N}while(S!==null)}}Be=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Be=o;else e:for(;Be!==null;){if(s=Be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ic(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Be=w;break e}Be=s.return}}var y=t.current;for(Be=y;Be!==null;){o=Be;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Be=_;else e:for(o=y;Be!==null;){if(a=Be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jp(9,a)}}catch(D){nn(a,a.return,D)}if(a===o){Be=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Be=E;break e}Be=a.return}}if(vt=i,Ho(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(Pp,t)}catch{}r=!0}return r}finally{kt=n,ei.transition=e}}return!1}function I5(t,e,n){e=iu(n,e),e=xx(t,e,1),t=bo(t,e,1),e=lr(),t!==null&&(Cd(t,1,e),Nr(t,e))}function nn(t,e,n){if(t.tag===3)I5(t,t,n);else for(;e!==null;){if(e.tag===3){I5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xo===null||!xo.has(r))){t=iu(n,t),t=Sx(e,t,1),e=bo(e,t,1),t=lr(),e!==null&&(Cd(e,1,t),Nr(e,t));break}}e=e.return}}function c6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=lr(),t.pingedLanes|=t.suspendedLanes&n,Rn===t&&(Bn&n)===n&&(Cn===4||Cn===3&&(Bn&130023424)===Bn&&500>un()-Dv?va(t,0):Ov|=n),Nr(t,e)}function Hx(t,e){e===0&&(t.mode&1?(e=Bh,Bh<<=1,!(Bh&130023424)&&(Bh=4194304)):e=1);var n=lr();t=As(t,e),t!==null&&(Cd(t,e,n),Nr(t,n))}function d6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Hx(t,n)}function h6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ke(314))}r!==null&&r.delete(e),Hx(t,n)}var qx;qx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xr.current)_r=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _r=!1,ZE(t,e,n);_r=!!(t.flags&131072)}else _r=!1,$t&&e.flags&1048576&&Gb(e,zf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gf(t,e),t=e.pendingProps;var i=eu(e,er.current);Vl(e,n),i=Av(null,e,r,t,i,n);var s=Pv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sr(r)?(s=!0,Bf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sv(e),i.updater=Mp,e.stateNode=i,i._reactInternals=e,B0(e,r,t,n),e=W0(null,e,r,!0,s,n)):(e.tag=0,$t&&s&&gv(e),sr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=p6(r),t=yi(r,t),i){case 0:e=z0(null,e,r,t,n);break e;case 1:e=_5(null,e,r,t,n);break e;case 11:e=y5(null,e,r,t,n);break e;case 14:e=w5(null,e,r,yi(r.type,t),n);break e}throw Error(ke(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),z0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),_5(t,e,r,i,n);case 3:e:{if(kx(e),t===null)throw Error(ke(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ex(t,e),qf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=iu(Error(ke(423)),e),e=b5(t,e,r,n,i);break e}else if(r!==i){i=iu(Error(ke(424)),e),e=b5(t,e,r,n,i);break e}else for(Dr=_o(e.stateNode.containerInfo.firstChild),Fr=e,$t=!0,bi=null,n=Xb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tu(),r===i){e=Ps(t,e,n);break e}sr(t,e,r,n)}e=e.child}return e;case 5:return tx(e),t===null&&M0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,T0(r,i)?o=null:s!==null&&T0(r,s)&&(e.flags|=32),Ex(t,e),sr(t,e,o,n),e.child;case 6:return t===null&&M0(e),null;case 13:return Ax(t,e,n);case 4:return Nv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nu(e,null,r,n):sr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),y5(t,e,r,i,n);case 7:return sr(t,e,e.pendingProps,n),e.child;case 8:return sr(t,e,e.pendingProps.children,n),e.child;case 12:return sr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Bt(Wf,r._currentValue),r._currentValue=o,s!==null)if(ki(s.value,o)){if(s.children===i.children&&!xr.current){e=Ps(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ns(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),j0(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ke(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),j0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}sr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vl(e,n),i=ti(i),r=r(i),e.flags|=1,sr(t,e,r,n),e.child;case 14:return r=e.type,i=yi(r,e.pendingProps),i=yi(r.type,i),w5(t,e,r,i,n);case 15:return Nx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),gf(t,e),e.tag=1,Sr(r)?(t=!0,Bf(e)):t=!1,Vl(e,n),bx(e,r,i),B0(e,r,i,n),W0(null,e,r,!0,t,n);case 19:return Px(t,e,n);case 22:return Cx(t,e,n)}throw Error(ke(156,e.tag))};function $x(t,e){return yb(t,e)}function f6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(t,e,n,r){return new f6(t,e,n,r)}function Bv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function p6(t){if(typeof t=="function")return Bv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===iv)return 11;if(t===sv)return 14}return 2}function No(t,e){var n=t.alternate;return n===null?(n=Xr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Bv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pl:return ya(n.children,i,s,e);case rv:o=8,i|=8;break;case u0:return t=Xr(12,n,e,i|2),t.elementType=u0,t.lanes=s,t;case c0:return t=Xr(13,n,e,i),t.elementType=c0,t.lanes=s,t;case d0:return t=Xr(19,n,e,i),t.elementType=d0,t.lanes=s,t;case tb:return Bp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z_:o=10;break e;case eb:o=9;break e;case iv:o=11;break e;case sv:o=14;break e;case to:o=16,r=null;break e}throw Error(ke(130,t==null?t:typeof t,""))}return e=Xr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ya(t,e,n,r){return t=Xr(7,t,r,e),t.lanes=n,t}function Bp(t,e,n,r){return t=Xr(22,t,r,e),t.elementType=tb,t.lanes=n,t.stateNode={isHidden:!1},t}function Ig(t,e,n){return t=Xr(6,t,null,e),t.lanes=n,t}function Tg(t,e,n){return e=Xr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function m6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dg(0),this.expirationTimes=dg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uv(t,e,n,r,i,s,o,a,l){return t=new m6(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sv(s),t}function g6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Al,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Vx(t){if(!t)return Ro;t=t._reactInternals;e:{if(Ma(t)!==t||t.tag!==1)throw Error(ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ke(171))}if(t.tag===1){var n=t.type;if(Sr(n))return Vb(t,n,e)}return e}function Yx(t,e,n,r,i,s,o,a,l){return t=Uv(n,r,!0,t,i,s,o,a,l),t.context=Vx(null),n=t.current,r=lr(),i=So(n),s=Ns(r,i),s.callback=e??null,bo(n,s,i),t.current.lanes=i,Cd(t,i,r),Nr(t,r),t}function Up(t,e,n,r){var i=e.current,s=lr(),o=So(i);return n=Vx(n),e.context===null?e.context=n:e.pendingContext=n,e=Ns(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bo(i,e,o),t!==null&&(Ci(t,i,o,s),ff(t,i,o)),o}function Xf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function T5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zv(t,e){T5(t,e),(t=t.alternate)&&T5(t,e)}function v6(){return null}var Gx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wv(t){this._internalRoot=t}zp.prototype.render=Wv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ke(409));Up(t,e,null,null)};zp.prototype.unmount=Wv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pa(function(){Up(null,t,null,null)}),e[ks]=null}};function zp(t){this._internalRoot=t}zp.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ro.length&&e!==0&&e<ro[n].priority;n++);ro.splice(n,0,t),n===0&&kb(t)}};function Hv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function L5(){}function y6(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Xf(o);s.call(c)}}var o=Yx(e,r,t,0,null,!1,!1,"",L5);return t._reactRootContainer=o,t[ks]=o.current,Xc(t.nodeType===8?t.parentNode:t),Pa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Xf(l);a.call(c)}}var l=Uv(t,0,!1,null,null,!1,!1,"",L5);return t._reactRootContainer=l,t[ks]=l.current,Xc(t.nodeType===8?t.parentNode:t),Pa(function(){Up(e,l,n,r)}),l}function Hp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Xf(o);a.call(l)}}Up(e,o,t,i)}else o=y6(n,e,t,i,r);return Xf(o)}Sb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wc(e.pendingLanes);n!==0&&(lv(e,n|1),Nr(e,un()),!(vt&6)&&(su=un()+500,Ho()))}break;case 13:Pa(function(){var r=As(t,1);if(r!==null){var i=lr();Ci(r,t,1,i)}}),zv(t,1)}};uv=function(t){if(t.tag===13){var e=As(t,134217728);if(e!==null){var n=lr();Ci(e,t,134217728,n)}zv(t,134217728)}};Nb=function(t){if(t.tag===13){var e=So(t),n=As(t,e);if(n!==null){var r=lr();Ci(n,t,e,r)}zv(t,e)}};Cb=function(){return kt};Eb=function(t,e){var n=kt;try{return kt=t,e()}finally{kt=n}};b0=function(t,e,n){switch(e){case"input":if(p0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Rp(r);if(!i)throw Error(ke(90));rb(r),p0(r,i)}}}break;case"textarea":sb(t,n);break;case"select":e=n.value,e!=null&&Wl(t,!!n.multiple,e,!1)}};hb=Mv;fb=Pa;var w6={usingClientEntryPoint:!1,Events:[kd,Rl,Rp,cb,db,Mv]},uc={findFiberByHostInstance:ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_6={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Os.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gb(t),t===null?null:t.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||v6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{Pp=Qh.inject(_6),Gi=Qh}catch{}}Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w6;Ur.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hv(e))throw Error(ke(200));return g6(t,e,null,n)};Ur.createRoot=function(t,e){if(!Hv(t))throw Error(ke(299));var n=!1,r="",i=Gx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Uv(t,1,!1,null,null,n,!1,r,i),t[ks]=e.current,Xc(t.nodeType===8?t.parentNode:t),new Wv(e)};Ur.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ke(188)):(t=Object.keys(t).join(","),Error(ke(268,t)));return t=gb(e),t=t===null?null:t.stateNode,t};Ur.flushSync=function(t){return Pa(t)};Ur.hydrate=function(t,e,n){if(!Wp(e))throw Error(ke(200));return Hp(null,t,e,!0,n)};Ur.hydrateRoot=function(t,e,n){if(!Hv(t))throw Error(ke(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Gx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Yx(e,null,t,1,n??null,i,!1,s,o),t[ks]=e.current,Xc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zp(e)};Ur.render=function(t,e,n){if(!Wp(e))throw Error(ke(200));return Hp(null,t,e,!1,n)};Ur.unmountComponentAtNode=function(t){if(!Wp(t))throw Error(ke(40));return t._reactRootContainer?(Pa(function(){Hp(null,null,t,!1,function(){t._reactRootContainer=null,t[ks]=null})}),!0):!1};Ur.unstable_batchedUpdates=Mv;Ur.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wp(n))throw Error(ke(200));if(t==null||t._reactInternals===void 0)throw Error(ke(38));return Hp(t,e,n,!1,r)};Ur.version="18.3.1-next-f1338f8080-20240426";function Kx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kx)}catch(t){console.error(t)}}Kx(),K_.exports=Ur;var b6=K_.exports,Qx,R5=b6;Qx=R5.createRoot,R5.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ad.apply(this,arguments)}var po;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(po||(po={}));const O5="popstate";function x6(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=ja(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),e1("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Jx(s))}function r(i,s){qv(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return N6(e,n,r,t)}function yn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function S6(){return Math.random().toString(36).substr(2,8)}function D5(t,e){return{usr:t.state,key:t.key,idx:e}}function e1(t,e,n,r){return n===void 0&&(n=null),ad({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ja(e):e,{state:n,key:e&&e.key||r||S6()})}function Jx(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ja(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function N6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=po.Pop,l=null,c=f();c==null&&(c=0,o.replaceState(ad({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=po.Pop;let N=f(),w=N==null?null:N-c;c=N,l&&l({action:a,location:S.location,delta:w})}function g(N,w){a=po.Push;let y=e1(S.location,N,w);n&&n(y,N),c=f()+1;let _=D5(y,c),E=S.createHref(y);try{o.pushState(_,"",E)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(E)}s&&l&&l({action:a,location:S.location,delta:1})}function p(N,w){a=po.Replace;let y=e1(S.location,N,w);n&&n(y,N),c=f();let _=D5(y,c),E=S.createHref(y);o.replaceState(_,"",E),s&&l&&l({action:a,location:S.location,delta:0})}function b(N){let w=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof N=="string"?N:Jx(N);return y=y.replace(/ $/,"%20"),yn(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let S={get action(){return a},get location(){return t(i,o)},listen(N){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(O5,h),l=N,()=>{i.removeEventListener(O5,h),l=null}},createHref(N){return e(i,N)},createURL:b,encodeLocation(N){let w=b(N);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:p,go(N){return o.go(N)}};return S}var M5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(M5||(M5={}));function C6(t,e,n){return n===void 0&&(n="/"),E6(t,e,n,!1)}function E6(t,e,n,r){let i=typeof e=="string"?ja(e):e,s=e3(i.pathname||"/",n);if(s==null)return null;let o=Xx(t);k6(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=F6(s);a=M6(o[l],c,r)}return a}function Xx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(yn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=wa([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(yn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Xx(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:O6(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Zx(s.path))i(s,o,l)}),e}function Zx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Zx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function k6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:D6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const A6=/^:[\w-]+$/,P6=3,I6=2,T6=1,L6=10,R6=-2,j5=t=>t==="*";function O6(t,e){let n=t.split("/"),r=n.length;return n.some(j5)&&(r+=R6),e&&(r+=I6),n.filter(i=>!j5(i)).reduce((i,s)=>i+(A6.test(s)?P6:s===""?T6:L6),r)}function D6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function M6(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=F5({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),g=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=F5({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:wa([s,h.pathname]),pathnameBase:W6(wa([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=wa([s,h.pathnameBase]))}return o}function F5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=j6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,h)=>{let{paramName:g,isOptional:p}=f;if(g==="*"){let S=a[h]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const b=a[h];return p&&!b?c[g]=void 0:c[g]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function j6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function F6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function e3(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function B6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ja(t):t;return{pathname:n?n.startsWith("/")?n:U6(n,e):e,search:H6(r),hash:q6(i)}}function U6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Lg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function t3(t,e){let n=z6(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function n3(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ja(t):(i=ad({},t),yn(!i.pathname||!i.pathname.includes("?"),Lg("?","pathname","search",i)),yn(!i.pathname||!i.pathname.includes("#"),Lg("#","pathname","hash",i)),yn(!i.search||!i.search.includes("#"),Lg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}a=h>=0?e[h]:"/"}let l=B6(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const wa=t=>t.join("/").replace(/\/\/+/g,"/"),W6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),H6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,q6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const r3=["post","put","patch","delete"];new Set(r3);const V6=["get",...r3];new Set(V6);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ld.apply(this,arguments)}const $v=me.createContext(null),Y6=me.createContext(null),Pd=me.createContext(null),qp=me.createContext(null),Fa=me.createContext({outlet:null,matches:[],isDataRoute:!1}),i3=me.createContext(null);function Id(){return me.useContext(qp)!=null}function Vv(){return Id()||yn(!1),me.useContext(qp).location}function s3(t){me.useContext(Pd).static||me.useLayoutEffect(t)}function Yv(){let{isDataRoute:t}=me.useContext(Fa);return t?ok():G6()}function G6(){Id()||yn(!1);let t=me.useContext($v),{basename:e,future:n,navigator:r}=me.useContext(Pd),{matches:i}=me.useContext(Fa),{pathname:s}=Vv(),o=JSON.stringify(t3(i,n.v7_relativeSplatPath)),a=me.useRef(!1);return s3(()=>{a.current=!0}),me.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=n3(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:wa([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,s,t])}function K6(t,e){return Q6(t,e)}function Q6(t,e,n,r){Id()||yn(!1);let{navigator:i}=me.useContext(Pd),{matches:s}=me.useContext(Fa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Vv(),f;if(e){var h;let N=typeof e=="string"?ja(e):e;l==="/"||(h=N.pathname)!=null&&h.startsWith(l)||yn(!1),f=N}else f=c;let g=f.pathname||"/",p=g;if(l!=="/"){let N=l.replace(/^\//,"").split("/");p="/"+g.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=C6(t,{pathname:p}),S=tk(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},a,N.params),pathname:wa([l,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?l:wa([l,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,r);return e&&S?me.createElement(qp.Provider,{value:{location:ld({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:po.Pop}},S):S}function J6(){let t=sk(),e=$6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return me.createElement(me.Fragment,null,me.createElement("h2",null,"Unexpected Application Error!"),me.createElement("h3",{style:{fontStyle:"italic"}},e),n?me.createElement("pre",{style:i},n):null,null)}const X6=me.createElement(J6,null);class Z6 extends me.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?me.createElement(Fa.Provider,{value:this.props.routeContext},me.createElement(i3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ek(t){let{routeContext:e,match:n,children:r}=t,i=me.useContext($v);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),me.createElement(Fa.Provider,{value:e},r)}function tk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||yn(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:g,errors:p}=n,b=h.route.loader&&g[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,h,g)=>{let p,b=!1,S=null,N=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,S=h.route.errorElement||X6,l&&(c<0&&g===0?(b=!0,N=null):c===g&&(b=!0,N=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,g+1)),y=()=>{let _;return p?_=S:b?_=N:h.route.Component?_=me.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=f,me.createElement(ek,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?me.createElement(Z6,{location:n.location,revalidation:n.revalidation,component:S,error:p,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var o3=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(o3||{}),Zf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zf||{});function nk(t){let e=me.useContext($v);return e||yn(!1),e}function rk(t){let e=me.useContext(Y6);return e||yn(!1),e}function ik(t){let e=me.useContext(Fa);return e||yn(!1),e}function a3(t){let e=ik(),n=e.matches[e.matches.length-1];return n.route.id||yn(!1),n.route.id}function sk(){var t;let e=me.useContext(i3),n=rk(Zf.UseRouteError),r=a3(Zf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ok(){let{router:t}=nk(o3.UseNavigateStable),e=a3(Zf.UseNavigateStable),n=me.useRef(!1);return s3(()=>{n.current=!0}),me.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ld({fromRouteId:e},s)))},[t,e])}const B5={};function ak(t,e){B5[e]||(B5[e]=!0,console.warn(e))}const U5=(t,e,n)=>ak(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function lk(t,e){t!=null&&t.v7_startTransition||U5("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&U5("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function l3(t){let{to:e,replace:n,state:r,relative:i}=t;Id()||yn(!1);let{future:s,static:o}=me.useContext(Pd),{matches:a}=me.useContext(Fa),{pathname:l}=Vv(),c=Yv(),f=n3(e,t3(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(f);return me.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function _f(t){yn(!1)}function uk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=po.Pop,navigator:s,static:o=!1,future:a}=t;Id()&&yn(!1);let l=e.replace(/^\/*/,"/"),c=me.useMemo(()=>({basename:l,navigator:s,static:o,future:ld({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ja(r));let{pathname:f="/",search:h="",hash:g="",state:p=null,key:b="default"}=r,S=me.useMemo(()=>{let N=e3(f,l);return N==null?null:{location:{pathname:N,search:h,hash:g,state:p,key:b},navigationType:i}},[l,f,h,g,p,b,i]);return S==null?null:me.createElement(Pd.Provider,{value:c},me.createElement(qp.Provider,{children:n,value:S}))}function ck(t){let{children:e,location:n}=t;return K6(t1(e),n)}new Promise(()=>{});function t1(t,e){e===void 0&&(e=[]);let n=[];return me.Children.forEach(t,(r,i)=>{if(!me.isValidElement(r))return;let s=[...e,i];if(r.type===me.Fragment){n.push.apply(n,t1(r.props.children,s));return}r.type!==_f&&yn(!1),!r.props.index||!r.props.children||yn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=t1(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const dk="6";try{window.__reactRouterVersion=dk}catch{}const hk="startTransition",z5=cC[hk];function fk(t){let{basename:e,children:n,future:r,window:i}=t,s=me.useRef();s.current==null&&(s.current=x6({window:i,v5Compat:!0}));let o=s.current,[a,l]=me.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=me.useCallback(h=>{c&&z5?z5(()=>l(h)):l(h)},[l,c]);return me.useLayoutEffect(()=>o.listen(f),[o,f]),me.useEffect(()=>lk(r),[r]),me.createElement(uk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var W5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(W5||(W5={}));var H5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(H5||(H5={}));let pk={data:""},mk=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||pk,gk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vk=/\/\*[^]*?\*\/|  +/g,q5=/\n+/g,so=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?so(o,s):s+"{"+so(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=so(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=so.p?so.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},fs={},u3=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+u3(t[n]);return e}return t},yk=(t,e,n,r,i)=>{let s=u3(t),o=fs[s]||(fs[s]=(l=>{let c=0,f=11;for(;c<l.length;)f=101*f+l.charCodeAt(c++)>>>0;return"go"+f})(s));if(!fs[o]){let l=s!==t?t:(c=>{let f,h,g=[{}];for(;f=gk.exec(c.replace(vk,""));)f[4]?g.shift():f[3]?(h=f[3].replace(q5," ").trim(),g.unshift(g[0][h]=g[0][h]||{})):g[0][f[1]]=f[2].replace(q5," ").trim();return g[0]})(t);fs[o]=so(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&fs.g?fs.g:null;return n&&(fs.g=fs[o]),((l,c,f,h)=>{h?c.data=c.data.replace(h,l):c.data.indexOf(l)===-1&&(c.data=f?l+c.data:c.data+l)})(fs[o],e,r,a),o},wk=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":so(a,""):a===!1?"":a}return r+i+(o??"")},"");function $p(t){let e=this||{},n=t.call?t(e.p):t;return yk(n.unshift?n.raw?wk(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,mk(e.target),e.g,e.o,e.k)}let c3,n1,r1;$p.bind({g:1});let Is=$p.bind({k:1});function _k(t,e,n,r){so.p=e,c3=t,n1=n,r1=r}function qo(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:n1&&n1()},a),n.o=/ *go\d+/.test(l),a.className=$p.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),r1&&c[0]&&r1(a),c3(c,a)}return i}}var bk=t=>typeof t=="function",ep=(t,e)=>bk(t)?t(e):t,xk=(()=>{let t=0;return()=>(++t).toString()})(),d3=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Sk=20,bf=new Map,Nk=1e3,$5=t=>{if(bf.has(t))return;let e=setTimeout(()=>{bf.delete(t),Ba({type:4,toastId:t})},Nk);bf.set(t,e)},Ck=t=>{let e=bf.get(t);e&&clearTimeout(e)},i1=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Sk)};case 1:return e.toast.id&&Ck(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return t.toasts.find(s=>s.id===n.id)?i1(t,{type:1,toast:n}):i1(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?$5(r):t.toasts.forEach(s=>{$5(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},xf=[],Sf={toasts:[],pausedAt:void 0},Ba=t=>{Sf=i1(Sf,t),xf.forEach(e=>{e(Sf)})},Ek={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},kk=(t={})=>{let[e,n]=me.useState(Sf);me.useEffect(()=>(xf.push(n),()=>{let i=xf.indexOf(n);i>-1&&xf.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o;return{...t,...t[i.type],...i,duration:i.duration||((s=t[i.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||Ek[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:r}},Ak=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||xk()}),Td=t=>(e,n)=>{let r=Ak(e,t,n);return Ba({type:2,toast:r}),r.id},Mr=(t,e)=>Td("blank")(t,e);Mr.error=Td("error");Mr.success=Td("success");Mr.loading=Td("loading");Mr.custom=Td("custom");Mr.dismiss=t=>{Ba({type:3,toastId:t})};Mr.remove=t=>Ba({type:4,toastId:t});Mr.promise=(t,e,n)=>{let r=Mr.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(Mr.success(ep(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{Mr.error(ep(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var Pk=(t,e)=>{Ba({type:1,toast:{id:t,height:e}})},Ik=()=>{Ba({type:5,time:Date.now()})},Tk=t=>{let{toasts:e,pausedAt:n}=kk(t);me.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&Mr.dismiss(a.id);return}return setTimeout(()=>Mr.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=me.useCallback(()=>{n&&Ba({type:6,time:Date.now()})},[n]),i=me.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},f=e.filter(p=>(p.position||c)===(s.position||c)&&p.height),h=f.findIndex(p=>p.id===s.id),g=f.filter((p,b)=>b<h&&p.visible).length;return f.filter(p=>p.visible).slice(...a?[g+1]:[0,g]).reduce((p,b)=>p+(b.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:Pk,startPause:Ik,endPause:r,calculateOffset:i}}},Lk=Is`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Rk=Is`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ok=Is`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Dk=qo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Lk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Rk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ok} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Mk=Is`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,jk=qo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Mk} 1s linear infinite;
`,Fk=Is`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Bk=Is`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Uk=qo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Fk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Bk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,zk=qo("div")`
  position: absolute;
`,Wk=qo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Hk=Is`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qk=qo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Hk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$k=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?me.createElement(qk,null,e):e:n==="blank"?null:me.createElement(Wk,null,me.createElement(jk,{...r}),n!=="loading"&&me.createElement(zk,null,n==="error"?me.createElement(Dk,{...r}):me.createElement(Uk,{...r})))},Vk=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Yk=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Gk="0%{opacity:0;} 100%{opacity:1;}",Kk="0%{opacity:1;} 100%{opacity:0;}",Qk=qo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Jk=qo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Xk=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=d3()?[Gk,Kk]:[Vk(n),Yk(n)];return{animation:e?`${Is(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Is(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Zk=me.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?Xk(t.position||e||"top-center",t.visible):{opacity:0},s=me.createElement($k,{toast:t}),o=me.createElement(Jk,{...t.ariaProps},ep(t.message,t));return me.createElement(Qk,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):me.createElement(me.Fragment,null,s,o))});_k(me.createElement);var eA=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=me.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return me.createElement("div",{ref:s,className:e,style:n},i)},tA=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:d3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},nA=$p`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Jh=16,rA=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=Tk(n);return me.createElement("div",{style:{position:"fixed",zIndex:9999,top:Jh,left:Jh,right:Jh,bottom:Jh,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let f=c.position||e,h=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),g=tA(f,h);return me.createElement(eA,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?nA:"",style:g},c.type==="custom"?ep(c.message,c):i?i(c):me.createElement(Zk,{toast:c,position:f}))}))},qt=Mr,V5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae=function(t,e){if(!t)throw gu(e)},gu=function(t){return new Error("Firebase Database ("+h3.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let g=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(g=64)),r.push(n[f],n[h],n[g],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(f3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new sA;const g=s<<2|a>>4;if(r.push(g),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const b=c<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p3=function(t){const e=f3(t);return Gv.encodeByteArray(e,!0)},tp=function(t){return p3(t).replace(/\./g,"")},np=function(t){try{return Gv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t){return m3(void 0,t)}function m3(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!aA(n)||(t[n]=m3(t[n],e[n]));return t}function aA(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=()=>lA().__FIREBASE_DEFAULTS__,cA=()=>{if(typeof process>"u"||typeof V5>"u")return;const t=V5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&np(t[1]);return e&&JSON.parse(e)},Kv=()=>{try{return uA()||cA()||dA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},g3=t=>{var e,n;return(n=(e=Kv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hA=t=>{const e=g3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},v3=()=>{var t;return(t=Kv())===null||t===void 0?void 0:t.config},y3=t=>{var e;return(e=Kv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tp(JSON.stringify(n)),tp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cr())}function pA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function w3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gA(){const t=cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _3(){return h3.NODE_ADMIN===!0}function vA(){try{return typeof indexedDB=="object"}catch{return!1}}function yA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="FirebaseError";class $o extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wA,Object.setPrototypeOf(this,$o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rd.prototype.create)}}class Rd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_A(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new $o(i,a,r)}}function _A(t,e){return t.replace(bA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){return JSON.parse(t)}function Nn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=ud(np(s[0])||""),n=ud(np(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},xA=function(t){const e=b3(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},SA=function(t){const e=b3(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ou(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function s1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ip(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Y5(s)&&Y5(o)){if(!ip(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Y5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function xc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const g=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,f;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),f=1518500249):(c=s^o^a,f=1859775393):h<60?(c=s&o|a&(s|o),f=2400959708):(c=s^o^a,f=3395469782);const g=(i<<5|i>>>27)+c+l+f+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function CA(t,e){const n=new EA(t,e);return n.subscribe.bind(n)}class EA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rg),i.error===void 0&&(i.error=Rg),i.complete===void 0&&(i.complete=Rg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rg(){}function Vp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ae(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Yp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t){return t&&t._delegate?t._delegate:t}class Ia{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ld;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TA(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IA(t){return t===la?void 0:t}function TA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Tt||(Tt={}));const RA={debug:Tt.DEBUG,verbose:Tt.VERBOSE,info:Tt.INFO,warn:Tt.WARN,error:Tt.ERROR,silent:Tt.SILENT},OA=Tt.INFO,DA={[Tt.DEBUG]:"log",[Tt.VERBOSE]:"log",[Tt.INFO]:"info",[Tt.WARN]:"warn",[Tt.ERROR]:"error"},MA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=DA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jv{constructor(e){this.name=e,this._logLevel=OA,this._logHandler=MA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Tt.DEBUG,...e),this._logHandler(this,Tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Tt.VERBOSE,...e),this._logHandler(this,Tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Tt.INFO,...e),this._logHandler(this,Tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Tt.WARN,...e),this._logHandler(this,Tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Tt.ERROR,...e),this._logHandler(this,Tt.ERROR,...e)}}const jA=(t,e)=>e.some(n=>t instanceof n);let G5,K5;function FA(){return G5||(G5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BA(){return K5||(K5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x3=new WeakMap,o1=new WeakMap,S3=new WeakMap,Og=new WeakMap,Xv=new WeakMap;function UA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Co(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&x3.set(n,t)}).catch(()=>{}),Xv.set(e,t),e}function zA(t){if(o1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});o1.set(t,e)}let a1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return o1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||S3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WA(t){a1=t(a1)}function HA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dg(this),e,...n);return S3.set(r,e.sort?e.sort():[e]),Co(r)}:BA().includes(t)?function(...e){return t.apply(Dg(this),e),Co(x3.get(this))}:function(...e){return Co(t.apply(Dg(this),e))}}function qA(t){return typeof t=="function"?HA(t):(t instanceof IDBTransaction&&zA(t),jA(t,FA())?new Proxy(t,a1):t)}function Co(t){if(t instanceof IDBRequest)return UA(t);if(Og.has(t))return Og.get(t);const e=qA(t);return e!==t&&(Og.set(t,e),Xv.set(e,t)),e}const Dg=t=>Xv.get(t);function $A(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Co(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Co(o.result),l.oldVersion,l.newVersion,Co(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const VA=["get","getKey","getAll","getAllKeys","count"],YA=["put","add","delete","clear"],Mg=new Map;function Q5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mg.get(e))return Mg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=YA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||VA.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Mg.set(e,s),s}WA(t=>({...t,get:(e,n,r)=>Q5(e,n)||t.get(e,n,r),has:(e,n)=>!!Q5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const l1="@firebase/app",J5="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new Jv("@firebase/app"),QA="@firebase/app-compat",JA="@firebase/analytics-compat",XA="@firebase/analytics",ZA="@firebase/app-check-compat",eP="@firebase/app-check",tP="@firebase/auth",nP="@firebase/auth-compat",rP="@firebase/database",iP="@firebase/data-connect",sP="@firebase/database-compat",oP="@firebase/functions",aP="@firebase/functions-compat",lP="@firebase/installations",uP="@firebase/installations-compat",cP="@firebase/messaging",dP="@firebase/messaging-compat",hP="@firebase/performance",fP="@firebase/performance-compat",pP="@firebase/remote-config",mP="@firebase/remote-config-compat",gP="@firebase/storage",vP="@firebase/storage-compat",yP="@firebase/firestore",wP="@firebase/vertexai-preview",_P="@firebase/firestore-compat",bP="firebase",xP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="[DEFAULT]",SP={[l1]:"fire-core",[QA]:"fire-core-compat",[XA]:"fire-analytics",[JA]:"fire-analytics-compat",[eP]:"fire-app-check",[ZA]:"fire-app-check-compat",[tP]:"fire-auth",[nP]:"fire-auth-compat",[rP]:"fire-rtdb",[iP]:"fire-data-connect",[sP]:"fire-rtdb-compat",[oP]:"fire-fn",[aP]:"fire-fn-compat",[lP]:"fire-iid",[uP]:"fire-iid-compat",[cP]:"fire-fcm",[dP]:"fire-fcm-compat",[hP]:"fire-perf",[fP]:"fire-perf-compat",[pP]:"fire-rc",[mP]:"fire-rc-compat",[gP]:"fire-gcs",[vP]:"fire-gcs-compat",[yP]:"fire-fst",[_P]:"fire-fst-compat",[wP]:"fire-vertex","fire-js":"fire-js",[bP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=new Map,NP=new Map,c1=new Map;function X5(t,e){try{t.container.addComponent(e)}catch(n){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function au(t){const e=t.name;if(c1.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;c1.set(e,t);for(const n of sp.values())X5(n,t);for(const n of NP.values())X5(n,t);return!0}function Zv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ws(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new Rd("app","Firebase",CP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=xP;function N3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:u1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Eo.create("bad-app-name",{appName:String(i)});if(n||(n=v3()),!n)throw Eo.create("no-options");const s=sp.get(i);if(s){if(ip(n,s.options)&&ip(r,s.config))return s;throw Eo.create("duplicate-app",{appName:i})}const o=new LA(i);for(const l of c1.values())o.addComponent(l);const a=new EP(n,r,o);return sp.set(i,a),a}function C3(t=u1){const e=sp.get(t);if(!e&&t===u1&&v3())return N3();if(!e)throw Eo.create("no-app",{appName:t});return e}function ko(t,e,n){var r;let i=(r=SP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(a.join(" "));return}au(new Ia(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="firebase-heartbeat-database",AP=1,cd="firebase-heartbeat-store";let jg=null;function E3(){return jg||(jg=$A(kP,AP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Eo.create("idb-open",{originalErrorMessage:t.message})})),jg}async function PP(t){try{const n=(await E3()).transaction(cd),r=await n.objectStore(cd).get(k3(t));return await n.done,r}catch(e){if(e instanceof $o)Ts.warn(e.message);else{const n=Eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ts.warn(n.message)}}}async function Z5(t,e){try{const r=(await E3()).transaction(cd,"readwrite");await r.objectStore(cd).put(e,k3(t)),await r.done}catch(n){if(n instanceof $o)Ts.warn(n.message);else{const r=Eo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ts.warn(r.message)}}}function k3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=1024,TP=30*24*60*60*1e3;class LP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ew();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=TP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ts.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ew(),{heartbeatsToSend:r,unsentEntries:i}=RP(this._heartbeatsCache.heartbeats),s=tp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ts.warn(n),""}}}function ew(){return new Date().toISOString().substring(0,10)}function RP(t,e=IP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vA()?yA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Z5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Z5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tw(t){return tp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){au(new Ia("platform-logger",e=>new GA(e),"PRIVATE")),au(new Ia("heartbeat",e=>new LP(e),"PRIVATE")),ko(l1,J5,t),ko(l1,J5,"esm2017"),ko("fire-js","")}DP("");function e2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function A3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MP=A3,P3=new Rd("auth","Firebase",A3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=new Jv("@firebase/auth");function jP(t,...e){op.logLevel<=Tt.WARN&&op.warn(`Auth (${yu}): ${t}`,...e)}function Nf(t,...e){op.logLevel<=Tt.ERROR&&op.error(`Auth (${yu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,...e){throw t2(t,...e)}function Qi(t,...e){return t2(t,...e)}function I3(t,e,n){const r=Object.assign(Object.assign({},MP()),{[e]:n});return new Rd("auth","Firebase",r).create(e,{appName:t.name})}function Ao(t){return I3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return P3.create(t,...e)}function Qe(t,e,...n){if(!t)throw t2(e,...n)}function _s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nf(e),new Error(e)}function Ls(t,e){t||_s(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FP(){return nw()==="http:"||nw()==="https:"}function nw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FP()||mA()||"connection"in navigator)?navigator.onLine:!0}function UP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=Qv()||w3()}get(){return BP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=new Od(3e4,6e4);function Ua(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vo(t,e,n,r,i={}){return L3(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=vu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return pA()||(c.referrerPolicy="no-referrer"),T3.fetch()(R3(t,t.config.apiHost,n,a),c)})}async function L3(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zP),e);try{const i=new qP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Xh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Xh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Xh(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw I3(t,f,c);Ai(t,f)}}catch(i){if(i instanceof $o)throw i;Ai(t,"network-request-failed",{message:String(i)})}}async function Gp(t,e,n,r,i={}){const s=await Vo(t,e,n,r,i);return"mfaPendingCredential"in s&&Ai(t,"multi-factor-auth-required",{_serverResponse:s}),s}function R3(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?n2(t.config,i):`${t.config.apiScheme}://${i}`}function HP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qi(this.auth,"network-request-failed")),WP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qi(t,e,r);return i.customData._tokenResponse=n,i}function rw(t){return t!==void 0&&t.enterprise!==void 0}class $P{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function VP(t,e){return Vo(t,"GET","/v2/recaptchaConfig",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(t,e){return Vo(t,"POST","/v1/accounts:delete",e)}async function O3(t,e){return Vo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GP(t,e=!1){const n=Wn(t),r=await n.getIdToken(e),i=r2(r);Qe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Rc(Fg(i.auth_time)),issuedAtTime:Rc(Fg(i.iat)),expirationTime:Rc(Fg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Fg(t){return Number(t)*1e3}function r2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nf("JWT malformed, contained fewer than 3 sections"),null;try{const i=np(n);return i?JSON.parse(i):(Nf("Failed to decode base64 JWT payload"),null)}catch(i){return Nf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iw(t){const e=r2(t);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $o&&KP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function KP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ap(t){var e;const n=t.auth,r=await t.getIdToken(),i=await dd(t,O3(n,{idToken:r}));Qe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?D3(s.providerUserInfo):[],a=XP(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new h1(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function JP(t){const e=Wn(t);await ap(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function D3(t){return t.map(e=>{var{providerId:n}=e,r=e2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(t,e){const n=await L3(t,{},async()=>{const r=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=R3(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",T3.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eI(t,e){return Vo(t,"POST","/v2/accounts:revokeToken",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const n=iw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ZP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Gl;return r&&(Qe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Qe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Qe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gl,this.toJSON())}_performRefresh(){return _s("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t,e){Qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=e2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new h1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await dd(this,this.stsTokenManager.getToken(this.auth,e));return Qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GP(this,e)}reload(){return JP(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ap(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ws(this.auth.app))return Promise.reject(Ao(this.auth));const e=await this.getIdToken();return await dd(this,YP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:_,emailVerified:E,isAnonymous:D,providerData:B,stsTokenManager:R}=n;Qe(_&&R,e,"internal-error");const P=Gl.fromJSON(this.name,R);Qe(typeof _=="string",e,"internal-error"),Js(h,e.name),Js(g,e.name),Qe(typeof E=="boolean",e,"internal-error"),Qe(typeof D=="boolean",e,"internal-error"),Js(p,e.name),Js(b,e.name),Js(S,e.name),Js(N,e.name),Js(w,e.name),Js(y,e.name);const q=new bs({uid:_,auth:e,email:g,emailVerified:E,displayName:h,isAnonymous:D,photoURL:b,phoneNumber:p,tenantId:S,stsTokenManager:P,createdAt:w,lastLoginAt:y});return B&&Array.isArray(B)&&(q.providerData=B.map($=>Object.assign({},$))),N&&(q._redirectEventId=N),q}static async _fromIdTokenResponse(e,n,r=!1){const i=new Gl;i.updateFromServerResponse(n);const s=new bs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ap(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Qe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?D3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Gl;a.updateFromIdToken(r);const l=new bs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new h1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Map;function xs(t){Ls(t instanceof Function,"Expected a class definition");let e=sw.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}M3.type="NONE";const ow=M3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(t,e,n){return`firebase:${t}:${e}:${n}`}class Kl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Cf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Kl(xs(ow),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||xs(ow);const o=Cf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const h=bs._fromJSON(e,f);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Kl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Kl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(j3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(W3(e))return"Blackberry";if(H3(e))return"Webos";if(F3(e))return"Safari";if((e.includes("chrome/")||B3(e))&&!e.includes("edge/"))return"Chrome";if(z3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function j3(t=cr()){return/firefox\//i.test(t)}function F3(t=cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function B3(t=cr()){return/crios\//i.test(t)}function U3(t=cr()){return/iemobile/i.test(t)}function z3(t=cr()){return/android/i.test(t)}function W3(t=cr()){return/blackberry/i.test(t)}function H3(t=cr()){return/webos/i.test(t)}function i2(t=cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tI(t=cr()){var e;return i2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nI(){return gA()&&document.documentMode===10}function q3(t=cr()){return i2(t)||z3(t)||H3(t)||W3(t)||/windows phone/i.test(t)||U3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t,e=[]){let n;switch(t){case"Browser":n=aw(cr());break;case"Worker":n=`${aw(cr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(t,e={}){return Vo(t,"GET","/v2/passwordPolicy",Ua(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=6;class oI{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:sI,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lw(this),this.idTokenSubscription=new lw(this),this.beforeStateQueue=new rI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Kl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await O3(this,{idToken:e}),r=await bs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ws(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ap(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ws(this.app))return Promise.reject(Ao(this));const n=e?Wn(e):null;return n&&Qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ws(this.app)?Promise.reject(Ao(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ws(this.app)?Promise.reject(Ao(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iI(this),n=new oI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eI(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xs(e)||this._popupRedirectResolver;Qe(n,this,"argument-error"),this.redirectPersistenceManager=await Kl.create(this,[xs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wu(t){return Wn(t)}class lw{constructor(e){this.auth=e,this.observer=null,this.addObserver=CA(n=>this.observer=n)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lI(t){Kp=t}function V3(t){return Kp.loadJS(t)}function uI(){return Kp.recaptchaEnterpriseScript}function cI(){return Kp.gapiScript}function dI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const hI="recaptcha-enterprise",fI="NO_RECAPTCHA";class pI{constructor(e){this.type=hI,this.auth=wu(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{VP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new $P(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;rw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(fI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&rw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=uI();l.length!==0&&(l+=a),V3(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function uw(t,e,n,r=!1){const i=new pI(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function cw(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await uw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await uw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t,e){const n=Zv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ip(s,e??{}))return i;Ai(i,"already-initialized")}return n.initialize({options:e})}function gI(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vI(t,e,n){const r=wu(t);Qe(r._canInitEmulator,r,"emulator-config-failed"),Qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Y3(e),{host:o,port:a}=yI(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),wI()}function Y3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yI(t){const e=Y3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:dw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:dw(o)}}}function dw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wI(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,n){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function _I(t,e){return Vo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(t,e){return Gp(t,"POST","/v1/accounts:signInWithPassword",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(t,e){return Gp(t,"POST","/v1/accounts:signInWithEmailLink",Ua(t,e))}async function SI(t,e){return Gp(t,"POST","/v1/accounts:signInWithEmailLink",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends s2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new hd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new hd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cw(e,n,"signInWithPassword",bI);case"emailLink":return xI(e,{email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cw(e,r,"signUpPassword",_I);case"emailLink":return SI(e,{idToken:n,email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t,e){return Gp(t,"POST","/v1/accounts:signInWithIdp",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="http://localhost";class Ta extends s2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=e2(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ta(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ql(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ql(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ql(e,n)}buildRequest(){const e={requestUri:NI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EI(t){const e=bc(xc(t)).link,n=e?bc(xc(e)).deep_link_id:null,r=bc(xc(t)).deep_link_id;return(r?bc(xc(r)).link:null)||r||n||e||t}class o2{constructor(e){var n,r,i,s,o,a;const l=bc(xc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,h=CI((i=l.mode)!==null&&i!==void 0?i:null);Qe(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=EI(e);try{return new o2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this.providerId=_u.PROVIDER_ID}static credential(e,n){return hd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=o2.parseLink(n);return Qe(r,"argument-error"),hd._fromEmailAndCode(e,r.code,r.tenantId)}}_u.PROVIDER_ID="password";_u.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_u.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends G3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Dd{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Dd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ta._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ao.credential(n,r)}catch{return null}}}ao.GOOGLE_SIGN_IN_METHOD="google.com";ao.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends Dd{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lo.credential(e.oauthAccessToken)}catch{return null}}}lo.GITHUB_SIGN_IN_METHOD="github.com";lo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Dd{constructor(){super("twitter.com")}static credential(e,n){return Ta._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return uo.credential(n,r)}catch{return null}}}uo.TWITTER_SIGN_IN_METHOD="twitter.com";uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await bs._fromIdTokenResponse(e,r,i),o=hw(r);return new lu({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hw(r);return new lu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends $o{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lp(e,n,r,i)}}function K3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lp._fromErrorAndOperation(t,s,e,r):s})}async function kI(t,e,n=!1){const r=await dd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return lu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(t,e,n=!1){const{auth:r}=t;if(ws(r.app))return Promise.reject(Ao(r));const i="reauthenticate";try{const s=await dd(t,K3(r,i,e,t),n);Qe(s.idToken,r,"internal-error");const o=r2(s.idToken);Qe(o,r,"internal-error");const{sub:a}=o;return Qe(t.uid===a,r,"user-mismatch"),lu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ai(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(t,e,n=!1){if(ws(t.app))return Promise.reject(Ao(t));const r="signIn",i=await K3(t,r,e),s=await lu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function PI(t,e){return Q3(wu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(t){const e=wu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function TI(t,e,n){return ws(t.app)?Promise.reject(Ao(t)):PI(Wn(t),_u.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&II(t),r})}function LI(t,e,n,r){return Wn(t).onIdTokenChanged(e,n,r)}function RI(t,e,n){return Wn(t).beforeAuthStateChanged(e,n)}function OI(t,e,n,r){return Wn(t).onAuthStateChanged(e,n,r)}function DI(t){return Wn(t).signOut()}const up="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(up,"1"),this.storage.removeItem(up),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=1e3,jI=10;class X3 extends J3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);nI()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jI):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},MI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}X3.type="LOCAL";const FI=X3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3 extends J3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Z3.type="SESSION";const e4=Z3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Qp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await BI(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=a2("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const g=h;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return window}function zI(t){Ji().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function WI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qI(){return t4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="firebaseLocalStorageDb",$I=1,cp="firebaseLocalStorage",r4="fbase_key";class Md{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jp(t,e){return t.transaction([cp],e?"readwrite":"readonly").objectStore(cp)}function VI(){const t=indexedDB.deleteDatabase(n4);return new Md(t).toPromise()}function f1(){const t=indexedDB.open(n4,$I);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cp,{keyPath:r4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cp)?e(r):(r.close(),await VI(),e(await f1()))})})}async function fw(t,e,n){const r=Jp(t,!0).put({[r4]:e,value:n});return new Md(r).toPromise()}async function YI(t,e){const n=Jp(t,!1).get(e),r=await new Md(n).toPromise();return r===void 0?null:r.value}function pw(t,e){const n=Jp(t,!0).delete(e);return new Md(n).toPromise()}const GI=800,KI=3;class i4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await f1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>KI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qp._getInstance(qI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WI(),!this.activeServiceWorker)return;this.sender=new UI(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await f1();return await fw(e,up,"1"),await pw(e,up),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Jp(i,!1).getAll();return new Md(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i4.type="LOCAL";const QI=i4;new Od(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e){return e?xs(e):(Qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2 extends s2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ql(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ql(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XI(t){return Q3(t.auth,new l2(t),t.bypassAuthState)}function ZI(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),AI(n,new l2(t),t.bypassAuthState)}async function eT(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),kI(n,new l2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XI;case"linkViaPopup":case"linkViaRedirect":return eT;case"reauthViaPopup":case"reauthViaRedirect":return ZI;default:Ai(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=new Od(2e3,1e4);class Ul extends s4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ul.currentPopupAction&&Ul.currentPopupAction.cancel(),Ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=a2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tT.get())};e()}}Ul.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="pendingRedirect",Ef=new Map;class rT extends s4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ef.get(this.auth._key());if(!e){try{const r=await iT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ef.set(this.auth._key(),e)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iT(t,e){const n=aT(e),r=oT(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function sT(t,e){Ef.set(t._key(),e)}function oT(t){return xs(t._redirectPersistence)}function aT(t){return Cf(nT,t.config.apiKey,t.name)}async function lT(t,e,n=!1){if(ws(t.app))return Promise.reject(Ao(t));const r=wu(t),i=JI(r,e),o=await new rT(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=10*60*1e3;class cT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dT(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!o4(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uT&&this.cachedEventUids.clear(),this.cachedEventUids.has(mw(e))}saveEventToCache(e){this.cachedEventUids.add(mw(e)),this.lastProcessedEventTime=Date.now()}}function mw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dT(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hT(t,e={}){return Vo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pT=/^https?/;async function mT(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hT(t);for(const n of e)try{if(gT(n))return}catch{}Ai(t,"unauthorized-domain")}function gT(t){const e=d1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!pT.test(n))return!1;if(fT.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Od(3e4,6e4);function gw(){const t=Ji().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yT(t){return new Promise((e,n)=>{var r,i,s;function o(){gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gw(),n(Qi(t,"network-request-failed"))},timeout:vT.get()})}if(!((i=(r=Ji().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ji().gapi)===null||s===void 0)&&s.load)o();else{const a=dI("iframefcb");return Ji()[a]=()=>{gapi.load?o():n(Qi(t,"network-request-failed"))},V3(`${cI()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw kf=null,e})}let kf=null;function wT(t){return kf=kf||yT(t),kf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new Od(5e3,15e3),bT="__/auth/iframe",xT="emulator/auth/iframe",ST={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CT(t){const e=t.config;Qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?n2(e,xT):`https://${t.config.authDomain}/${bT}`,r={apiKey:e.apiKey,appName:t.name,v:yu},i=NT.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vu(r).slice(1)}`}async function ET(t){const e=await wT(t),n=Ji().gapi;return Qe(n,t,"internal-error"),e.open({where:document.body,url:CT(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ST,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qi(t,"network-request-failed"),a=Ji().setTimeout(()=>{s(o)},_T.get());function l(){Ji().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AT=500,PT=600,IT="_blank",TT="http://localhost";class vw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LT(t,e,n,r=AT,i=PT){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},kT),{width:r.toString(),height:i.toString(),top:s,left:o}),c=cr().toLowerCase();n&&(a=B3(c)?IT:n),j3(c)&&(e=e||TT,l.scrollbars="yes");const f=Object.entries(l).reduce((g,[p,b])=>`${g}${p}=${b},`,"");if(tI(c)&&a!=="_self")return RT(e||"",a),new vw(null);const h=window.open(e||"",a,f);Qe(h,t,"popup-blocked");try{h.focus()}catch{}return new vw(h)}function RT(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="__/auth/handler",DT="emulator/auth/handler",MT=encodeURIComponent("fac");async function yw(t,e,n,r,i,s){Qe(t.config.authDomain,t,"auth-domain-config-required"),Qe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yu,eventId:i};if(e instanceof G3){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",s1(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Dd){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),c=l?`#${MT}=${encodeURIComponent(l)}`:"";return`${jT(t)}?${vu(a).slice(1)}${c}`}function jT({config:t}){return t.emulator?n2(t,DT):`https://${t.authDomain}/${OT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="webStorageSupport";class FT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e4,this._completeRedirectFn=lT,this._overrideRedirectResult=sT}async _openPopup(e,n,r,i){var s;Ls((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await yw(e,n,r,d1(),i);return LT(e,o,a2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await yw(e,n,r,d1(),i);return zI(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ls(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ET(e),r=new cT(e);return n.register("authEvent",i=>(Qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bg,{type:Bg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Bg];o!==void 0&&n(!!o),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mT(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return q3()||F3()||i2()}}const BT=FT;var ww="@firebase/auth",_w="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WT(t){au(new Ia("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Qe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$3(t)},c=new aI(r,i,s,l);return gI(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),au(new Ia("auth-internal",e=>{const n=wu(e.getProvider("auth").getImmediate());return(r=>new UT(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ko(ww,_w,zT(t)),ko(ww,_w,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=5*60,qT=y3("authIdTokenMaxAge")||HT;let bw=null;const $T=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qT)return;const i=n==null?void 0:n.token;bw!==i&&(bw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function VT(t=C3()){const e=Zv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mI(t,{popupRedirectResolver:BT,persistence:[QI,FI,e4]}),r=y3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=$T(s.toString());RI(n,o,()=>o(n.currentUser)),LI(n,a=>o(a))}}const i=g3("auth");return i&&vI(n,`http://${i}`),n}function YT(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lI({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",YT().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WT("Browser");var GT="firebase",KT="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko(GT,KT,"app");var xw={};const Sw="@firebase/database",Nw="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a4="";function QT(t){a4=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ud(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Zi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new JT(e)}}catch{}return new XT},ma=l4("localStorage"),ZT=l4("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=new Jv("@firebase/database"),eL=function(){let t=1;return function(){return t++}}(),u4=function(t){const e=AA(t),n=new NA;n.update(e);const r=n.digest();return Gv.encodeByteArray(r)},jd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=jd.apply(null,r):typeof r=="object"?e+=Nn(r):e+=r,e+=" "}return e};let Oc=null,Cw=!0;const tL=function(t,e){Ae(!e,"Can't turn on custom loggers persistently."),Jl.logLevel=Tt.VERBOSE,Oc=Jl.log.bind(Jl)},Fn=function(...t){if(Cw===!0&&(Cw=!1,Oc===null&&ZT.get("logging_enabled")===!0&&tL()),Oc){const e=jd.apply(null,t);Oc(e)}},Fd=function(t){return function(...e){Fn(t,...e)}},p1=function(...t){const e="FIREBASE INTERNAL ERROR: "+jd(...t);Jl.error(e)},Rs=function(...t){const e=`FIREBASE FATAL ERROR: ${jd(...t)}`;throw Jl.error(e),new Error(e)},ur=function(...t){const e="FIREBASE WARNING: "+jd(...t);Jl.warn(e)},nL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ur("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},u2=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},rL=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},La="[MIN_NAME]",Oo="[MAX_NAME]",za=function(t,e){if(t===e)return 0;if(t===La||e===Oo)return-1;if(e===La||t===Oo)return 1;{const n=Ew(t),r=Ew(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},iL=function(t,e){return t===e?0:t<e?-1:1},cc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Nn(e))},c2=function(t){if(typeof t!="object"||t===null)return Nn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Nn(e[r]),n+=":",n+=c2(t[e[r]]);return n+="}",n},c4=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function zn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const d4=function(t){Ae(!u2(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const f=c.join("");let h="";for(l=0;l<64;l+=8){let g=parseInt(f.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),h=h+g}return h.toLowerCase()},sL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},oL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function aL(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const lL=new RegExp("^-?(0*)\\d{1,10}$"),uL=-2147483648,cL=2147483647,Ew=function(t){if(lL.test(t)){const e=Number(t);if(e>=uL&&e<=cL)return e}return null},bu=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ur("Exception was thrown by user callback.",n),e},Math.floor(0))}},dL=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Dc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ur(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ur(e)}}class Af{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Af.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="5",h4="v",f4="s",p4="r",m4="f",g4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,v4="ls",y4="p",m1="ac",w4="websocket",_4="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ma.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ma.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function pL(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function x4(t,e,n){Ae(typeof e=="string","typeof type must == string"),Ae(typeof n=="object","typeof params must == object");let r;if(e===w4)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===_4)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);pL(t)&&(n.ns=t.namespace);const i=[];return zn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.counters_={}}incrementCounter(e,n=1){Zi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return oA(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug={},zg={};function h2(t){const e=t.toString();return Ug[e]||(Ug[e]=new mL),Ug[e]}function gL(t,e){const n=t.toString();return zg[n]||(zg[n]=e()),zg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&bu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="start",yL="close",wL="pLPCommand",_L="pRTLPCB",S4="id",N4="pw",C4="ser",bL="cb",xL="seg",SL="ts",NL="d",CL="dframe",E4=1870,k4=30,EL=E4-k4,kL=25e3,AL=3e4;class zl{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fd(e),this.stats_=h2(n),this.urlFn=l=>(this.appCheckToken&&(l[m1]=this.appCheckToken),x4(n,_4,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new vL(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(AL)),rL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new f2((...s)=>{const[o,a,l,c,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===kw)this.id=a,this.password=l;else if(o===yL)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[kw]="t",r[C4]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[bL]=this.scriptTagHolder.uniqueCallbackIdentifier),r[h4]=d2,this.transportSessionId&&(r[f4]=this.transportSessionId),this.lastSessionId&&(r[v4]=this.lastSessionId),this.applicationId&&(r[y4]=this.applicationId),this.appCheckToken&&(r[m1]=this.appCheckToken),typeof location<"u"&&location.hostname&&g4.test(location.hostname)&&(r[p4]=m4);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zl.forceAllow_=!0}static forceDisallow(){zl.forceDisallow_=!0}static isAvailable(){return zl.forceAllow_?!0:!zl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!sL()&&!oL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Nn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=p3(n),i=c4(r,EL);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[CL]="t",r[S4]=e,r[N4]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Nn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class f2{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=eL(),window[wL+this.uniqueCallbackIdentifier]=e,window[_L+this.uniqueCallbackIdentifier]=n,this.myIFrame=f2.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Fn("frame writing exception"),a.stack&&Fn(a.stack),Fn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[S4]=this.myID,e[N4]=this.myPW,e[C4]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+k4+r.length<=E4;){const o=this.pendingSegs.shift();r=r+"&"+xL+i+"="+o.seg+"&"+SL+i+"="+o.ts+"&"+NL+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(kL)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Fn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=16384,IL=45e3;let dp=null;typeof MozWebSocket<"u"?dp=MozWebSocket:typeof WebSocket<"u"&&(dp=WebSocket);class xi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fd(this.connId),this.stats_=h2(n),this.connURL=xi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[h4]=d2,typeof location<"u"&&location.hostname&&g4.test(location.hostname)&&(o[p4]=m4),n&&(o[f4]=n),r&&(o[v4]=r),i&&(o[m1]=i),s&&(o[y4]=s),x4(e,w4,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ma.set("previous_websocket_failure",!0);try{let r;_3(),this.mySock=new dp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){xi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&dp!==null&&!xi.forceDisallow_}static previouslyFailed(){return ma.isInMemoryStorage||ma.get("previous_websocket_failure")===!0}markConnectionHealthy(){ma.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ud(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ae(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Nn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=c4(n,PL);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(IL))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}xi.responsesRequiredToBeHealthy=2;xi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[zl,xi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=xi&&xi.isAvailable();let r=n&&!xi.previouslyFailed();if(e.webSocketOnly&&(n||ur("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[xi];else{const i=this.transports_=[];for(const s of fd.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);fd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}fd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=6e4,LL=5e3,RL=10*1024,OL=100*1024,Wg="t",Aw="d",DL="s",Pw="r",ML="e",Iw="o",Tw="a",Lw="n",Rw="p",jL="h";class FL{constructor(e,n,r,i,s,o,a,l,c,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fd("c:"+this.id+":"),this.transportManager_=new fd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Dc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>OL?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>RL?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Wg in e){const n=e[Wg];n===Tw?this.upgradeIfSecondaryHealthy_():n===Pw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Iw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=cc("t",e),r=cc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Rw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Tw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Lw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=cc("t",e),r=cc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=cc(Wg,e);if(Aw in e){const r=e[Aw];if(n===jL){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Lw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===DL?this.onConnectionShutdown_(r):n===Pw?this.onReset_(r):n===ML?p1("Server Error: "+r):n===Iw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):p1("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),d2!==r&&ur("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Dc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(TL))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Dc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(LL))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Rw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ma.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.allowedEvents_=e,this.listeners_={},Ae(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Ae(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends P4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Qv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new hp}getInitialEvent(e){return Ae(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=32,Dw=768;class At{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function wt(){return new At("")}function lt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Do(t){return t.pieces_.length-t.pieceNum_}function Ft(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new At(t.pieces_,e)}function p2(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function BL(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function pd(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function I4(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new At(e,0)}function rn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof At)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new At(n,0)}function ut(t){return t.pieceNum_>=t.pieces_.length}function ar(t,e){const n=lt(t),r=lt(e);if(n===null)return e;if(n===r)return ar(Ft(t),Ft(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function UL(t,e){const n=pd(t,0),r=pd(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=za(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function m2(t,e){if(Do(t)!==Do(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Zr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Do(t)>Do(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class zL{constructor(e,n){this.errorPrefix_=n,this.parts_=pd(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Yp(this.parts_[r]);T4(this)}}function WL(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Yp(e),T4(t)}function HL(t){const e=t.parts_.pop();t.byteLength_-=Yp(e),t.parts_.length>0&&(t.byteLength_-=1)}function T4(t){if(t.byteLength_>Dw)throw new Error(t.errorPrefix_+"has a key path longer than "+Dw+" bytes ("+t.byteLength_+").");if(t.parts_.length>Ow)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ow+") or object contains a cycle "+ua(t))}function ua(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2 extends P4{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new g2}getInitialEvent(e){return Ae(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=1e3,qL=60*5*1e3,Mw=30*1e3,$L=1.3,VL=3e4,YL="server_kill",jw=3;class Cs extends A4{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Cs.nextPersistentConnectionId_++,this.log_=Fd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=dc,this.maxReconnectDelay_=qL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!_3())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");g2.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&hp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Nn(s)),Ae(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Ld,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ae(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ae(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Cs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Zi(e,"w")){const r=ou(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ur(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||SA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Mw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=xA(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ae(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Nn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):p1("Unrecognized action received from server: "+Nn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ae(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=dc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=dc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>VL&&(this.reconnectDelay_=dc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*$L)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Cs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){Ae(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,g]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?Fn("getToken() completed but was canceled"):(Fn("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=g&&g.token,a=new FL(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{ur(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(YL)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&ur(h),l())}}}interrupt(e){Fn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],s1(this.interruptReasons_)&&(this.reconnectDelay_=dc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>c2(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new At(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Fn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=jw&&(this.reconnectDelay_=Mw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=jw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+a4.replace(/\./g,"-")]=1,Qv()?e["framework.cordova"]=1:w3()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=hp.getInstance().currentlyOnline();return s1(this.interruptReasons_)&&e}}Cs.nextPersistentConnectionId_=0;Cs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ct(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ct(La,e),i=new ct(La,n);return this.compare(r,i)!==0}minPost(){return ct.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh;class L4 extends Xp{static get __EMPTY_NODE(){return Zh}static set __EMPTY_NODE(e){Zh=e}compare(e,n){return za(e.name,n.name)}isDefinedOn(e){throw gu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ct.MIN}maxPost(){return new ct(Oo,Zh)}makePost(e,n){return Ae(typeof e=="string","KeyIndex indexValue must always be a string."),new ct(e,Zh)}toString(){return".key"}}const _a=new L4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ln{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ln.RED,this.left=i??br.EMPTY_NODE,this.right=s??br.EMPTY_NODE}copy(e,n,r,i,s){return new Ln(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return br.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return br.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ln.RED=!0;Ln.BLACK=!1;class GL{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ln(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class br{constructor(e,n=br.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new br(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ln.BLACK,null,null))}remove(e){return new br(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ln.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ef(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ef(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ef(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ef(this.root_,null,this.comparator_,!0,e)}}br.EMPTY_NODE=new GL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t,e){return za(t.name,e.name)}function v2(t,e){return za(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g1;function QL(t){g1=t}const R4=function(t){return typeof t=="number"?"number:"+d4(t):"string:"+t},O4=function(t){if(t.isLeafNode()){const e=t.val();Ae(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Zi(e,".sv"),"Priority must be a string or number.")}else Ae(t===g1||t.isEmpty(),"priority of unexpected type.");Ae(t===g1||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fw;class In{constructor(e,n=In.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ae(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),O4(this.priorityNode_)}static set __childrenNodeConstructor(e){Fw=e}static get __childrenNodeConstructor(){return Fw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new In(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:In.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ut(e)?this:lt(e)===".priority"?this.priorityNode_:In.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:In.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=lt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ae(r!==".priority"||Do(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,In.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ft(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+R4(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=d4(this.value_):e+=this.value_,this.lazyHash_=u4(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===In.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof In.__childrenNodeConstructor?-1:(Ae(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=In.VALUE_TYPE_ORDER.indexOf(n),s=In.VALUE_TYPE_ORDER.indexOf(r);return Ae(i>=0,"Unknown leaf type: "+n),Ae(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}In.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D4,M4;function JL(t){D4=t}function XL(t){M4=t}class ZL extends Xp{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?za(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ct.MIN}maxPost(){return new ct(Oo,new In("[PRIORITY-POST]",M4))}makePost(e,n){const r=D4(e);return new ct(n,new In("[PRIORITY-POST]",r))}toString(){return".priority"}}const Gt=new ZL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=Math.log(2);class t8{constructor(e){const n=s=>parseInt(Math.log(s)/e8,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const fp=function(t,e,n,r){t.sort(e);const i=function(l,c){const f=c-l;let h,g;if(f===0)return null;if(f===1)return h=t[l],g=n?n(h):h,new Ln(g,h.node,Ln.BLACK,null,null);{const p=parseInt(f/2,10)+l,b=i(l,p),S=i(p+1,c);return h=t[p],g=n?n(h):h,new Ln(g,h.node,Ln.BLACK,b,S)}},s=function(l){let c=null,f=null,h=t.length;const g=function(b,S){const N=h-b,w=h;h-=b;const y=i(N+1,w),_=t[N],E=n?n(_):_;p(new Ln(E,_.node,S,null,y))},p=function(b){c?(c.left=b,c=b):(f=b,c=b)};for(let b=0;b<l.count;++b){const S=l.nextBitIsOne(),N=Math.pow(2,l.count-(b+1));S?g(N,Ln.BLACK):(g(N,Ln.BLACK),g(N,Ln.RED))}return f},o=new t8(t.length),a=s(o);return new br(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg;const bl={};class Ss{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Ae(bl&&Gt,"ChildrenNode.ts has not been loaded"),Hg=Hg||new Ss({".priority":bl},{".priority":Gt}),Hg}get(e){const n=ou(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof br?n:null}hasIndex(e){return Zi(this.indexSet_,e.toString())}addIndex(e,n){Ae(e!==_a,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ct.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=fp(r,e.getCompare()):a=bl;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const f=Object.assign({},this.indexes_);return f[l]=a,new Ss(f,c)}addToIndexes(e,n){const r=rp(this.indexes_,(i,s)=>{const o=ou(this.indexSet_,s);if(Ae(o,"Missing index implementation for "+s),i===bl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ct.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),fp(a,o.getCompare())}else return bl;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ct(e.name,a))),l.insert(e,e.node)}});return new Ss(r,this.indexSet_)}removeFromIndexes(e,n){const r=rp(this.indexes_,i=>{if(i===bl)return i;{const s=n.get(e.name);return s?i.remove(new ct(e.name,s)):i}});return new Ss(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc;class Ke{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&O4(this.priorityNode_),this.children_.isEmpty()&&Ae(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hc||(hc=new Ke(new br(v2),null,Ss.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hc}updatePriority(e){return this.children_.isEmpty()?this:new Ke(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?hc:n}}getChild(e){const n=lt(e);return n===null?this:this.getImmediateChild(n).getChild(Ft(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ae(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ct(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?hc:this.priorityNode_;return new Ke(i,o,s)}}updateChild(e,n){const r=lt(e);if(r===null)return n;{Ae(lt(e)!==".priority"||Do(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ft(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Gt,(o,a)=>{n[o]=a.val(e),r++,s&&Ke.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+R4(this.getPriority().val())+":"),this.forEachChild(Gt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":u4(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ct(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ct(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ct(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ct.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ct.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Bd?-1:0}withIndex(e){if(e===_a||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ke(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===_a||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Gt),i=n.getIterator(Gt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===_a?null:this.indexMap_.get(e.toString())}}Ke.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class n8 extends Ke{constructor(){super(new br(v2),Ke.EMPTY_NODE,Ss.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ke.EMPTY_NODE}isEmpty(){return!1}}const Bd=new n8;Object.defineProperties(ct,{MIN:{value:new ct(La,Ke.EMPTY_NODE)},MAX:{value:new ct(Oo,Bd)}});L4.__EMPTY_NODE=Ke.EMPTY_NODE;In.__childrenNodeConstructor=Ke;QL(Bd);XL(Bd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=!0;function Sn(t,e=null){if(t===null)return Ke.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ae(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new In(n,Sn(e))}if(!(t instanceof Array)&&r8){const n=[];let r=!1;if(zn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Sn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ct(o,l)))}}),n.length===0)return Ke.EMPTY_NODE;const s=fp(n,KL,o=>o.name,v2);if(r){const o=fp(n,Gt.getCompare());return new Ke(s,Sn(e),new Ss({".priority":o},{".priority":Gt}))}else return new Ke(s,Sn(e),Ss.Default)}else{let n=Ke.EMPTY_NODE;return zn(t,(r,i)=>{if(Zi(t,r)&&r.substring(0,1)!=="."){const s=Sn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Sn(e))}}JL(Sn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2 extends Xp{constructor(e){super(),this.indexPath_=e,Ae(!ut(e)&&lt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?za(e.name,n.name):s}makePost(e,n){const r=Sn(e),i=Ke.EMPTY_NODE.updateChild(this.indexPath_,r);return new ct(n,i)}maxPost(){const e=Ke.EMPTY_NODE.updateChild(this.indexPath_,Bd);return new ct(Oo,e)}toString(){return pd(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8 extends Xp{compare(e,n){const r=e.node.compareTo(n.node);return r===0?za(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ct.MIN}maxPost(){return ct.MAX}makePost(e,n){const r=Sn(e);return new ct(n,r)}toString(){return".value"}}const j4=new i8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t){return{type:"value",snapshotNode:t}}function uu(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function md(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function gd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function s8(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){Ae(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(md(n,a)):Ae(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(uu(n,r)):o.trackChildChange(gd(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Gt,(i,s)=>{n.hasChild(i)||r.trackChildChange(md(i,s))}),n.isLeafNode()||n.forEachChild(Gt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(gd(i,s,o))}else r.trackChildChange(uu(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ke.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.indexedFilter_=new w2(e.getIndex()),this.index_=e.getIndex(),this.startPost_=vd.getStartPost_(e),this.endPost_=vd.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ct(n,r))||(r=Ke.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ke.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ke.EMPTY_NODE);const s=this;return n.forEachChild(Gt,(o,a)=>{s.matches(new ct(o,a))||(i=i.updateImmediateChild(o,Ke.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new vd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ct(n,r))||(r=Ke.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ke.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ke.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ke.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Ke.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(g,p)=>h(p,g)}else o=this.index_.getCompare();const a=e;Ae(a.numChildren()===this.limit_,"");const l=new ct(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,c,this.reverse_);for(;g!=null&&(g.name===n||a.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const p=g==null?1:o(g,l);if(f&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(gd(n,r,h)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(md(n,h));const S=a.updateImmediateChild(n,Ke.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(uu(g.name,g.node)),S.updateImmediateChild(g.name,g.node)):S}}else return r.isEmpty()?e:f&&o(c,l)>=0?(s!=null&&(s.trackChildChange(md(c.name,c.node)),s.trackChildChange(uu(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Ke.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Gt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ae(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ae(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:La}hasEnd(){return this.endSet_}getIndexEndValue(){return Ae(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ae(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Oo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ae(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Gt}copy(){const e=new _2;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function a8(t){return t.loadsAllData()?new w2(t.getIndex()):t.hasLimit()?new o8(t):new vd(t)}function l8(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function u8(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function c8(t,e){const n=t.copy();return n.index_=e,n}function Bw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Gt?n="$priority":t.index_===j4?n="$value":t.index_===_a?n="$key":(Ae(t.index_ instanceof y2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Nn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Nn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Nn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Nn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Nn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Uw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Gt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends A4{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Fd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ae(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=pp.getListenId_(e,r),a={};this.listens_[o]=a;const l=Bw(e._queryParams);this.restRequest_(s+".json",l,(c,f)=>{let h=f;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),ou(this.listens_,o)===a){let g;c?c===401?g="permission_denied":g="rest_error:"+c:g="ok",i(g,null)}})}unlisten(e,n){const r=pp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Bw(e._queryParams),r=e._path.toString(),i=new Ld;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+vu(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ud(a.responseText)}catch{ur("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ur("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(){this.rootNode_=Ke.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(){return{value:null,children:new Map}}function B4(t,e,n){if(ut(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=lt(e);t.children.has(r)||t.children.set(r,mp());const i=t.children.get(r);e=Ft(e),B4(i,e,n)}}function v1(t,e,n){t.value!==null?n(e,t.value):h8(t,(r,i)=>{const s=new At(e.toString()+"/"+r);v1(i,s,n)})}function h8(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&zn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=10*1e3,p8=30*1e3,m8=5*60*1e3;class g8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new f8(e);const r=zw+(p8-zw)*Math.random();Dc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;zn(e,(i,s)=>{s>0&&Zi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Dc(this.reportStats_.bind(this),Math.floor(Math.random()*2*m8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Si||(Si={}));function b2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function x2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function S2(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Si.ACK_USER_WRITE,this.source=b2()}operationForChild(e){if(ut(this.path)){if(this.affectedTree.value!=null)return Ae(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new At(e));return new gp(wt(),n,this.revert)}}else return Ae(lt(this.path)===e,"operationForChild called for unrelated child."),new gp(Ft(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.source=e,this.path=n,this.type=Si.LISTEN_COMPLETE}operationForChild(e){return ut(this.path)?new yd(this.source,wt()):new yd(this.source,Ft(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Si.OVERWRITE}operationForChild(e){return ut(this.path)?new Ra(this.source,wt(),this.snap.getImmediateChild(e)):new Ra(this.source,Ft(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Si.MERGE}operationForChild(e){if(ut(this.path)){const n=this.children.subtree(new At(e));return n.isEmpty()?null:n.value?new Ra(this.source,wt(),n.value):new cu(this.source,wt(),n)}else return Ae(lt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new cu(this.source,Ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ut(e))return this.isFullyInitialized()&&!this.filtered_;const n=lt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function y8(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(s8(o.childName,o.snapshotNode))}),fc(t,i,"child_removed",e,r,n),fc(t,i,"child_added",e,r,n),fc(t,i,"child_moved",s,r,n),fc(t,i,"child_changed",e,r,n),fc(t,i,"value",e,r,n),i}function fc(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>_8(t,a,l)),o.forEach(a=>{const l=w8(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function w8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function _8(t,e,n){if(e.childName==null||n.childName==null)throw gu("Should only compare child_ events.");const r=new ct(e.childName,e.snapshotNode),i=new ct(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t,e){return{eventCache:t,serverCache:e}}function Mc(t,e,n,r){return Zp(new Mo(e,n,r),t.serverCache)}function U4(t,e,n,r){return Zp(t.eventCache,new Mo(e,n,r))}function vp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Oa(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qg;const b8=()=>(qg||(qg=new br(iL)),qg);class jt{constructor(e,n=b8()){this.value=e,this.children=n}static fromObject(e){let n=new jt(null);return zn(e,(r,i)=>{n=n.set(new At(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:wt(),value:this.value};if(ut(e))return null;{const r=lt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Ft(e),n);return s!=null?{path:rn(new At(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ut(e))return this;{const n=lt(e),r=this.children.get(n);return r!==null?r.subtree(Ft(e)):new jt(null)}}set(e,n){if(ut(e))return new jt(n,this.children);{const r=lt(e),s=(this.children.get(r)||new jt(null)).set(Ft(e),n),o=this.children.insert(r,s);return new jt(this.value,o)}}remove(e){if(ut(e))return this.children.isEmpty()?new jt(null):new jt(null,this.children);{const n=lt(e),r=this.children.get(n);if(r){const i=r.remove(Ft(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new jt(null):new jt(this.value,s)}else return this}}get(e){if(ut(e))return this.value;{const n=lt(e),r=this.children.get(n);return r?r.get(Ft(e)):null}}setTree(e,n){if(ut(e))return n;{const r=lt(e),s=(this.children.get(r)||new jt(null)).setTree(Ft(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new jt(this.value,o)}}fold(e){return this.fold_(wt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(rn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,wt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ut(e))return null;{const s=lt(e),o=this.children.get(s);return o?o.findOnPath_(Ft(e),rn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,wt(),n)}foreachOnPath_(e,n,r){if(ut(e))return this;{this.value&&r(n,this.value);const i=lt(e),s=this.children.get(i);return s?s.foreachOnPath_(Ft(e),rn(n,i),r):new jt(null)}}foreach(e){this.foreach_(wt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(rn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.writeTree_=e}static empty(){return new Ei(new jt(null))}}function jc(t,e,n){if(ut(e))return new Ei(new jt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=ar(i,e);return s=s.updateChild(o,n),new Ei(t.writeTree_.set(i,s))}else{const i=new jt(n),s=t.writeTree_.setTree(e,i);return new Ei(s)}}}function y1(t,e,n){let r=t;return zn(n,(i,s)=>{r=jc(r,rn(e,i),s)}),r}function Ww(t,e){if(ut(e))return Ei.empty();{const n=t.writeTree_.setTree(e,new jt(null));return new Ei(n)}}function w1(t,e){return Wa(t,e)!=null}function Wa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ar(n.path,e)):null}function Hw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Gt,(r,i)=>{e.push(new ct(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ct(r,i.value))}),e}function Po(t,e){if(ut(e))return t;{const n=Wa(t,e);return n!=null?new Ei(new jt(n)):new Ei(t.writeTree_.subtree(e))}}function _1(t){return t.writeTree_.isEmpty()}function du(t,e){return z4(wt(),t.writeTree_,e)}function z4(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Ae(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=z4(rn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(rn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t,e){return $4(e,t)}function x8(t,e,n,r,i){Ae(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=jc(t.visibleWrites,e,n)),t.lastWriteId=r}function S8(t,e,n,r){Ae(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=y1(t.visibleWrites,e,n),t.lastWriteId=r}function N8(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function C8(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Ae(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&E8(a,r.path)?i=!1:Zr(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return k8(t),!0;if(r.snap)t.visibleWrites=Ww(t.visibleWrites,r.path);else{const a=r.children;zn(a,l=>{t.visibleWrites=Ww(t.visibleWrites,rn(r.path,l))})}return!0}else return!1}function E8(t,e){if(t.snap)return Zr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Zr(rn(t.path,n),e))return!0;return!1}function k8(t){t.visibleWrites=W4(t.allWrites,A8,wt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function A8(t){return t.visible}function W4(t,e,n){let r=Ei.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Zr(n,o)?(a=ar(n,o),r=jc(r,a,s.snap)):Zr(o,n)&&(a=ar(o,n),r=jc(r,wt(),s.snap.getChild(a)));else if(s.children){if(Zr(n,o))a=ar(n,o),r=y1(r,a,s.children);else if(Zr(o,n))if(a=ar(o,n),ut(a))r=y1(r,wt(),s.children);else{const l=ou(s.children,lt(a));if(l){const c=l.getChild(Ft(a));r=jc(r,wt(),c)}}}else throw gu("WriteRecord should have .snap or .children")}}return r}function H4(t,e,n,r,i){if(!r&&!i){const s=Wa(t.visibleWrites,e);if(s!=null)return s;{const o=Po(t.visibleWrites,e);if(_1(o))return n;if(n==null&&!w1(o,wt()))return null;{const a=n||Ke.EMPTY_NODE;return du(o,a)}}}else{const s=Po(t.visibleWrites,e);if(!i&&_1(s))return n;if(!i&&n==null&&!w1(s,wt()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Zr(c.path,e)||Zr(e,c.path))},a=W4(t.allWrites,o,e),l=n||Ke.EMPTY_NODE;return du(a,l)}}}function P8(t,e,n){let r=Ke.EMPTY_NODE;const i=Wa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Gt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Po(t.visibleWrites,e);return n.forEachChild(Gt,(o,a)=>{const l=du(Po(s,new At(o)),a);r=r.updateImmediateChild(o,l)}),Hw(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Po(t.visibleWrites,e);return Hw(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function I8(t,e,n,r,i){Ae(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=rn(e,n);if(w1(t.visibleWrites,s))return null;{const o=Po(t.visibleWrites,s);return _1(o)?i.getChild(n):du(o,i.getChild(n))}}function T8(t,e,n,r){const i=rn(e,n),s=Wa(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Po(t.visibleWrites,i);return du(o,r.getNode().getImmediateChild(n))}else return null}function L8(t,e){return Wa(t.visibleWrites,e)}function R8(t,e,n,r,i,s,o){let a;const l=Po(t.visibleWrites,e),c=Wa(l,wt());if(c!=null)a=c;else if(n!=null)a=du(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const f=[],h=o.getCompare(),g=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=g.getNext();for(;p&&f.length<i;)h(p,r)!==0&&f.push(p),p=g.getNext();return f}else return[]}function O8(){return{visibleWrites:Ei.empty(),allWrites:[],lastWriteId:-1}}function yp(t,e,n,r){return H4(t.writeTree,t.treePath,e,n,r)}function N2(t,e){return P8(t.writeTree,t.treePath,e)}function qw(t,e,n,r){return I8(t.writeTree,t.treePath,e,n,r)}function wp(t,e){return L8(t.writeTree,rn(t.treePath,e))}function D8(t,e,n,r,i,s){return R8(t.writeTree,t.treePath,e,n,r,i,s)}function C2(t,e,n){return T8(t.writeTree,t.treePath,e,n)}function q4(t,e){return $4(rn(t.treePath,e),t.writeTree)}function $4(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Ae(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ae(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,gd(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,md(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,uu(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,gd(r,e.snapshotNode,i.oldSnap));else throw gu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const V4=new j8;class E2{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Mo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return C2(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Oa(this.viewCache_),s=D8(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(t){return{filter:t}}function B8(t,e){Ae(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ae(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function U8(t,e,n,r,i){const s=new M8;let o,a;if(n.type===Si.OVERWRITE){const c=n;c.source.fromUser?o=b1(t,e,c.path,c.snap,r,i,s):(Ae(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ut(c.path),o=_p(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Si.MERGE){const c=n;c.source.fromUser?o=W8(t,e,c.path,c.children,r,i,s):(Ae(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=x1(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Si.ACK_USER_WRITE){const c=n;c.revert?o=$8(t,e,c.path,r,i,s):o=H8(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Si.LISTEN_COMPLETE)o=q8(t,e,n.path,r,s);else throw gu("Unknown operation type: "+n.type);const l=s.getChanges();return z8(e,o,l),{viewCache:o,changes:l}}function z8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=vp(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(F4(vp(e)))}}function Y4(t,e,n,r,i,s){const o=e.eventCache;if(wp(r,n)!=null)return e;{let a,l;if(ut(n))if(Ae(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Oa(e),f=c instanceof Ke?c:Ke.EMPTY_NODE,h=N2(r,f);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=yp(r,Oa(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=lt(n);if(c===".priority"){Ae(Do(n)===1,"Can't have a priority with additional path components");const f=o.getNode();l=e.serverCache.getNode();const h=qw(r,n,f,l);h!=null?a=t.filter.updatePriority(f,h):a=o.getNode()}else{const f=Ft(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const g=qw(r,n,o.getNode(),l);g!=null?h=o.getNode().getImmediateChild(c).updateChild(f,g):h=o.getNode().getImmediateChild(c)}else h=C2(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,f,i,s):a=o.getNode()}}return Mc(e,a,o.isFullyInitialized()||ut(n),t.filter.filtersNodes())}}function _p(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const f=o?t.filter:t.filter.getIndexedFilter();if(ut(n))c=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=f.updateFullNode(l.getNode(),p,null)}else{const p=lt(n);if(!l.isCompleteForPath(n)&&Do(n)>1)return e;const b=Ft(n),N=l.getNode().getImmediateChild(p).updateChild(b,r);p===".priority"?c=f.updatePriority(l.getNode(),N):c=f.updateChild(l.getNode(),p,N,b,V4,null)}const h=U4(e,c,l.isFullyInitialized()||ut(n),f.filtersNodes()),g=new E2(i,h,s);return Y4(t,h,n,i,g,a)}function b1(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const f=new E2(i,e,s);if(ut(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Mc(e,c,!0,t.filter.filtersNodes());else{const h=lt(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Mc(e,c,a.isFullyInitialized(),a.isFiltered());else{const g=Ft(n),p=a.getNode().getImmediateChild(h);let b;if(ut(g))b=r;else{const S=f.getCompleteChild(h);S!=null?p2(g)===".priority"&&S.getChild(I4(g)).isEmpty()?b=S:b=S.updateChild(g,r):b=Ke.EMPTY_NODE}if(p.equals(b))l=e;else{const S=t.filter.updateChild(a.getNode(),h,b,g,f,o);l=Mc(e,S,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function $w(t,e){return t.eventCache.isCompleteForChild(e)}function W8(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const f=rn(n,l);$w(e,lt(f))&&(a=b1(t,a,f,c,i,s,o))}),r.foreach((l,c)=>{const f=rn(n,l);$w(e,lt(f))||(a=b1(t,a,f,c,i,s,o))}),a}function Vw(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function x1(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ut(n)?c=r:c=new jt(null).setTree(n,r);const f=e.serverCache.getNode();return c.children.inorderTraversal((h,g)=>{if(f.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),b=Vw(t,p,g);l=_p(t,l,new At(h),b,i,s,o,a)}}),c.children.inorderTraversal((h,g)=>{const p=!e.serverCache.isCompleteForChild(h)&&g.value===null;if(!f.hasChild(h)&&!p){const b=e.serverCache.getNode().getImmediateChild(h),S=Vw(t,b,g);l=_p(t,l,new At(h),S,i,s,o,a)}}),l}function H8(t,e,n,r,i,s,o){if(wp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ut(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return _p(t,e,n,l.getNode().getChild(n),i,s,a,o);if(ut(n)){let c=new jt(null);return l.getNode().forEachChild(_a,(f,h)=>{c=c.set(new At(f),h)}),x1(t,e,n,c,i,s,a,o)}else return e}else{let c=new jt(null);return r.foreach((f,h)=>{const g=rn(n,f);l.isCompleteForPath(g)&&(c=c.set(f,l.getNode().getChild(g)))}),x1(t,e,n,c,i,s,a,o)}}function q8(t,e,n,r,i){const s=e.serverCache,o=U4(e,s.getNode(),s.isFullyInitialized()||ut(n),s.isFiltered());return Y4(t,o,n,r,V4,i)}function $8(t,e,n,r,i,s){let o;if(wp(r,n)!=null)return e;{const a=new E2(r,e,i),l=e.eventCache.getNode();let c;if(ut(n)||lt(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=yp(r,Oa(e));else{const h=e.serverCache.getNode();Ae(h instanceof Ke,"serverChildren would be complete if leaf node"),f=N2(r,h)}f=f,c=t.filter.updateFullNode(l,f,s)}else{const f=lt(n);let h=C2(r,f,e.serverCache);h==null&&e.serverCache.isCompleteForChild(f)&&(h=l.getImmediateChild(f)),h!=null?c=t.filter.updateChild(l,f,h,Ft(n),a,s):e.eventCache.getNode().hasChild(f)?c=t.filter.updateChild(l,f,Ke.EMPTY_NODE,Ft(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=yp(r,Oa(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||wp(r,wt())!=null,Mc(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new w2(r.getIndex()),s=a8(r);this.processor_=F8(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Ke.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Ke.EMPTY_NODE,a.getNode(),null),f=new Mo(l,o.isFullyInitialized(),i.filtersNodes()),h=new Mo(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Zp(h,f),this.eventGenerator_=new v8(this.query_)}get query(){return this.query_}}function Y8(t){return t.viewCache_.serverCache.getNode()}function G8(t){return vp(t.viewCache_)}function K8(t,e){const n=Oa(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ut(e)&&!n.getImmediateChild(lt(e)).isEmpty())?n.getChild(e):null}function Yw(t){return t.eventRegistrations_.length===0}function Q8(t,e){t.eventRegistrations_.push(e)}function Gw(t,e,n){const r=[];if(n){Ae(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Kw(t,e,n,r){e.type===Si.MERGE&&e.source.queryId!==null&&(Ae(Oa(t.viewCache_),"We should always have a full cache before handling merges"),Ae(vp(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=U8(t.processor_,i,e,n,r);return B8(t.processor_,s.viewCache),Ae(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,G4(t,s.changes,s.viewCache.eventCache.getNode(),null)}function J8(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Gt,(s,o)=>{r.push(uu(s,o))}),n.isFullyInitialized()&&r.push(F4(n.getNode())),G4(t,r,n.getNode(),e)}function G4(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return y8(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bp;class K4{constructor(){this.views=new Map}}function X8(t){Ae(!bp,"__referenceConstructor has already been defined"),bp=t}function Z8(){return Ae(bp,"Reference.ts has not been loaded"),bp}function e7(t){return t.views.size===0}function k2(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Ae(s!=null,"SyncTree gave us an op for an invalid query."),Kw(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Kw(o,e,n,r));return s}}function Q4(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=yp(n,i?r:null),l=!1;a?l=!0:r instanceof Ke?(a=N2(n,r),l=!1):(a=Ke.EMPTY_NODE,l=!1);const c=Zp(new Mo(a,l,!1),new Mo(r,i,!1));return new V8(e,c)}return o}function t7(t,e,n,r,i,s){const o=Q4(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Q8(o,n),J8(o,n)}function n7(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=jo(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(Gw(c,n,r)),Yw(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(Gw(l,n,r)),Yw(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!jo(t)&&s.push(new(Z8())(e._repo,e._path)),{removed:s,events:o}}function J4(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Io(t,e){let n=null;for(const r of t.views.values())n=n||K8(r,e);return n}function X4(t,e){if(e._queryParams.loadsAllData())return tm(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Z4(t,e){return X4(t,e)!=null}function jo(t){return tm(t)!=null}function tm(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp;function r7(t){Ae(!xp,"__referenceConstructor has already been defined"),xp=t}function i7(){return Ae(xp,"Reference.ts has not been loaded"),xp}let s7=1;class Qw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new jt(null),this.pendingWriteTree_=O8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function eS(t,e,n,r,i){return x8(t.pendingWriteTree_,e,n,r,i),i?xu(t,new Ra(b2(),e,n)):[]}function o7(t,e,n,r){S8(t.pendingWriteTree_,e,n,r);const i=jt.fromObject(n);return xu(t,new cu(b2(),e,i))}function mo(t,e,n=!1){const r=N8(t.pendingWriteTree_,e);if(C8(t.pendingWriteTree_,e)){let s=new jt(null);return r.snap!=null?s=s.set(wt(),!0):zn(r.children,o=>{s=s.set(new At(o),!0)}),xu(t,new gp(r.path,s,n))}else return[]}function Ud(t,e,n){return xu(t,new Ra(x2(),e,n))}function a7(t,e,n){const r=jt.fromObject(n);return xu(t,new cu(x2(),e,r))}function l7(t,e){return xu(t,new yd(x2(),e))}function u7(t,e,n){const r=P2(t,n);if(r){const i=I2(r),s=i.path,o=i.queryId,a=ar(s,e),l=new yd(S2(o),a);return T2(t,s,l)}else return[]}function Sp(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||Z4(o,e))){const l=n7(o,e,n,r);e7(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const f=c.findIndex(g=>g._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(g,p)=>jo(p));if(f&&!h){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const p=h7(g);for(let b=0;b<p.length;++b){const S=p[b],N=S.query,w=iS(t,S);t.listenProvider_.startListening(Fc(N),wd(t,N),w.hashFn,w.onComplete)}}}!h&&c.length>0&&!r&&(f?t.listenProvider_.stopListening(Fc(e),null):c.forEach(g=>{const p=t.queryToTagMap.get(nm(g));t.listenProvider_.stopListening(Fc(g),p)}))}f7(t,c)}return a}function tS(t,e,n,r){const i=P2(t,r);if(i!=null){const s=I2(i),o=s.path,a=s.queryId,l=ar(o,e),c=new Ra(S2(a),l,n);return T2(t,o,c)}else return[]}function c7(t,e,n,r){const i=P2(t,r);if(i){const s=I2(i),o=s.path,a=s.queryId,l=ar(o,e),c=jt.fromObject(n),f=new cu(S2(a),l,c);return T2(t,o,f)}else return[]}function S1(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(g,p)=>{const b=ar(g,i);s=s||Io(p,b),o=o||jo(p)});let a=t.syncPointTree_.get(i);a?(o=o||jo(a),s=s||Io(a,wt())):(a=new K4,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Ke.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,b)=>{const S=Io(b,wt());S&&(s=s.updateImmediateChild(p,S))}));const c=Z4(a,e);if(!c&&!e._queryParams.loadsAllData()){const g=nm(e);Ae(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const p=p7();t.queryToTagMap.set(g,p),t.tagToQueryMap.set(p,g)}const f=em(t.pendingWriteTree_,i);let h=t7(a,e,n,f,s,l);if(!c&&!o&&!r){const g=X4(a,e);h=h.concat(m7(t,e,g))}return h}function A2(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=ar(o,e),c=Io(a,l);if(c)return c});return H4(i,e,s,n,!0)}function d7(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,f)=>{const h=ar(c,n);r=r||Io(f,h)});let i=t.syncPointTree_.get(n);i?r=r||Io(i,wt()):(i=new K4,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Mo(r,!0,!1):null,a=em(t.pendingWriteTree_,e._path),l=Q4(i,e,a,s?o.getNode():Ke.EMPTY_NODE,s);return G8(l)}function xu(t,e){return nS(e,t.syncPointTree_,null,em(t.pendingWriteTree_,wt()))}function nS(t,e,n,r){if(ut(t.path))return rS(t,e,n,r);{const i=e.get(wt());n==null&&i!=null&&(n=Io(i,wt()));let s=[];const o=lt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,f=q4(r,o);s=s.concat(nS(a,l,c,f))}return i&&(s=s.concat(k2(i,t,r,n))),s}}function rS(t,e,n,r){const i=e.get(wt());n==null&&i!=null&&(n=Io(i,wt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=q4(r,o),f=t.operationForChild(o);f&&(s=s.concat(rS(f,a,l,c)))}),i&&(s=s.concat(k2(i,t,r,n))),s}function iS(t,e){const n=e.query,r=wd(t,n);return{hashFn:()=>(Y8(e)||Ke.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?u7(t,n._path,r):l7(t,n._path);{const s=aL(i,n);return Sp(t,n,null,s)}}}}function wd(t,e){const n=nm(e);return t.queryToTagMap.get(n)}function nm(t){return t._path.toString()+"$"+t._queryIdentifier}function P2(t,e){return t.tagToQueryMap.get(e)}function I2(t){const e=t.indexOf("$");return Ae(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new At(t.substr(0,e))}}function T2(t,e,n){const r=t.syncPointTree_.get(e);Ae(r,"Missing sync point for query tag that we're tracking");const i=em(t.pendingWriteTree_,e);return k2(r,n,i,null)}function h7(t){return t.fold((e,n,r)=>{if(n&&jo(n))return[tm(n)];{let i=[];return n&&(i=J4(n)),zn(r,(s,o)=>{i=i.concat(o)}),i}})}function Fc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(i7())(t._repo,t._path):t}function f7(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=nm(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function p7(){return s7++}function m7(t,e,n){const r=e._path,i=wd(t,e),s=iS(t,n),o=t.listenProvider_.startListening(Fc(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)Ae(!jo(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,f,h)=>{if(!ut(c)&&f&&jo(f))return[tm(f).query];{let g=[];return f&&(g=g.concat(J4(f).map(p=>p.query))),zn(h,(p,b)=>{g=g.concat(b)}),g}});for(let c=0;c<l.length;++c){const f=l[c];t.listenProvider_.stopListening(Fc(f),wd(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new L2(n)}node(){return this.node_}}class R2{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=rn(this.path_,e);return new R2(this.syncTree_,n)}node(){return A2(this.syncTree_,this.path_)}}const g7=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Jw=function(t,e,n){if(!t||typeof t!="object")return t;if(Ae(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return v7(t[".sv"],e,n);if(typeof t[".sv"]=="object")return y7(t[".sv"],e);Ae(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},v7=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ae(!1,"Unexpected server value: "+t)}},y7=function(t,e,n){t.hasOwnProperty("increment")||Ae(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Ae(!1,"Unexpected increment value: "+r);const i=e.node();if(Ae(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},sS=function(t,e,n,r){return O2(e,new R2(n,t),r)},oS=function(t,e,n){return O2(t,new L2(e),n)};function O2(t,e,n){const r=t.getPriority().val(),i=Jw(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Jw(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new In(a,Sn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new In(i))),o.forEachChild(Gt,(a,l)=>{const c=O2(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function M2(t,e){let n=e instanceof At?e:new At(e),r=t,i=lt(n);for(;i!==null;){const s=ou(r.node.children,i)||{children:{},childCount:0};r=new D2(i,r,s),n=Ft(n),i=lt(n)}return r}function Su(t){return t.node.value}function aS(t,e){t.node.value=e,N1(t)}function lS(t){return t.node.childCount>0}function w7(t){return Su(t)===void 0&&!lS(t)}function rm(t,e){zn(t.node.children,(n,r)=>{e(new D2(n,t,r))})}function uS(t,e,n,r){n&&!r&&e(t),rm(t,i=>{uS(i,e,!0,r)}),n&&r&&e(t)}function _7(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function zd(t){return new At(t.parent===null?t.name:zd(t.parent)+"/"+t.name)}function N1(t){t.parent!==null&&b7(t.parent,t.name,t)}function b7(t,e,n){const r=w7(n),i=Zi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,N1(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,N1(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7=/[\[\].#$\/\u0000-\u001F\u007F]/,S7=/[\[\].#$\u0000-\u001F\u007F]/,$g=10*1024*1024,j2=function(t){return typeof t=="string"&&t.length!==0&&!x7.test(t)},cS=function(t){return typeof t=="string"&&t.length!==0&&!S7.test(t)},N7=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),cS(t)},C1=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!u2(t)||t&&typeof t=="object"&&Zi(t,".sv")},Wd=function(t,e,n,r){r&&e===void 0||im(Vp(t,"value"),e,n)},im=function(t,e,n){const r=n instanceof At?new zL(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ua(r));if(typeof e=="function")throw new Error(t+"contains a function "+ua(r)+" with contents = "+e.toString());if(u2(e))throw new Error(t+"contains "+e.toString()+" "+ua(r));if(typeof e=="string"&&e.length>$g/3&&Yp(e)>$g)throw new Error(t+"contains a string greater than "+$g+" utf8 bytes "+ua(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(zn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!j2(o)))throw new Error(t+" contains an invalid key ("+o+") "+ua(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);WL(r,o),im(t,a,r),HL(r)}),i&&s)throw new Error(t+' contains ".value" child '+ua(r)+" in addition to actual children.")}},C7=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=pd(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!j2(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(UL);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Zr(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},E7=function(t,e,n,r){const i=Vp(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];zn(e,(o,a)=>{const l=new At(o);if(im(i,a,rn(n,l)),p2(l)===".priority"&&!C1(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),C7(i,s)},F2=function(t,e,n,r){if(!cS(n))throw new Error(Vp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},k7=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),F2(t,e,n)},B2=function(t,e){if(lt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},A7=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!j2(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!N7(n))throw new Error(Vp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!m2(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function dS(t,e,n){sm(t,n),hS(t,r=>m2(r,e))}function ri(t,e,n){sm(t,n),hS(t,r=>Zr(r,e)||Zr(e,r))}function hS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(I7(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function I7(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Oc&&Fn("event: "+n.toString()),bu(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7="repo_interrupt",L7=25;class R7{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new P7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mp(),this.transactionQueueTree_=new D2,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function O7(t,e,n){if(t.stats_=h2(t.repoInfo_),t.forceRestClient_||dL())t.server_=new pp(t.repoInfo_,(r,i,s,o)=>{Xw(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Zw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Cs(t.repoInfo_,e,(r,i,s,o)=>{Xw(t,r,i,s,o)},r=>{Zw(t,r)},r=>{D7(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=gL(t.repoInfo_,()=>new g8(t.stats_,t.server_)),t.infoData_=new d8,t.infoSyncTree_=new Qw({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ud(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),U2(t,"connected",!1),t.serverSyncTree_=new Qw({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);ri(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function fS(t){const n=t.infoData_.getNode(new At(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function om(t){return g7({timestamp:fS(t)})}function Xw(t,e,n,r,i){t.dataUpdateCount++;const s=new At(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=rp(n,c=>Sn(c));o=c7(t.serverSyncTree_,s,l,i)}else{const l=Sn(n);o=tS(t.serverSyncTree_,s,l,i)}else if(r){const l=rp(n,c=>Sn(c));o=a7(t.serverSyncTree_,s,l)}else{const l=Sn(n);o=Ud(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=hu(t,s)),ri(t.eventQueue_,a,o)}function Zw(t,e){U2(t,"connected",e),e===!1&&B7(t)}function D7(t,e){zn(e,(n,r)=>{U2(t,n,r)})}function U2(t,e,n){const r=new At("/.info/"+e),i=Sn(n);t.infoData_.updateSnapshot(r,i);const s=Ud(t.infoSyncTree_,r,i);ri(t.eventQueue_,r,s)}function z2(t){return t.nextWriteId_++}function M7(t,e,n){const r=d7(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Sn(i).withIndex(e._queryParams.getIndex());S1(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Ud(t.serverSyncTree_,e._path,s);else{const a=wd(t.serverSyncTree_,e);o=tS(t.serverSyncTree_,e._path,s,a)}return ri(t.eventQueue_,e._path,o),Sp(t.serverSyncTree_,e,n,null,!0),s},i=>(Hd(t,"get for query "+Nn(e)+" failed: "+i),Promise.reject(new Error(i))))}function j7(t,e,n,r,i){Hd(t,"set",{path:e.toString(),value:n,priority:r});const s=om(t),o=Sn(n,r),a=A2(t.serverSyncTree_,e),l=oS(o,a,s),c=z2(t),f=eS(t.serverSyncTree_,e,l,c,!0);sm(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(g,p)=>{const b=g==="ok";b||ur("set at "+e+" failed: "+g);const S=mo(t.serverSyncTree_,c,!b);ri(t.eventQueue_,e,S),E1(t,i,g,p)});const h=H2(t,e);hu(t,h),ri(t.eventQueue_,h,[])}function F7(t,e,n,r){Hd(t,"update",{path:e.toString(),value:n});let i=!0;const s=om(t),o={};if(zn(n,(a,l)=>{i=!1,o[a]=sS(rn(e,a),Sn(l),t.serverSyncTree_,s)}),i)Fn("update() called with empty data.  Don't do anything."),E1(t,r,"ok",void 0);else{const a=z2(t),l=o7(t.serverSyncTree_,e,o,a);sm(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,f)=>{const h=c==="ok";h||ur("update at "+e+" failed: "+c);const g=mo(t.serverSyncTree_,a,!h),p=g.length>0?hu(t,e):e;ri(t.eventQueue_,p,g),E1(t,r,c,f)}),zn(n,c=>{const f=H2(t,rn(e,c));hu(t,f)}),ri(t.eventQueue_,e,[])}}function B7(t){Hd(t,"onDisconnectEvents");const e=om(t),n=mp();v1(t.onDisconnect_,wt(),(i,s)=>{const o=sS(i,s,t.serverSyncTree_,e);B4(n,i,o)});let r=[];v1(n,wt(),(i,s)=>{r=r.concat(Ud(t.serverSyncTree_,i,s));const o=H2(t,i);hu(t,o)}),t.onDisconnect_=mp(),ri(t.eventQueue_,wt(),r)}function U7(t,e,n){let r;lt(e._path)===".info"?r=S1(t.infoSyncTree_,e,n):r=S1(t.serverSyncTree_,e,n),dS(t.eventQueue_,e._path,r)}function z7(t,e,n){let r;lt(e._path)===".info"?r=Sp(t.infoSyncTree_,e,n):r=Sp(t.serverSyncTree_,e,n),dS(t.eventQueue_,e._path,r)}function W7(t){t.persistentConnection_&&t.persistentConnection_.interrupt(T7)}function Hd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fn(n,...e)}function E1(t,e,n,r){e&&bu(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function pS(t,e,n){return A2(t.serverSyncTree_,e,n)||Ke.EMPTY_NODE}function W2(t,e=t.transactionQueueTree_){if(e||am(t,e),Su(e)){const n=gS(t,e);Ae(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&H7(t,zd(e),n)}else lS(e)&&rm(e,n=>{W2(t,n)})}function H7(t,e,n){const r=n.map(c=>c.currentWriteId),i=pS(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const f=n[c];Ae(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const h=ar(e,f.path);s=s.updateChild(h,f.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Hd(t,"transaction put response",{path:l.toString(),status:c});let f=[];if(c==="ok"){const h=[];for(let g=0;g<n.length;g++)n[g].status=2,f=f.concat(mo(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&h.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();am(t,M2(t.transactionQueueTree_,e)),W2(t,t.transactionQueueTree_),ri(t.eventQueue_,e,f);for(let g=0;g<h.length;g++)bu(h[g])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{ur("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}hu(t,e)}},o)}function hu(t,e){const n=mS(t,e),r=zd(n),i=gS(t,n);return q7(t,i,r),r}function q7(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=ar(n,l.path);let f=!1,h;if(Ae(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,h=l.abortReason,i=i.concat(mo(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=L7)f=!0,h="maxretry",i=i.concat(mo(t.serverSyncTree_,l.currentWriteId,!0));else{const g=pS(t,l.path,o);l.currentInputSnapshot=g;const p=e[a].update(g.val());if(p!==void 0){im("transaction failed: Data returned ",p,l.path);let b=Sn(p);typeof p=="object"&&p!=null&&Zi(p,".priority")||(b=b.updatePriority(g.getPriority()));const N=l.currentWriteId,w=om(t),y=oS(b,g,w);l.currentOutputSnapshotRaw=b,l.currentOutputSnapshotResolved=y,l.currentWriteId=z2(t),o.splice(o.indexOf(N),1),i=i.concat(eS(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(mo(t.serverSyncTree_,N,!0))}else f=!0,h="nodata",i=i.concat(mo(t.serverSyncTree_,l.currentWriteId,!0))}ri(t.eventQueue_,n,i),i=[],f&&(e[a].status=2,function(g){setTimeout(g,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}am(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)bu(r[a]);W2(t,t.transactionQueueTree_)}function mS(t,e){let n,r=t.transactionQueueTree_;for(n=lt(e);n!==null&&Su(r)===void 0;)r=M2(r,n),e=Ft(e),n=lt(e);return r}function gS(t,e){const n=[];return vS(t,e,n),n.sort((r,i)=>r.order-i.order),n}function vS(t,e,n){const r=Su(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);rm(e,i=>{vS(t,i,n)})}function am(t,e){const n=Su(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,aS(e,n.length>0?n:void 0)}rm(e,r=>{am(t,r)})}function H2(t,e){const n=zd(mS(t,e)),r=M2(t.transactionQueueTree_,e);return _7(r,i=>{Vg(t,i)}),Vg(t,r),uS(r,i=>{Vg(t,i)}),n}function Vg(t,e){const n=Su(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Ae(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ae(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(mo(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?aS(e,void 0):n.length=s+1,ri(t.eventQueue_,zd(e),i);for(let o=0;o<r.length;o++)bu(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function V7(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ur(`Invalid query segment '${n}' in query '${t}'`)}return e}const e_=function(t,e){const n=Y7(t),r=n.namespace;n.domain==="firebase.com"&&Rs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Rs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||nL();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new b4(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new At(n.pathString)}},Y7=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let f=t.indexOf("/");f===-1&&(f=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(f,h)),f<h&&(i=$7(t.substring(f,h)));const g=V7(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const b=e.indexOf(".");r=e.substring(0,b).toLowerCase(),n=e.substring(b+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",G7=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=t_.charAt(n%64),n=Math.floor(n/64);Ae(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=t_.charAt(e[i]);return Ae(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Nn(this.snapshot.exportVal())}}class Q7{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Ae(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ut(this._path)?null:p2(this._path)}get ref(){return new Ds(this._repo,this._path)}get _queryIdentifier(){const e=Uw(this._queryParams),n=c2(e);return n==="{}"?"default":n}get _queryObject(){return Uw(this._queryParams)}isEqual(e){if(e=Wn(e),!(e instanceof Nu))return!1;const n=this._repo===e._repo,r=m2(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+BL(this._path)}}function J7(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function q2(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===_a){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==La)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Oo)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Gt){if(e!=null&&!C1(e)||n!=null&&!C1(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Ae(t.getIndex()instanceof y2||t.getIndex()===j4,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function wS(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ds extends Nu{constructor(e,n){super(e,n,new _2,!1)}get parent(){const e=I4(this._path);return e===null?null:new Ds(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class _d{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new At(e),r=bd(this.ref,e);return new _d(this._node.getChild(n),r,Gt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new _d(i,bd(this.ref,r),Gt)))}hasChild(e){const n=new At(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Rr(t,e){return t=Wn(t),t._checkNotDeleted("ref"),e!==void 0?bd(t._root,e):t._root}function bd(t,e){return t=Wn(t),lt(t._path)===null?k7("child","path",e):F2("child","path",e),new Ds(t._repo,rn(t._path,e))}function X7(t,e){t=Wn(t),B2("push",t._path),Wd("push",e,t._path,!0);const n=fS(t._repo),r=G7(n),i=bd(t,r),s=bd(t,r);let o;return e!=null?o=Np(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Z7(t){return B2("remove",t._path),Np(t,null)}function Np(t,e){t=Wn(t),B2("set",t._path),Wd("set",e,t._path,!1);const n=new Ld;return j7(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Sc(t,e){E7("update",e,t._path);const n=new Ld;return F7(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function k1(t){t=Wn(t);const e=new yS(()=>{}),n=new lm(e);return M7(t._repo,t,n).then(r=>new _d(r,new Ds(t._repo,t._path),t._queryParams.getIndex()))}class lm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new K7("value",this,new _d(e.snapshotNode,new Ds(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Q7(this,e,n):null}matches(e){return e instanceof lm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function eR(t,e,n,r,i){const s=new yS(n,void 0),o=new lm(s);return U7(t._repo,t,o),()=>z7(t._repo,t,o)}function tR(t,e,n,r){return eR(t,"value",e)}class um{}class nR extends um{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Wd("endAt",this._value,e._path,!0);const n=u8(e._queryParams,this._value,this._key);if(wS(n),q2(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Nu(e._repo,e._path,n,e._orderByCalled)}}class rR extends um{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Wd("startAt",this._value,e._path,!0);const n=l8(e._queryParams,this._value,this._key);if(wS(n),q2(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Nu(e._repo,e._path,n,e._orderByCalled)}}class iR extends um{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){J7(e,"orderByChild");const n=new At(this._path);if(ut(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new y2(n),i=c8(e._queryParams,r);return q2(i),new Nu(e._repo,e._path,i,!0)}}function A1(t){return F2("orderByChild","path",t),new iR(t)}class sR extends um{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Wd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new nR(this._value,this._key)._apply(new rR(this._value,this._key)._apply(e))}}function P1(t,e){return new sR(t,e)}function I1(t,...e){let n=Wn(t);for(const r of e)n=r._apply(n);return n}X8(Ds);r7(Ds);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="FIREBASE_DATABASE_EMULATOR_HOST",T1={};let aR=!1;function lR(t,e,n,r){t.repoInfo_=new b4(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function uR(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Rs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=e_(s,i),a=o.repoInfo,l;typeof process<"u"&&xw&&(l=xw[oR]),l?(s=`http://${l}?ns=${a.namespace}`,o=e_(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new fL(t.name,t.options,e);A7("Invalid Firebase Database URL",o),ut(o.path)||Rs("Database URL must point to the root of a Firebase Database (not including a child path).");const f=dR(a,t,c,new hL(t.name,n));return new hR(f,t)}function cR(t,e){const n=T1[e];(!n||n[t.key]!==t)&&Rs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),W7(t),delete n[t.key]}function dR(t,e,n,r){let i=T1[e.name];i||(i={},T1[e.name]=i);let s=i[t.toURLString()];return s&&Rs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new R7(t,aR,n,r),i[t.toURLString()]=s,s}class hR{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(O7(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ds(this._repo,wt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(cR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Rs("Cannot call "+e+" on a deleted database.")}}function fR(t=C3(),e){const n=Zv(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=hA("database");r&&pR(n,...r)}return n}function pR(t,e,n,r={}){t=Wn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Rs("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Rs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Af(Af.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:fA(r.mockUserToken,t.app.options.projectId);s=new Af(o)}lR(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t){QT(yu),au(new Ia("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return uR(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ko(Sw,Nw,t),ko(Sw,Nw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR={".sv":"timestamp"};function L1(){return gR}Cs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Cs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};mR();const vR={apiKey:"AIzaSyACnaYrNYJ5r_nt3htBP6clslXGc73X8Ko",authDomain:"nrd-cierres.firebaseapp.com",databaseURL:"https://nrd-cierres-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nrd-cierres",storageBucket:"nrd-cierres.firebasestorage.app",messagingSenderId:"272887514298",appId:"1:272887514298:web:d68ee45c0696ec33602e83"},_S=N3(vR),Yg=VT(_S),Or=fR(_S),bS=me.createContext(null),Cu=()=>{const t=me.useContext(bS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},yR=({children:t})=>{const[e,n]=me.useState(null),[r,i]=me.useState(!0);me.useEffect(()=>OI(Yg,c=>{n(c),i(!1)}),[]);const a={currentUser:e,login:async(l,c)=>{await TI(Yg,l,c)},logout:()=>DI(Yg),loading:r};return L.jsx(bS.Provider,{value:a,children:!r&&t})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),sn=(t,e)=>{const n=me.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},f)=>me.createElement("svg",{ref:f,...wR,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${_R(t)}`,a].join(" "),...c},[...e.map(([h,g])=>me.createElement(h,g)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=sn("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=sn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=sn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=sn("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=sn("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=sn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=sn("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=sn("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=sn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=sn("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=sn("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=sn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=sn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=sn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=sn("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=sn("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=sn("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=sn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=sn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=sn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=sn("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=sn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function OR(){const[t,e]=me.useState(""),[n,r]=me.useState(""),[i,s]=me.useState(!1),{login:o}=Cu(),a=Yv(),l=async c=>{c.preventDefault(),s(!0);try{await o(t,n),a("/dashboard"),qt.success("¡Bienvenido!")}catch(f){const h=f.code==="auth/invalid-credential"?"Credenciales inválidas. Por favor, verifique su correo y contraseña.":"Error al iniciar sesión. Por favor, intente nuevamente.";qt.error(h)}finally{s(!1)}};return L.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center p-4",children:L.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[L.jsxs("div",{className:"text-center mb-8",children:[L.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cierres Diarios"}),L.jsx("p",{className:"text-gray-600 mt-2",children:"Inicie sesión para continuar"})]}),L.jsxs("form",{onSubmit:l,className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrónico"}),L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:L.jsx(IR,{className:"h-5 w-5 text-gray-400"})}),L.jsx("input",{type:"email",value:t,onChange:c=>e(c.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"usuario@ejemplo.com",required:!0,disabled:i})]})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña"}),L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:L.jsx(AR,{className:"h-5 w-5 text-gray-400"})}),L.jsx("input",{type:"password",value:n,onChange:c=>r(c.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••",required:!0,disabled:i})]})]}),L.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?L.jsxs("div",{className:"flex items-center",children:[L.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Iniciando sesión..."]}):"Iniciar Sesión"})]})]})})}function R1({children:t}){const{logout:e,currentUser:n}=Cu(),r=Yv(),i=async()=>{try{await e(),r("/login"),qt.success("Sesión cerrada exitosamente")}catch{qt.error("Error al cerrar sesión")}};return L.jsxs("div",{className:"min-h-screen bg-gray-50",children:[L.jsx("nav",{className:"bg-white shadow-sm",children:L.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:L.jsxs("div",{className:"flex justify-between h-16",children:[L.jsx("div",{className:"flex items-center",children:L.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Cierres Diarios"})}),L.jsxs("div",{className:"flex items-center space-x-4",children:[L.jsx("span",{className:"text-sm text-gray-600",children:n==null?void 0:n.email}),L.jsxs("button",{onClick:i,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-700 hover:text-gray-900 focus:outline-none transition",children:[L.jsx(PR,{className:"h-4 w-4 mr-2"}),"Cerrar Sesión"]})]})]})})}),L.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t})]})}function bt(t){"@babel/helpers - typeof";return bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(t)}function Fo(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function tr(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function es(t){tr(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||bt(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function DR(t,e){tr(2,arguments);var n=es(t).getTime(),r=Fo(e);return new Date(n+r)}var MR={};function cm(){return MR}function jR(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var AS=6e4,PS=36e5;function FR(t){return tr(1,arguments),t instanceof Date||bt(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function BR(t){if(tr(1,arguments),!FR(t)&&typeof t!="number")return!1;var e=es(t);return!isNaN(Number(e))}function UR(t,e){tr(2,arguments);var n=Fo(e);return DR(t,-n)}var zR=864e5;function WR(t){tr(1,arguments);var e=es(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/zR)+1}function Cp(t){tr(1,arguments);var e=1,n=es(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function IS(t){tr(1,arguments);var e=es(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Cp(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Cp(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function HR(t){tr(1,arguments);var e=IS(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Cp(n);return r}var qR=6048e5;function $R(t){tr(1,arguments);var e=es(t),n=Cp(e).getTime()-HR(e).getTime();return Math.round(n/qR)+1}function Ep(t,e){var n,r,i,s,o,a,l,c;tr(1,arguments);var f=cm(),h=Fo((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=es(t),p=g.getUTCDay(),b=(p<h?7:0)+p-h;return g.setUTCDate(g.getUTCDate()-b),g.setUTCHours(0,0,0,0),g}function TS(t,e){var n,r,i,s,o,a,l,c;tr(1,arguments);var f=es(t),h=f.getUTCFullYear(),g=cm(),p=Fo((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:g.firstWeekContainsDate)!==null&&r!==void 0?r:(l=g.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(h+1,0,p),b.setUTCHours(0,0,0,0);var S=Ep(b,e),N=new Date(0);N.setUTCFullYear(h,0,p),N.setUTCHours(0,0,0,0);var w=Ep(N,e);return f.getTime()>=S.getTime()?h+1:f.getTime()>=w.getTime()?h:h-1}function VR(t,e){var n,r,i,s,o,a,l,c;tr(1,arguments);var f=cm(),h=Fo((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),g=TS(t,e),p=new Date(0);p.setUTCFullYear(g,0,h),p.setUTCHours(0,0,0,0);var b=Ep(p,e);return b}var YR=6048e5;function GR(t,e){tr(1,arguments);var n=es(t),r=Ep(n,e).getTime()-VR(n,e).getTime();return Math.round(r/YR)+1}function Et(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Xs={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Et(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Et(r+1,2)},d:function(e,n){return Et(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Et(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Et(e.getUTCHours(),n.length)},m:function(e,n){return Et(e.getUTCMinutes(),n.length)},s:function(e,n){return Et(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Et(s,n.length)}},xl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},KR={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Xs.y(e,n)},Y:function(e,n,r,i){var s=TS(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Et(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Et(o,n.length)},R:function(e,n){var r=IS(e);return Et(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Et(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Et(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Et(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Xs.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Et(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=GR(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Et(s,n.length)},I:function(e,n,r){var i=$R(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Et(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Xs.d(e,n)},D:function(e,n,r){var i=WR(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Et(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Et(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Et(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Et(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=xl.noon:i===0?s=xl.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=xl.evening:i>=12?s=xl.afternoon:i>=4?s=xl.morning:s=xl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Xs.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Xs.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Et(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Et(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Xs.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Xs.s(e,n)},S:function(e,n){return Xs.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return i_(o);case"XXXX":case"XX":return ca(o);case"XXXXX":case"XXX":default:return ca(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return i_(o);case"xxxx":case"xx":return ca(o);case"xxxxx":case"xxx":default:return ca(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+r_(o,":");case"OOOO":default:return"GMT"+ca(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+r_(o,":");case"zzzz":default:return"GMT"+ca(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return Et(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return Et(o,n.length)}};function r_(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e;return n+String(i)+o+Et(s,2)}function i_(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Et(Math.abs(t)/60,2)}return ca(t,e)}function ca(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=Et(Math.floor(i/60),2),o=Et(i%60,2);return r+s+n+o}var s_=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},LS=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},QR=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return s_(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",s_(i,n)).replace("{{time}}",LS(s,n))},JR={p:LS,P:QR},XR=["D","DD"],ZR=["YY","YYYY"];function eO(t){return XR.indexOf(t)!==-1}function tO(t){return ZR.indexOf(t)!==-1}function o_(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var nO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rO=function(e,n,r){var i,s=nO[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Xl(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var iO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aO={date:Xl({formats:iO,defaultWidth:"full"}),time:Xl({formats:sO,defaultWidth:"full"}),dateTime:Xl({formats:oO,defaultWidth:"full"})},lO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uO=function(e,n,r,i){return lO[e]};function $i(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var cO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gO=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},vO={ordinalNumber:gO,era:$i({values:cO,defaultWidth:"wide"}),quarter:$i({values:dO,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:$i({values:hO,defaultWidth:"wide"}),day:$i({values:fO,defaultWidth:"wide"}),dayPeriod:$i({values:pO,defaultWidth:"wide",formattingValues:mO,defaultFormattingWidth:"wide"})};function Vi(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?wO(a,function(h){return h.test(o)}):yO(a,function(h){return h.test(o)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var f=e.slice(o.length);return{value:c,rest:f}}}function yO(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function wO(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function RS(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var _O=/^(\d+)(th|st|nd|rd)?/i,bO=/\d+/i,xO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},SO={any:[/^b/i,/^(a|c)/i]},NO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CO={any:[/1/i,/2/i,/3/i,/4/i]},EO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},AO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},PO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LO={ordinalNumber:RS({matchPattern:_O,parsePattern:bO,valueCallback:function(e){return parseInt(e,10)}}),era:Vi({matchPatterns:xO,defaultMatchWidth:"wide",parsePatterns:SO,defaultParseWidth:"any"}),quarter:Vi({matchPatterns:NO,defaultMatchWidth:"wide",parsePatterns:CO,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Vi({matchPatterns:EO,defaultMatchWidth:"wide",parsePatterns:kO,defaultParseWidth:"any"}),day:Vi({matchPatterns:AO,defaultMatchWidth:"wide",parsePatterns:PO,defaultParseWidth:"any"}),dayPeriod:Vi({matchPatterns:IO,defaultMatchWidth:"any",parsePatterns:TO,defaultParseWidth:"any"})},RO={code:"en-US",formatDistance:rO,formatLong:aO,formatRelative:uO,localize:vO,match:LO,options:{weekStartsOn:0,firstWeekContainsDate:1}},OO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MO=/^'([^]*?)'?$/,jO=/''/g,FO=/[a-zA-Z]/;function dm(t,e,n){var r,i,s,o,a,l,c,f,h,g,p,b,S,N,w,y,_,E;tr(2,arguments);var D=String(e),B=cm(),R=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:B.locale)!==null&&r!==void 0?r:RO,P=Fo((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(f=c.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&a!==void 0?a:B.firstWeekContainsDate)!==null&&o!==void 0?o:(h=B.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var q=Fo((p=(b=(S=(N=n==null?void 0:n.weekStartsOn)!==null&&N!==void 0?N:n==null||(w=n.locale)===null||w===void 0||(y=w.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&S!==void 0?S:B.weekStartsOn)!==null&&b!==void 0?b:(_=B.locale)===null||_===void 0||(E=_.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&p!==void 0?p:0);if(!(q>=0&&q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!R.localize)throw new RangeError("locale must contain localize property");if(!R.formatLong)throw new RangeError("locale must contain formatLong property");var $=es(t);if(!BR($))throw new RangeError("Invalid time value");var A=jR($),k=UR($,A),V={firstWeekContainsDate:P,weekStartsOn:q,locale:R,_originalDate:$},G=D.match(DO).map(function(se){var Q=se[0];if(Q==="p"||Q==="P"){var Y=JR[Q];return Y(se,R.formatLong)}return se}).join("").match(OO).map(function(se){if(se==="''")return"'";var Q=se[0];if(Q==="'")return BO(se);var Y=KR[Q];if(Y)return!(n!=null&&n.useAdditionalWeekYearTokens)&&tO(se)&&o_(se,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&eO(se)&&o_(se,e,String(t)),Y(k,se,R.localize,V);if(Q.match(FO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return se}).join("");return G}function BO(t){var e=t.match(MO);return e?e[1].replace(jO,"'"):t}function OS(t,e){var n;tr(1,arguments);var r=Fo((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=HO(t),s;if(i.date){var o=qO(i.date,r);s=$O(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,c;if(i.time&&(l=VO(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=YO(i.timezone),isNaN(c))return new Date(NaN)}else{var f=new Date(a+l),h=new Date(0);return h.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),h.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),h}return new Date(a+l+c)}var tf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},UO=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zO=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,WO=/^([+-])(\d{2})(?::?(\d{2}))?$/;function HO(t){var e={},n=t.split(tf.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],tf.timeZoneDelimiter.test(e.date)&&(e.date=t.split(tf.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=tf.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function qO(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function $O(t,e){if(e===null)return new Date(NaN);var n=t.match(UO);if(!n)return new Date(NaN);var r=!!n[4],i=pc(n[1]),s=pc(n[2])-1,o=pc(n[3]),a=pc(n[4]),l=pc(n[5])-1;if(r)return XO(e,a,l)?GO(e,a,l):new Date(NaN);var c=new Date(0);return!QO(e,s,o)||!JO(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,o)),c)}function pc(t){return t?parseInt(t):1}function VO(t){var e=t.match(zO);if(!e)return NaN;var n=Gg(e[1]),r=Gg(e[2]),i=Gg(e[3]);return ZO(n,r,i)?n*PS+r*AS+i*1e3:NaN}function Gg(t){return t&&parseFloat(t.replace(",","."))||0}function YO(t){if(t==="Z")return 0;var e=t.match(WO);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return eD(r,i)?n*(r*PS+i*AS):NaN}function GO(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var KO=[31,null,31,30,31,30,31,31,30,31,30,31];function DS(t){return t%400===0||t%4===0&&t%100!==0}function QO(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(KO[e]||(DS(t)?29:28))}function JO(t,e){return e>=1&&e<=(DS(t)?366:365)}function XO(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function ZO(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function eD(t,e){return e>=0&&e<=59}var tD={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},nD=function(e,n,r){var i,s=tD[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+i:"hace "+i:i},rD={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},iD={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},sD={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oD={date:Xl({formats:rD,defaultWidth:"full"}),time:Xl({formats:iD,defaultWidth:"full"}),dateTime:Xl({formats:sD,defaultWidth:"full"})},aD={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},lD={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},uD=function(e,n,r,i){return n.getUTCHours()!==1?lD[e]:aD[e]},cD={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},dD={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},hD={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},fD={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},pD={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},mD={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},gD=function(e,n){var r=Number(e);return r+"º"},vD={ordinalNumber:gD,era:$i({values:cD,defaultWidth:"wide"}),quarter:$i({values:dD,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:$i({values:hD,defaultWidth:"wide"}),day:$i({values:fD,defaultWidth:"wide"}),dayPeriod:$i({values:pD,defaultWidth:"wide",formattingValues:mD,defaultFormattingWidth:"wide"})},yD=/^(\d+)(º)?/i,wD=/\d+/i,_D={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},bD={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},xD={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},SD={any:[/1/i,/2/i,/3/i,/4/i]},ND={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},CD={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},ED={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},kD={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},AD={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},PD={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},ID={ordinalNumber:RS({matchPattern:yD,parsePattern:wD,valueCallback:function(e){return parseInt(e,10)}}),era:Vi({matchPatterns:_D,defaultMatchWidth:"wide",parsePatterns:bD,defaultParseWidth:"any"}),quarter:Vi({matchPatterns:xD,defaultMatchWidth:"wide",parsePatterns:SD,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Vi({matchPatterns:ND,defaultMatchWidth:"wide",parsePatterns:CD,defaultParseWidth:"any"}),day:Vi({matchPatterns:ED,defaultMatchWidth:"wide",parsePatterns:kD,defaultParseWidth:"any"}),dayPeriod:Vi({matchPatterns:AD,defaultMatchWidth:"any",parsePatterns:PD,defaultParseWidth:"any"})},MS={code:"es",formatDistance:nD,formatLong:oD,formatRelative:uD,localize:vD,match:ID,options:{weekStartsOn:1,firstWeekContainsDate:1}},O1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(O1,O1.exports);var TD=O1.exports;const LD=K1(TD);var D1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(D1,D1.exports);var RD=D1.exports;const a_=K1(RD);function OD(t,e){var n=FD(e);return n.formatToParts?MD(n,t):jD(n,t)}var DD={year:0,month:1,day:2,hour:3,minute:4,second:5};function MD(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=DD[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function jD(t,e){var n=t.format(e),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var Kg={};function FD(t){if(!Kg[t]){var e=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Kg[t]=n?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Kg[t]}function jS(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var l_=36e5,BD=6e4,Qg={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function FS(t,e,n){var r,i;if(!t||(r=Qg.timezoneZ.exec(t),r))return 0;var s;if(r=Qg.timezoneHH.exec(t),r)return s=parseInt(r[1],10),u_(s)?-(s*l_):NaN;if(r=Qg.timezoneHHMM.exec(t),r){s=parseInt(r[2],10);var o=parseInt(r[3],10);return u_(s,o)?(i=Math.abs(s)*l_+o*BD,r[1]==="+"?-i:i):NaN}if(WD(t)){e=new Date(e||Date.now());var a=n?e:UD(e),l=M1(a,t),c=n?l:zD(e,l,t);return-c}return NaN}function UD(t){return jS(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function M1(t,e){var n=OD(t,e),r=jS(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function zD(t,e,n){var r=t.getTime(),i=r-e,s=M1(new Date(i),n);if(e===s)return e;i-=s-e;var o=M1(new Date(i),n);return s===o?s:Math.max(s,o)}function u_(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var c_={};function WD(t){if(c_[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),c_[t]=!0,!0}catch{return!1}}var HD=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Jg=36e5,d_=6e4,qD=2,or={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:HD};function $D(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n={},r=n.additionalDigits==null?qD:LD(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=VD(t),s=YD(i.date,r),o=s.year,a=s.restDateString,l=GD(a,o);if(isNaN(l))return new Date(NaN);if(l){var c=l.getTime(),f=0,h;if(i.time&&(f=KD(i.time),isNaN(f)))return new Date(NaN);if(i.timeZone||n.timeZone){if(h=FS(i.timeZone||n.timeZone,new Date(c+f)),isNaN(h))return new Date(NaN)}else h=a_(new Date(c+f)),h=a_(new Date(c+f+h));return new Date(c+f+h)}else return new Date(NaN)}function VD(t){var e={},n=or.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=or.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=or.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function YD(t,e){var n=or.YYY[e],r=or.YYYYY[e],i;if(i=or.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=or.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function GD(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=or.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,f_(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=or.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return XD(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=or.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return f_(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=or.Www.exec(t),n)return s=parseInt(n[1],10)-1,p_(e,s)?h_(e,s):new Date(NaN);if(n=or.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return p_(e,s,l)?h_(e,s,l):new Date(NaN)}return null}function KD(t){var e,n,r;if(e=or.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),Xg(n)?n%24*Jg:NaN;if(e=or.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),Xg(n,r)?n%24*Jg+r*d_:NaN;if(e=or.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return Xg(n,r,i)?n%24*Jg+r*d_+i*1e3:NaN}return null}function h_(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var QD=[31,28,31,30,31,30,31,31,30,31,30,31],JD=[31,29,31,30,31,30,31,31,30,31,30,31];function BS(t){return t%400===0||t%4===0&&t%100!==0}function f_(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=BS(t);if(r&&n>JD[e]||!r&&n>QD[e])return!1}return!0}function XD(t,e){if(e<1)return!1;var n=BS(t);return!(n&&e>366||!n&&e>365)}function p_(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function Xg(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}function hm(t,e,n){var r=$D(t,n),i=FS(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}const fm="America/Montevideo",US=t=>{const e=typeof t=="string"?OS(t):new Date(t),n=hm(e,fm);return dm(n,"d 'de' MMMM, yyyy",{locale:MS})},zS=t=>{const e=hm(new Date(t),fm);return dm(e,"dd/MM/yyyy HH:mm",{locale:MS})},m_=t=>{const e=typeof t=="string"?OS(t):t,n=hm(e,fm);return dm(n,"yyyy-MM-dd")},V2=()=>{const e=hm(new Date,fm);return dm(e,"yyyy-MM-dd")};function ZD({closures:t,onClosureClick:e}){const n=V2(),r=i=>i.accounts.reduce((s,o)=>(o.type==="efectivo"?s.cashBalance+=o.currentBalance:o.type==="banco"&&(s.bankBalance+=o.currentBalance),s),{cashBalance:0,bankBalance:0});return L.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:L.jsx("div",{className:"divide-y divide-gray-200",children:t.map((i,s)=>{const{cashBalance:o,bankBalance:a}=r(i),l=i.date===n,c=s===0;return L.jsxs("button",{onClick:()=>e(i),className:`w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors ${l?"bg-blue-50 hover:bg-blue-100":""} ${c?"border-b-4 border-gray-200":""}`,children:[L.jsxs("div",{className:"flex-1",children:[L.jsxs("div",{className:"flex items-center",children:[L.jsxs("div",{className:"flex items-center",children:[l&&L.jsx(xS,{className:"h-5 w-5 text-blue-600 mr-2"}),L.jsx("span",{className:`text-lg font-medium ${l?"text-blue-900":"text-gray-900"}`,children:US(i.date)})]}),L.jsx("span",{className:`ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.status==="open"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i.status==="open"?"Abierto":"Cerrado"})]}),L.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[L.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[L.jsx(SS,{className:"h-4 w-4 text-green-500 mr-1"}),L.jsxs("span",{className:o>=0?"text-green-600":"text-red-600",children:["$",o.toLocaleString("es-AR")]})]}),L.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[L.jsx($2,{className:"h-4 w-4 text-purple-500 mr-1"}),L.jsxs("span",{className:a>=0?"text-green-600":"text-red-600",children:["$",a.toLocaleString("es-AR")]})]}),L.jsxs("div",{className:"text-sm text-gray-500",children:["Saldo final: ",L.jsxs("span",{className:i.finalBalance>=0?"text-green-600":"text-red-600",children:["$",i.finalBalance.toLocaleString("es-AR")]})]})]})]}),L.jsx(CR,{className:`h-5 w-5 ${l?"text-blue-400":"text-gray-400"}`})]},i.id)})})})}const nf={CASH:"efectivo",BANK:"banco"},Sl={INCOME:"ingreso",EXPENSE:"egreso"},eM={"account-1":{name:"Caja Cofre",type:nf.CASH},"account-2":{name:"Caja Mostrador",type:nf.CASH},"account-3":{name:"Cuenta Débito Santander",type:nf.BANK},"account-4":{name:"Cuenta Crédito Santander",type:nf.BANK}},Pn={PENDING_INVOICE:{id:"pending-invoice",name:"Pendiente a Facturar",order:1,isFinal:!1,description:"Este movimiento requiere generar una factura. Para completar este estado, debe emitir la factura correspondiente en el sistema de facturación y registrar el número de comprobante."},PENDING_ACCOUNTING:{id:"pending-accounting",name:"Pendiente a Contabilizar",order:2,isFinal:!1,description:"Este movimiento debe ser registrado en el sistema contable. Para avanzar, registre el asiento contable correspondiente y verifique que los montos coincidan."},PENDING_PAYMENT:{id:"pending-payment",name:"Pendiente a Pagar",order:1,isFinal:!1,description:"Este movimiento está pendiente de pago. Para completar este estado, realice el pago correspondiente y registre el comprobante de pago."},PENDING_CONTROL:{id:"pending-control",name:"Pendiente a Controlar",order:2,isFinal:!1,description:"Este movimiento requiere verificación y control. Revise la documentación respaldatoria y verifique que los montos y conceptos sean correctos antes de avanzar."},COMPLETED:{id:"completed",name:"Finalizado",order:3,isFinal:!0,description:"Este movimiento ha completado todos sus estados y ha sido procesado correctamente. No se requieren más acciones."}},tM={"concept-1":{name:"(+) Ingresos por Venta",type:Sl.INCOME,states:[Pn.PENDING_INVOICE,Pn.PENDING_ACCOUNTING,Pn.COMPLETED]},"concept-2":{name:"(+) Ingresos Varios",type:Sl.INCOME,states:[Pn.PENDING_PAYMENT,Pn.PENDING_CONTROL,Pn.COMPLETED]},"concept-3":{name:"(-) Pago a Proveedores",type:Sl.EXPENSE,states:[Pn.PENDING_PAYMENT,Pn.COMPLETED]},"concept-4":{name:"(-) Pago de Servicios",type:Sl.EXPENSE,states:[Pn.PENDING_PAYMENT,Pn.PENDING_ACCOUNTING,Pn.COMPLETED]},"concept-5":{name:"(-) Salarios",type:Sl.EXPENSE,states:[Pn.PENDING_CONTROL,Pn.COMPLETED]},"concept-6":{name:"(-) Egresos Varios",type:Sl.EXPENSE,states:[Pn.PENDING_CONTROL,Pn.COMPLETED]}};function Y2(){const[t,e]=me.useState([]),[n,r]=me.useState([]),[i,s]=me.useState(!0),[o,a]=me.useState(null);return me.useEffect(()=>{try{const l=Object.entries(eM).map(([f,h])=>({id:f,name:h.name,type:h.type}));e(l);const c=Object.entries(tM).map(([f,h])=>({id:f,name:h.name,type:h.type,states:h.states}));r(c),s(!1)}catch(l){console.error("Error loading predefined data:",l),a("Error al cargar los datos predefinidos"),s(!1)}},[]),{accounts:t,concepts:n,loading:i,error:o}}function g_({account:t,value:e,previousBalance:n,onChange:r,disabled:i}){const s=a=>{const l=a.target.value;(l===""||parseFloat(l)>=0)&&r(l)},o=()=>t.type==="efectivo"?L.jsx(kS,{className:"h-5 w-5 text-green-500"}):L.jsx($2,{className:"h-5 w-5 text-purple-500"});return L.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm hover:border-gray-300 transition-colors",children:L.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:L.jsxs("div",{className:"flex-1",children:[L.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[o(),L.jsx("label",{className:"text-sm font-medium text-gray-700",children:t.name})]}),L.jsxs("span",{className:`text-sm ${n>=0?"text-green-600":"text-red-600"}`,children:["(Saldo anterior: $",n.toLocaleString("es-AR"),")"]})]}),L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:L.jsx("span",{className:"text-gray-500",children:"$"})}),L.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Ingrese el saldo inicial",value:e,onChange:s,className:"input pl-8 w-full",required:!0,disabled:i})]})]})})})}function nM({date:t,onDateChange:e,isSubmitting:n,lastClosureDate:r}){return L.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha del Cierre"}),L.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[L.jsxs("div",{className:"relative flex-1 w-full",children:[L.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:L.jsx(xS,{className:"h-5 w-5 text-gray-400"})}),L.jsx("input",{type:"date",value:t,onChange:i=>e(i.target.value),className:"input pl-10 w-full",required:!0,disabled:n,min:r?new Date(r).toISOString().split("T")[0]:void 0,max:V2()})]}),r&&L.jsxs("div",{className:"text-sm text-gray-500 bg-white px-3 py-2 rounded-md border border-gray-200",children:[L.jsx("span",{className:"font-medium",children:"Último cierre:"})," ",new Date(r).toLocaleDateString()]})]})]})}function rM({date:t,onDateChange:e,accounts:n,selectedAccounts:r,onAccountChange:i,isSubmitting:s,lastClosureDate:o,previousBalances:a}){const l=r.reduce((h,g)=>{const p=parseFloat(g.initialBalance)||0;return h+p},0),c=n.filter(h=>h.type==="efectivo"),f=n.filter(h=>h.type==="banco");return L.jsxs("div",{className:"space-y-6",children:[L.jsx(nM,{date:t,onDateChange:e,isSubmitting:s,lastClosureDate:o}),L.jsxs("div",{children:[L.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[L.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Saldos Iniciales"}),L.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm",children:[L.jsx("span",{className:"text-sm text-gray-500",children:"Balance Total:"})," ",L.jsxs("span",{className:`font-medium ${l>=0?"text-green-600":"text-red-600"}`,children:["$",l.toLocaleString("es-AR")]})]})]}),L.jsxs("div",{className:"space-y-6",children:[c.length>0&&L.jsxs("div",{children:[L.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-3",children:"Efectivo"}),L.jsx("div",{className:"space-y-3",children:c.map((h,g)=>{var p;return L.jsx(g_,{account:h,value:((p=r[g])==null?void 0:p.initialBalance)||"",previousBalance:a[h.id]||0,onChange:b=>i(g,"initialBalance",b),disabled:s},h.id)})})]}),f.length>0&&L.jsxs("div",{children:[L.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-3",children:"Banco"}),L.jsx("div",{className:"space-y-3",children:f.map((h,g)=>{var p;return L.jsx(g_,{account:h,value:((p=r[c.length+g])==null?void 0:p.initialBalance)||"",previousBalance:a[h.id]||0,onChange:b=>i(c.length+g,"initialBalance",b),disabled:s},h.id)})})]})]})]})]})}const iM=({isOpen:t,onClose:e})=>{const{currentUser:n}=Cu(),{accounts:r,loading:i,error:s}=Y2(),[o,a]=me.useState(V2()),[l,c]=me.useState([]),[f,h]=me.useState(!1),[g,p]=me.useState(null),[b,S]=me.useState({});me.useEffect(()=>{s&&qt.error(s)},[s]),me.useEffect(()=>{!n||!r||(c(r.map(E=>({accountId:E.id,initialBalance:""}))),N())},[n,r]);const N=async()=>{if(n)try{const E=Rr(Or,"closures"),D=I1(E,A1("userId"),P1(n.uid)),B=await k1(D);if(B.exists()){const P=Object.values(B.val()).sort((q,$)=>new Date($.date).getTime()-new Date(q.date).getTime());if(P.length>0){const q=P[0];p(q.date);const $={};q.accounts.forEach(A=>{$[A.id]=A.currentBalance}),S($),c(r.map(A=>{var k;return{accountId:A.id,initialBalance:((k=$[A.id])==null?void 0:k.toString())||""}}))}}}catch(E){console.error("Error loading last closure:",E),qt.error("Error al cargar el último cierre")}},w=(E,D,B)=>{c(l.map((R,P)=>P===E?{...R,[D]:B}:R))},y=async E=>{if(!n)return!1;try{const D=Rr(Or,"closures"),B=m_(E),R=I1(D,A1("userId"),P1(n.uid)),P=await k1(R);return P.exists()?Object.values(P.val()).some($=>$.date===B):!1}catch(D){throw console.error("Error checking date:",D),new Error("Error al verificar la fecha")}},_=async E=>{if(E.preventDefault(),!n){qt.error("Usuario no autenticado");return}h(!0);try{if(!o)throw new Error("La fecha es requerida");if(g&&o<=g)throw new Error("La fecha debe ser posterior al último cierre");if(await y(o))throw new Error("Ya existe un cierre para la fecha seleccionada");if(l.some($=>!$.accountId||$.initialBalance===""))throw new Error("Por favor complete todos los saldos iniciales");const B=l.map($=>{const A=r.find(V=>V.id===$.accountId);if(!A)throw new Error("Cuenta no encontrada");const k=parseFloat($.initialBalance);if(isNaN(k))throw new Error("El saldo inicial debe ser un número válido");if(k<0)throw new Error("Los saldos iniciales no pueden ser negativos");return{id:$.accountId,name:A.name,type:A.type,initialBalance:k,currentBalance:k}}),R=B.reduce(($,A)=>$+A.initialBalance,0),q={date:m_(o),status:"open",accounts:B,transactions:[],observations:"",userId:n.uid,finalBalance:R,createdAt:L1(),updatedAt:L1()};await X7(Rr(Or,"closures"),q),qt.success("Cierre diario creado exitosamente"),e()}catch(D){console.error("Error al crear el cierre:",D),qt.error(D instanceof Error?D.message:"Error al crear el cierre diario")}finally{h(!1)}};return t?i?L.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"}),L.jsx("div",{className:"relative bg-white rounded-lg p-6",children:L.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):L.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:L.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:e}),L.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[L.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[L.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Nuevo Cierre Diario"}),L.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",disabled:f,children:L.jsx(Ha,{className:"h-6 w-6"})})]}),L.jsxs("form",{onSubmit:_,className:"p-6",children:[L.jsx(rM,{date:o,onDateChange:a,accounts:r,selectedAccounts:l,onAccountChange:w,isSubmitting:f,lastClosureDate:g,previousBalances:b}),L.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[L.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary",disabled:f,children:"Cancelar"}),L.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?L.jsxs("div",{className:"flex items-center",children:[L.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creando..."]}):"Crear Cierre"})]})]})]})]})}):null};function sM({isOpen:t,onClose:e,onConfirm:n,isLoading:r}){return t?L.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:L.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:e}),L.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[L.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[L.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Eliminar Cierre"}),L.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:L.jsx(Ha,{className:"h-6 w-6"})})]}),L.jsxs("div",{className:"p-6",children:[L.jsx("p",{className:"text-gray-700 mb-6",children:"¿Está seguro que desea eliminar este cierre diario? Esta acción no se puede deshacer."}),L.jsxs("div",{className:"flex justify-end gap-3",children:[L.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary",disabled:r,children:"Cancelar"}),L.jsx("button",{type:"button",onClick:n,className:"btn bg-red-600 text-white hover:bg-red-700",disabled:r,children:r?L.jsxs("div",{className:"flex items-center",children:[L.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Eliminando..."]}):"Eliminar"})]})]})]})]})}):null}function oM({isOpen:t,onClose:e,onConfirm:n,isLoading:r}){return t?L.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:L.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:e}),L.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[L.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[L.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Eliminar Movimiento"}),L.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",disabled:r,children:L.jsx(Ha,{className:"h-6 w-6"})})]}),L.jsxs("div",{className:"p-6",children:[L.jsx("p",{className:"text-gray-700 mb-6",children:"¿Está seguro que desea eliminar este movimiento? Esta acción no se puede deshacer."}),L.jsxs("div",{className:"flex justify-end gap-3",children:[L.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary",disabled:r,children:"Cancelar"}),L.jsx("button",{type:"button",onClick:n,className:"btn bg-red-600 text-white hover:bg-red-700",disabled:r,children:r?L.jsxs("div",{className:"flex items-center",children:[L.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Eliminando..."]}):"Eliminar"})]})]})]})]})}):null}function aM({accounts:t,finalBalance:e}){return L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[L.jsx("thead",{children:L.jsxs("tr",{children:[L.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cuenta"}),L.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Saldo Inicial"}),L.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Saldo Actual"})]})}),L.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[t.map(n=>L.jsxs("tr",{children:[L.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.name}),L.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:["$",n.initialBalance.toLocaleString("es-AR")]}),L.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:["$",n.currentBalance.toLocaleString("es-AR")]})]},n.id)),L.jsxs("tr",{className:"bg-gray-50 font-medium",children:[L.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Total"}),L.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:["$",t.reduce((n,r)=>n+r.initialBalance,0).toLocaleString("es-AR")]}),L.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:["$",e.toLocaleString("es-AR")]})]})]})]})})}function lM(){const[t,e]=me.useState([]),[n,r]=me.useState(!0),{currentUser:i}=Cu();return me.useEffect(()=>{if(!i)return;(async()=>{try{const l=Rr(Or,`users/${i.uid}/transactionTags`),c=await k1(l);c.exists()&&e(c.val())}catch(l){console.error("Error loading tags:",l)}finally{r(!1)}})()},[i]),{tags:t,loading:n,addTag:async a=>{if(!i||t.includes(a))return;const l=[...t,a];try{await Np(Rr(Or,`users/${i.uid}/transactionTags`),l),e(l)}catch(c){console.error("Error adding tag:",c)}},addTags:async a=>{if(!i)return;const l=[...new Set([...t,...a])];try{await Np(Rr(Or,`users/${i.uid}/transactionTags`),l),e(l)}catch(c){console.error("Error adding tags:",c)}}}}function uM({tags:t,suggestions:e,onTagsChange:n,disabled:r=!1,placeholder:i="Presione Enter para agregar una etiqueta"}){const[s,o]=me.useState(""),[a,l]=me.useState(!1),[c,f]=me.useState([]),h=me.useRef(null),g=me.useRef(null);me.useEffect(()=>{const N=w=>{g.current&&!g.current.contains(w.target)&&l(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]),me.useEffect(()=>{if(s){const N=e.filter(w=>w.toLowerCase().includes(s.toLowerCase())&&!t.includes(w));f(N),l(N.length>0)}else l(!1)},[s,e,t]);const p=N=>{const w=N.trim();w&&!t.includes(w)&&n([...t,w]),o(""),l(!1)},b=N=>{n(t.filter(w=>w!==N))},S=N=>{N.key==="Enter"&&s?(N.preventDefault(),p(s)):N.key==="Backspace"&&!s&&t.length>0&&b(t[t.length-1])};return L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"min-h-[42px] w-full px-3 py-2 border border-gray-300 rounded-md focus-within:ring-1 focus-within:ring-blue-500 focus-within:border-blue-500 bg-white",children:L.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.map((N,w)=>L.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[N,!r&&L.jsx("button",{type:"button",onClick:()=>b(N),className:"ml-1 inline-flex items-center p-0.5 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500",children:L.jsx(Ha,{className:"h-3 w-3"})})]},w)),L.jsx("input",{ref:h,type:"text",value:s,onChange:N=>o(N.target.value),onKeyDown:S,onFocus:()=>l(c.length>0),className:"flex-1 outline-none min-w-[120px] bg-transparent",placeholder:t.length===0?i:"",disabled:r})]})}),a&&!r&&L.jsx("div",{ref:g,className:"absolute z-10 mt-1 w-full bg-white rounded-md shadow-lg border border-gray-200",children:L.jsx("ul",{className:"max-h-60 overflow-auto py-1",children:c.map((N,w)=>L.jsx("li",{onClick:()=>p(N),className:"px-3 py-2 hover:bg-gray-100 cursor-pointer text-sm",children:N},w))})})]})}function cM({transaction:t,onUpdate:e,onSubmit:n,onCancel:r,isSubmitting:i,isEditing:s,accounts:o}){const{concepts:a}=Y2(),{tags:l,addTags:c}=lM();a==null||a.find(N=>N.name===t.concept);const f=t.concept&&t.accountId&&t.amount!==void 0&&t.amount!==null&&!isNaN(t.amount),h=()=>{t.amount!==void 0&&t.amount!==null&&e({...t,amount:-t.amount})},g=N=>{(a==null?void 0:a.find(y=>y.name===N))&&e({...t,concept:N,amount:void 0})},p=N=>{const w=N===""?void 0:parseFloat(N);if(w===void 0){e({...t,amount:void 0});return}if(isNaN(w))return;const y=a==null?void 0:a.find(E=>E.name===t.concept);let _=w;(y==null?void 0:y.type)==="egreso"?_=-Math.abs(w):(y==null?void 0:y.type)==="ingreso"&&(_=Math.abs(w)),e({...t,amount:_})},b=N=>{e({...t,description:N.join(", ")}),c(N)},S=t.description?t.description.split(",").map(N=>N.trim()).filter(Boolean):[];return L.jsxs("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg",children:[L.jsxs("div",{className:"flex justify-between items-center mb-4",children:[L.jsx("h4",{className:"text-lg font-medium text-gray-900",children:s?"Editar Movimiento":"Nuevo Movimiento"}),L.jsxs("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:[L.jsx("span",{className:"sr-only",children:"Cerrar"}),"×"]})]}),L.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[L.jsxs("select",{value:t.concept||"",onChange:N=>g(N.target.value),className:"input",disabled:i,children:[L.jsx("option",{value:"",children:"Seleccionar concepto"}),a==null?void 0:a.map(N=>L.jsx("option",{value:N.name,children:N.name},N.id))]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),L.jsx(uM,{tags:S,suggestions:l,onTagsChange:b,disabled:i,placeholder:"Agregar etiquetas (presione Enter para agregar)"})]}),L.jsxs("select",{value:t.accountId||"",onChange:N=>e({...t,accountId:N.target.value}),className:"input",disabled:i,children:[L.jsx("option",{value:"",children:"Seleccionar cuenta"}),o.map(N=>L.jsx("option",{value:N.id,children:N.name},N.id))]}),L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:"number",step:"0.01",placeholder:"Monto",value:t.amount!==void 0?Math.abs(t.amount).toString():"",onChange:N=>p(N.target.value),className:"input pl-12",disabled:i}),L.jsx("button",{type:"button",onClick:h,className:`absolute left-2 top-1/2 -translate-y-1/2 ${t.amount&&t.amount<0?"text-red-500 hover:text-red-700":"text-green-500 hover:text-green-700"}`,disabled:i||t.amount===void 0||t.amount===null,title:t.amount&&t.amount<0?"Cambiar a positivo":"Cambiar a negativo",children:t.amount&&t.amount<0?L.jsx(TR,{className:"h-5 w-5"}):L.jsx(RR,{className:"h-5 w-5"})})]})]}),L.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[L.jsx("button",{onClick:r,className:"btn btn-secondary",disabled:i,children:"Cancelar"}),L.jsx("button",{onClick:n,className:"btn btn-primary",disabled:i||!f,children:i?"Guardando...":s?"Actualizar":"Guardar"})]})]})}function dM({isOpen:t,onClose:e,status:n,description:r}){return t?L.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:L.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:e}),L.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-lg w-full",children:[L.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[L.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Estado: ",n]}),L.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:L.jsx(Ha,{className:"h-6 w-6"})})]}),L.jsx("div",{className:"p-6",children:L.jsx("p",{className:"text-gray-700 text-base leading-relaxed",children:r})})]})]})}):null}function hM({isOpen:t,onClose:e,onConfirm:n,currentStatus:r,nextStatus:i,isLoading:s}){return t?L.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:L.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:e}),L.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[L.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[L.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Cambiar Estado"}),L.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",disabled:s,children:L.jsx(Ha,{className:"h-6 w-6"})})]}),L.jsxs("div",{className:"p-6",children:[L.jsxs("p",{className:"text-gray-700 mb-6",children:['¿Está seguro que desea cambiar el estado del movimiento de "',r,'" a "',i,'"?']}),L.jsxs("div",{className:"flex justify-end gap-3",children:[L.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary",disabled:s,children:"Cancelar"}),L.jsx("button",{type:"button",onClick:n,className:"btn btn-primary",disabled:s,children:s?L.jsxs("div",{className:"flex items-center",children:[L.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cambiando..."]}):"Confirmar"})]})]})]})]})}):null}function Lr(t){return`$${t.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function fM({transactions:t=[],accounts:e,concepts:n,isClosureOpen:r,isSubmitting:i,onStatusUpdate:s,onEdit:o,onDelete:a}){const[l,c]=me.useState(null),[f,h]=me.useState(null),g=(y,_)=>{const E=y.states.find(B=>B.name===_);if(!E)return"";const D=y.states[y.states.indexOf(E)+1];return E.isFinal?"Este movimiento está finalizado y no puede cambiar de estado":`Click para cambiar a "${D==null?void 0:D.name}"`},p=y=>{const _=Object.values(Pn).find(E=>E.name===y);return(_==null?void 0:_.description)||"Estado del movimiento"},b=y=>{const _=p(y);c({name:y,description:_})},S=y=>{if(!s)return;const _=n.find(B=>B.name===y.concept);if(!_)return;const E=_.states.find(B=>B.name===y.status);!E||!_.states[_.states.indexOf(E)+1]||h(y)},N=()=>{f&&s&&(s(f),h(null))},w=y=>{if(!y)return"";const _=n.find(B=>B.name===y.concept);if(!_)return"";const E=_.states.find(B=>B.name===y.status);if(!E)return"";const D=_.states[_.states.indexOf(E)+1];return(D==null?void 0:D.name)||""};return t.length?L.jsxs("div",{className:"overflow-x-auto -mx-6 lg:mx-0",children:[L.jsx("div",{className:"inline-block min-w-full align-middle",children:L.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg",children:L.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[L.jsx("thead",{className:"bg-gray-50",children:L.jsxs("tr",{children:[L.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sm:pl-6",children:"Fecha"}),L.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Concepto"}),L.jsx("th",{scope:"col",className:"hidden md:table-cell px-3 py-3.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),L.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cuenta"}),L.jsx("th",{scope:"col",className:"px-3 py-3.5 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),L.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),r&&L.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:L.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),L.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(y=>{var R;const _=n==null?void 0:n.find(P=>P.name===y.concept),E=_==null?void 0:_.states.find(P=>P.name===y.status),D=E&&(_==null?void 0:_.states.indexOf(E))===_.states.length-1,B=y.paymentType==="transferencia";return L.jsxs("tr",{className:"hover:bg-gray-50",children:[L.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-900 sm:pl-6",children:zS(y.timestamp)}),L.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:y.concept}),L.jsx("td",{className:"hidden md:table-cell px-3 py-4 text-sm text-gray-500 max-w-xs truncate",children:y.description}),L.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:(R=e.find(P=>P.id===y.accountId))==null?void 0:R.name}),L.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-right font-medium",children:L.jsx("span",{className:y.amount>=0?"text-green-600":"text-red-600",children:Lr(Math.abs(y.amount))})}),L.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:L.jsxs("div",{className:"inline-flex items-center",children:[r&&!D&&!B?L.jsxs("button",{onClick:()=>S(y),className:"inline-flex items-center text-orange-600 hover:text-orange-800",disabled:i,title:_?g(_,y.status):"",children:[L.jsx(n_,{className:"h-4 w-4 mr-1"}),y.status]}):L.jsxs("span",{className:`inline-flex items-center ${D||B?"text-green-600":"text-orange-600"}`,children:[D||B?L.jsx(NR,{className:"h-4 w-4 mr-1"}):L.jsx(n_,{className:"h-4 w-4 mr-1"}),y.status]}),L.jsx("button",{onClick:()=>b(y.status),className:"ml-1 text-gray-400 hover:text-gray-600",children:L.jsx(kR,{className:"h-4 w-4"})})]})}),r&&L.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:L.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[!D&&!B&&o&&L.jsx("button",{onClick:()=>o(y),className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",disabled:i,title:"Editar movimiento",children:L.jsx(LR,{className:"h-4 w-4"})}),L.jsx("button",{onClick:()=>a(y.id),className:"text-gray-600 hover:text-red-600 transition-colors duration-200",disabled:i,title:"Eliminar movimiento",children:L.jsx(ES,{className:"h-4 w-4"})})]})})]},`${y.id}-${y.timestamp}`)})})]})})}),L.jsx(dM,{isOpen:!!l,onClose:()=>c(null),status:(l==null?void 0:l.name)||"",description:(l==null?void 0:l.description)||""}),L.jsx(hM,{isOpen:!!f,onClose:()=>h(null),onConfirm:N,currentStatus:(f==null?void 0:f.status)||"",nextStatus:w(f),isLoading:i})]}):L.jsx("div",{className:"text-center py-8 bg-white rounded-lg shadow",children:L.jsx("p",{className:"text-gray-500",children:"No hay movimientos registrados"})})}function pM({accounts:t,transactions:e=[],finalBalance:n}){const{cashTotal:r,bankTotal:i}=me.useMemo(()=>(new Map(t.map(o=>[o.id,o.type])),t.reduce((o,a)=>(a.type==="efectivo"?o.cashTotal+=a.currentBalance:a.type==="banco"&&(o.bankTotal+=a.currentBalance),o),{cashTotal:0,bankTotal:0})),[t]);return L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[L.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[L.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Total Efectivo"}),L.jsx("p",{className:`text-2xl font-semibold ${r>=0?"text-green-600":"text-red-600"}`,children:Lr(r)})]}),L.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[L.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Total Banco"}),L.jsx("p",{className:`text-2xl font-semibold ${i>=0?"text-green-600":"text-red-600"}`,children:Lr(i)})]}),L.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[L.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Saldo Final"}),L.jsx("p",{className:`text-2xl font-semibold ${n>=0?"text-green-600":"text-red-600"}`,children:Lr(n)})]})]})}function mM({accounts:t,fromAccountId:e,toAccountId:n,amount:r,description:i,isSubmitting:s,onFromAccountChange:o,onToAccountChange:a,onAmountChange:l,onDescriptionChange:c,onSubmit:f,onCancel:h}){const g=t.find(b=>b.id===e),p=(g==null?void 0:g.currentBalance)||0;return L.jsxs("form",{onSubmit:f,className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cuenta Origen"}),L.jsxs("select",{value:e,onChange:b=>o(b.target.value),className:"input",required:!0,disabled:s,children:[L.jsx("option",{value:"",children:"Seleccionar cuenta"}),t.map(b=>L.jsxs("option",{value:b.id,disabled:b.id===n,children:[b.name," (",Lr(b.currentBalance),")"]},b.id))]})]}),L.jsx("div",{className:"flex justify-center",children:L.jsx(SR,{className:"h-6 w-6 text-gray-400"})}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cuenta Destino"}),L.jsxs("select",{value:n,onChange:b=>a(b.target.value),className:"input",required:!0,disabled:s,children:[L.jsx("option",{value:"",children:"Seleccionar cuenta"}),t.map(b=>L.jsxs("option",{value:b.id,disabled:b.id===e,children:[b.name," (",Lr(b.currentBalance),")"]},b.id))]})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto"}),L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:L.jsx("span",{className:"text-gray-500",children:"$"})}),L.jsx("input",{type:"number",step:"0.01",min:"0.01",max:p,value:r,onChange:b=>l(b.target.value),className:"input pl-8",placeholder:"Ingrese el monto a transferir",required:!0,disabled:s})]}),g&&L.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Saldo disponible: ",Lr(p)]})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción (opcional)"}),L.jsx("input",{type:"text",value:i,onChange:b=>c(b.target.value),className:"input",placeholder:"Agregar una descripción",disabled:s})]}),L.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[L.jsx("button",{type:"button",onClick:h,className:"btn btn-secondary",disabled:s,children:"Cancelar"}),L.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s||!e||!n||!r||parseFloat(r)<=0||parseFloat(r)>p,children:s?L.jsxs("div",{className:"flex items-center",children:[L.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Transfiriendo..."]}):"Transferir"})]})]})}function gM({fromAccount:t,toAccountId:e,amount:n}){return!t||!e?"Por favor seleccione las cuentas de origen y destino":!n||n<=0?"El monto debe ser mayor a cero":t.id===e?"Las cuentas de origen y destino deben ser diferentes":t.currentBalance<n?"Saldo insuficiente en la cuenta de origen":null}function vM({isOpen:t,onClose:e,accounts:n,onTransfer:r,isSubmitting:i}){const[s,o]=me.useState(""),[a,l]=me.useState(""),[c,f]=me.useState(""),[h,g]=me.useState(""),p=async S=>{S.preventDefault();try{const N=Math.abs(parseFloat(c)),w=n.find(_=>_.id===s),y=gM({fromAccount:w,toAccountId:a,amount:N});if(y){qt.error(y);return}await r({fromAccountId:s,toAccountId:a,amount:N,description:h.trim()||"Transferencia entre cuentas"}),b(),e()}catch(N){console.error("Error en la transferencia:",N),qt.error("Error al realizar la transferencia")}},b=()=>{o(""),l(""),f(""),g("")};return t?L.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:L.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:e}),L.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:[L.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[L.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Nueva Transferencia"}),L.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",disabled:i,children:L.jsx(Ha,{className:"h-6 w-6"})})]}),L.jsx("div",{className:"p-6",children:L.jsx(mM,{accounts:n,fromAccountId:s,toAccountId:a,amount:c,description:h,isSubmitting:i,onFromAccountChange:o,onToAccountChange:l,onAmountChange:f,onDescriptionChange:g,onSubmit:p,onCancel:e})})]})]})}):null}function yM(){const[t,e]=me.useState(!1),n=i=>{const s=i.filter(a=>a.concept.startsWith("Transferencia #"));if(s.length===0)return 1;const o=s.map(a=>{const l=a.concept.match(/Transferencia #(\d+)/);return l?parseInt(l[1],10):0});return Math.max(...o)+1};return{executeTransfer:async({fromAccountId:i,toAccountId:s,amount:o,description:a,closureId:l,accounts:c,transactions:f})=>{e(!0);try{const h=n(f),g=Date.now(),p=`transfer-${h}`,b={id:`${p}-debit`,concept:`Transferencia #${h}`,description:`${a} (Débito)`,amount:-Math.abs(o),status:Pn.COMPLETED.name,accountId:i,timestamp:g,transferId:p,relatedAccountId:s,paymentType:"transferencia"},S={id:`${p}-credit`,concept:`Transferencia #${h}`,description:`${a} (Crédito)`,amount:Math.abs(o),status:Pn.COMPLETED.name,accountId:s,timestamp:g,transferId:p,relatedAccountId:i,paymentType:"transferencia"},N=c.map(_=>_.id===i?{..._,currentBalance:_.currentBalance-Math.abs(o)}:_.id===s?{..._,currentBalance:_.currentBalance+Math.abs(o)}:_),w=N.reduce((_,E)=>_+E.currentBalance,0),y=[...f,b,S];return await Sc(Rr(Or,`closures/${l}`),{accounts:N,transactions:y,finalBalance:w,updatedAt:L1()}),{updatedAccounts:N,updatedTransactions:y,finalBalance:w,debitTransaction:b,creditTransaction:S}}finally{e(!1)}},isSubmitting:t}}const wM="modulepreload",_M=function(t,e){return new URL(t,e).href},v_={},j1=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=_M(c,r),c in v_)return;v_[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(!!r)for(let b=o.length-1;b>=0;b--){const S=o[b];if(S.href===c&&(!f||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":wM,f||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),f)return new Promise((b,S)=>{p.addEventListener("load",b),p.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var Zn=Uint8Array,jr=Uint16Array,G2=Int32Array,pm=new Zn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mm=new Zn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),F1=new Zn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),WS=function(t,e){for(var n=new jr(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new G2(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},HS=WS(pm,2),qS=HS.b,B1=HS.r;qS[28]=258,B1[258]=28;var $S=WS(mm,0),bM=$S.b,y_=$S.r,U1=new jr(32768);for(var zt=0;zt<32768;++zt){var Zs=(zt&43690)>>1|(zt&21845)<<1;Zs=(Zs&52428)>>2|(Zs&13107)<<2,Zs=(Zs&61680)>>4|(Zs&3855)<<4,U1[zt]=((Zs&65280)>>8|(Zs&255)<<8)>>1}var Xi=function(t,e,n){for(var r=t.length,i=0,s=new jr(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new jr(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new jr(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],f=e-t[i],h=o[t[i]-1]++<<f,g=h|(1<<f)-1;h<=g;++h)a[U1[h]>>l]=c}else for(a=new jr(r),i=0;i<r;++i)t[i]&&(a[i]=U1[o[t[i]-1]++]>>15-t[i]);return a},Bo=new Zn(288);for(var zt=0;zt<144;++zt)Bo[zt]=8;for(var zt=144;zt<256;++zt)Bo[zt]=9;for(var zt=256;zt<280;++zt)Bo[zt]=7;for(var zt=280;zt<288;++zt)Bo[zt]=8;var xd=new Zn(32);for(var zt=0;zt<32;++zt)xd[zt]=5;var xM=Xi(Bo,9,0),SM=Xi(Bo,9,1),NM=Xi(xd,5,0),CM=Xi(xd,5,1),Zg=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},gi=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},e0=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},K2=function(t){return(t+7)/8|0},VS=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Zn(t.subarray(e,n))},EM=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],wi=function(t,e,n){var r=new Error(e||EM[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,wi),!n)throw r;return r},kM=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Zn(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new Zn(i*3));var c=function(Ne){var Te=n.length;if(Ne>Te){var Le=new Zn(Math.max(Te*2,Ne));Le.set(n),n=Le}},f=e.f||0,h=e.p||0,g=e.b||0,p=e.l,b=e.d,S=e.m,N=e.n,w=i*8;do{if(!p){f=gi(t,h,1);var y=gi(t,h+1,3);if(h+=3,y)if(y==1)p=SM,b=CM,S=9,N=5;else if(y==2){var B=gi(t,h,31)+257,R=gi(t,h+10,15)+4,P=B+gi(t,h+5,31)+1;h+=14;for(var q=new Zn(P),$=new Zn(19),A=0;A<R;++A)$[F1[A]]=gi(t,h+A*3,7);h+=R*3;for(var k=Zg($),V=(1<<k)-1,G=Xi($,k,1),A=0;A<P;){var se=G[gi(t,h,V)];h+=se&15;var _=se>>4;if(_<16)q[A++]=_;else{var Q=0,Y=0;for(_==16?(Y=3+gi(t,h,3),h+=2,Q=q[A-1]):_==17?(Y=3+gi(t,h,7),h+=3):_==18&&(Y=11+gi(t,h,127),h+=7);Y--;)q[A++]=Q}}var U=q.subarray(0,B),H=q.subarray(B);S=Zg(U),N=Zg(H),p=Xi(U,S,1),b=Xi(H,N,1)}else wi(1);else{var _=K2(h)+4,E=t[_-4]|t[_-3]<<8,D=_+E;if(D>i){l&&wi(0);break}a&&c(g+E),n.set(t.subarray(_,D),g),e.b=g+=E,e.p=h=D*8,e.f=f;continue}if(h>w){l&&wi(0);break}}a&&c(g+131072);for(var te=(1<<S)-1,ue=(1<<N)-1,C=h;;C=h){var Q=p[e0(t,h)&te],j=Q>>4;if(h+=Q&15,h>w){l&&wi(0);break}if(Q||wi(2),j<256)n[g++]=j;else if(j==256){C=h,p=null;break}else{var W=j-254;if(j>264){var A=j-257,J=pm[A];W=gi(t,h,(1<<J)-1)+qS[A],h+=J}var Z=b[e0(t,h)&ue],le=Z>>4;Z||wi(3),h+=Z&15;var H=bM[le];if(le>3){var J=mm[le];H+=e0(t,h)&(1<<J)-1,h+=J}if(h>w){l&&wi(0);break}a&&c(g+131072);var de=g+W;if(g<H){var pe=s-H,Ce=Math.min(H,de);for(pe+g<0&&wi(3);g<Ce;++g)n[g]=r[pe+g]}for(;g<de;++g)n[g]=n[g-H]}}e.l=p,e.p=C,e.b=g,e.f=f,p&&(f=1,e.m=S,e.d=b,e.n=N)}while(!f);return g!=n.length&&o?VS(n,0,g):n.subarray(0,g)},ps=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},mc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},t0=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:GS,l:0};if(i==1){var o=new Zn(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(D,B){return D.f-B.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,f=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=i-1;)a=n[n[c].f<n[h].f?c++:h++],l=n[c!=f&&n[c].f<n[h].f?c++:h++],n[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var p=new jr(g+1),b=z1(n[f-1],p,0);if(b>e){var r=0,S=0,N=b-e,w=1<<N;for(s.sort(function(B,R){return p[R.s]-p[B.s]||B.f-R.f});r<i;++r){var y=s[r].s;if(p[y]>e)S+=w-(1<<b-p[y]),p[y]=e;else break}for(S>>=N;S>0;){var _=s[r].s;p[_]<e?S-=1<<e-p[_]++-1:++r}for(;r>=0&&S;--r){var E=s[r].s;p[E]==e&&(--p[E],++S)}b=e}return{t:new Zn(p),l:b}},z1=function(t,e,n){return t.s==-1?Math.max(z1(t.l,e,n+1),z1(t.r,e,n+1)):e[t.s]=n},w_=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new jr(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},gc=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},YS=function(t,e,n){var r=n.length,i=K2(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},__=function(t,e,n,r,i,s,o,a,l,c,f){ps(e,f++,n),++i[256];for(var h=t0(i,15),g=h.t,p=h.l,b=t0(s,15),S=b.t,N=b.l,w=w_(g),y=w.c,_=w.n,E=w_(S),D=E.c,B=E.n,R=new jr(19),P=0;P<y.length;++P)++R[y[P]&31];for(var P=0;P<D.length;++P)++R[D[P]&31];for(var q=t0(R,7),$=q.t,A=q.l,k=19;k>4&&!$[F1[k-1]];--k);var V=c+5<<3,G=gc(i,Bo)+gc(s,xd)+o,se=gc(i,g)+gc(s,S)+o+14+3*k+gc(R,$)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&V<=G&&V<=se)return YS(e,f,t.subarray(l,l+c));var Q,Y,U,H;if(ps(e,f,1+(se<G)),f+=2,se<G){Q=Xi(g,p,0),Y=g,U=Xi(S,N,0),H=S;var te=Xi($,A,0);ps(e,f,_-257),ps(e,f+5,B-1),ps(e,f+10,k-4),f+=14;for(var P=0;P<k;++P)ps(e,f+3*P,$[F1[P]]);f+=3*k;for(var ue=[y,D],C=0;C<2;++C)for(var j=ue[C],P=0;P<j.length;++P){var W=j[P]&31;ps(e,f,te[W]),f+=$[W],W>15&&(ps(e,f,j[P]>>5&127),f+=j[P]>>12)}}else Q=xM,Y=Bo,U=NM,H=xd;for(var P=0;P<a;++P){var J=r[P];if(J>255){var W=J>>18&31;mc(e,f,Q[W+257]),f+=Y[W+257],W>7&&(ps(e,f,J>>23&31),f+=pm[W]);var Z=J&31;mc(e,f,U[Z]),f+=H[Z],Z>3&&(mc(e,f,J>>5&8191),f+=mm[Z])}else mc(e,f,Q[J]),f+=Y[J]}return mc(e,f,Q[256]),f+Y[256]},AM=new G2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),GS=new Zn(0),PM=function(t,e,n,r,i,s){var o=s.z||t.length,a=new Zn(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,f=(s.r||0)&7;if(e){f&&(l[0]=s.r>>3);for(var h=AM[e-1],g=h>>13,p=h&8191,b=(1<<n)-1,S=s.p||new jr(32768),N=s.h||new jr(b+1),w=Math.ceil(n/3),y=2*w,_=function(Ye){return(t[Ye]^t[Ye+1]<<w^t[Ye+2]<<y)&b},E=new G2(25e3),D=new jr(288),B=new jr(32),R=0,P=0,q=s.i||0,$=0,A=s.w||0,k=0;q+2<o;++q){var V=_(q),G=q&32767,se=N[V];if(S[G]=se,N[V]=G,A<=q){var Q=o-q;if((R>7e3||$>24576)&&(Q>423||!c)){f=__(t,l,0,E,D,B,P,$,k,q-k,f),$=R=P=0,k=q;for(var Y=0;Y<286;++Y)D[Y]=0;for(var Y=0;Y<30;++Y)B[Y]=0}var U=2,H=0,te=p,ue=G-se&32767;if(Q>2&&V==_(q-ue))for(var C=Math.min(g,Q)-1,j=Math.min(32767,q),W=Math.min(258,Q);ue<=j&&--te&&G!=se;){if(t[q+U]==t[q+U-ue]){for(var J=0;J<W&&t[q+J]==t[q+J-ue];++J);if(J>U){if(U=J,H=ue,J>C)break;for(var Z=Math.min(ue,J-2),le=0,Y=0;Y<Z;++Y){var de=q-ue+Y&32767,pe=S[de],Ce=de-pe&32767;Ce>le&&(le=Ce,se=de)}}}G=se,se=S[G],ue+=G-se&32767}if(H){E[$++]=268435456|B1[U]<<18|y_[H];var Ne=B1[U]&31,Te=y_[H]&31;P+=pm[Ne]+mm[Te],++D[257+Ne],++B[Te],A=q+U,++R}else E[$++]=t[q],++D[t[q]]}}for(q=Math.max(q,A);q<o;++q)E[$++]=t[q],++D[t[q]];f=__(t,l,c,E,D,B,P,$,k,q-k,f),c||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=N,s.p=S,s.i=q,s.w=A)}else{for(var q=s.w||0;q<o+c;q+=65535){var Le=q+65535;Le>=o&&(l[f/8|0]=c,Le=o),f=YS(l,f+1,t.subarray(q,Le))}s.i=o}return VS(a,0,r+K2(f)+i)},KS=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},IM=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Zn(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return PM(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},QS=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},TM=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=KS();i.p(e.dictionary),QS(t,2,i.d())}},LM=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&wi(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&wi(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function W1(t,e){e||(e={});var n=KS();n.p(t);var r=IM(t,e,e.dictionary?6:2,4);return TM(r,e),QS(r,r.length-4,n.d()),r}function RM(t,e){return kM(t.subarray(LM(t,e),-4),{i:2},e,e)}var OM=typeof TextDecoder<"u"&&new TextDecoder,DM=0;try{OM.decode(GS,{stream:!0}),DM=1}catch{}var Ge=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function n0(){Ge.console&&typeof Ge.console.log=="function"&&Ge.console.log.apply(Ge.console,arguments)}var Ot={log:n0,warn:function(t){Ge.console&&(typeof Ge.console.warn=="function"?Ge.console.warn.apply(Ge.console,arguments):n0.call(null,arguments))},error:function(t){Ge.console&&(typeof Ge.console.error=="function"?Ge.console.error.apply(Ge.console,arguments):n0(t))}};function r0(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){da(r.response,e,n)},r.onerror=function(){Ot.error("could not download file")},r.send()}function b_(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function rf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Bc,H1,da=Ge.saveAs||((typeof window>"u"?"undefined":bt(window))!=="object"||window!==Ge?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Ge.URL||Ge.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?b_(i.href)?r0(t,e,n):rf(i,i.target="_blank"):rf(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){rf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(b_(t))r0(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){rf(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:bt(s)!=="object"&&(Ot.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return r0(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Ge.HTMLElement)||Ge.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":bt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(t)}else{var l=Ge.URL||Ge.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function JS(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function i0(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Gn(n,r,i,s,e[0],7,-680876936),s=Gn(s,n,r,i,e[1],12,-389564586),i=Gn(i,s,n,r,e[2],17,606105819),r=Gn(r,i,s,n,e[3],22,-1044525330),n=Gn(n,r,i,s,e[4],7,-176418897),s=Gn(s,n,r,i,e[5],12,1200080426),i=Gn(i,s,n,r,e[6],17,-1473231341),r=Gn(r,i,s,n,e[7],22,-45705983),n=Gn(n,r,i,s,e[8],7,1770035416),s=Gn(s,n,r,i,e[9],12,-1958414417),i=Gn(i,s,n,r,e[10],17,-42063),r=Gn(r,i,s,n,e[11],22,-1990404162),n=Gn(n,r,i,s,e[12],7,1804603682),s=Gn(s,n,r,i,e[13],12,-40341101),i=Gn(i,s,n,r,e[14],17,-1502002290),n=Kn(n,r=Gn(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Kn(s,n,r,i,e[6],9,-1069501632),i=Kn(i,s,n,r,e[11],14,643717713),r=Kn(r,i,s,n,e[0],20,-373897302),n=Kn(n,r,i,s,e[5],5,-701558691),s=Kn(s,n,r,i,e[10],9,38016083),i=Kn(i,s,n,r,e[15],14,-660478335),r=Kn(r,i,s,n,e[4],20,-405537848),n=Kn(n,r,i,s,e[9],5,568446438),s=Kn(s,n,r,i,e[14],9,-1019803690),i=Kn(i,s,n,r,e[3],14,-187363961),r=Kn(r,i,s,n,e[8],20,1163531501),n=Kn(n,r,i,s,e[13],5,-1444681467),s=Kn(s,n,r,i,e[2],9,-51403784),i=Kn(i,s,n,r,e[7],14,1735328473),n=Qn(n,r=Kn(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Qn(s,n,r,i,e[8],11,-2022574463),i=Qn(i,s,n,r,e[11],16,1839030562),r=Qn(r,i,s,n,e[14],23,-35309556),n=Qn(n,r,i,s,e[1],4,-1530992060),s=Qn(s,n,r,i,e[4],11,1272893353),i=Qn(i,s,n,r,e[7],16,-155497632),r=Qn(r,i,s,n,e[10],23,-1094730640),n=Qn(n,r,i,s,e[13],4,681279174),s=Qn(s,n,r,i,e[0],11,-358537222),i=Qn(i,s,n,r,e[3],16,-722521979),r=Qn(r,i,s,n,e[6],23,76029189),n=Qn(n,r,i,s,e[9],4,-640364487),s=Qn(s,n,r,i,e[12],11,-421815835),i=Qn(i,s,n,r,e[15],16,530742520),n=Jn(n,r=Qn(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Jn(s,n,r,i,e[7],10,1126891415),i=Jn(i,s,n,r,e[14],15,-1416354905),r=Jn(r,i,s,n,e[5],21,-57434055),n=Jn(n,r,i,s,e[12],6,1700485571),s=Jn(s,n,r,i,e[3],10,-1894986606),i=Jn(i,s,n,r,e[10],15,-1051523),r=Jn(r,i,s,n,e[1],21,-2054922799),n=Jn(n,r,i,s,e[8],6,1873313359),s=Jn(s,n,r,i,e[15],10,-30611744),i=Jn(i,s,n,r,e[6],15,-1560198380),r=Jn(r,i,s,n,e[13],21,1309151649),n=Jn(n,r,i,s,e[4],6,-145523070),s=Jn(s,n,r,i,e[11],10,-1120210379),i=Jn(i,s,n,r,e[2],15,718787259),r=Jn(r,i,s,n,e[9],21,-343485551),t[0]=go(n,t[0]),t[1]=go(r,t[1]),t[2]=go(i,t[2]),t[3]=go(s,t[3])}function gm(t,e,n,r,i,s){return e=go(go(e,t),go(r,s)),go(e<<i|e>>>32-i,n)}function Gn(t,e,n,r,i,s,o){return gm(e&n|~e&r,t,e,i,s,o)}function Kn(t,e,n,r,i,s,o){return gm(e&r|n&~r,t,e,i,s,o)}function Qn(t,e,n,r,i,s,o){return gm(e^n^r,t,e,i,s,o)}function Jn(t,e,n,r,i,s,o){return gm(n^(e|~r),t,e,i,s,o)}function XS(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)i0(r,MM(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(i0(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,i0(r,i),r}function MM(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Bc=Ge.atob.bind(Ge),H1=Ge.btoa.bind(Ge);var x_="0123456789abcdef".split("");function jM(t){for(var e="",n=0;n<4;n++)e+=x_[t>>8*n+4&15]+x_[t>>8*n&15];return e}function FM(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function q1(t){return XS(t).map(FM).join("")}var BM=function(t){for(var e=0;e<t.length;e++)t[e]=jM(t[e]);return t.join("")}(XS("hello"))!="5d41402abc4b2a76b9719d911017c592";function go(t,e){if(BM){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function $1(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var f=a[l];c=(c+f+o.charCodeAt(l))%256,a[l]=a[c],a[c]=f}n=t,r=a}else a=r;var h=e.length,g=0,p=0,b="";for(l=0;l<h;l++)p=(p+(f=a[g=(g+1)%256]))%256,a[g]=a[p],a[p]=f,o=a[(a[g]+a[p])%256],b+=String.fromCharCode(e.charCodeAt(l)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var S_={print:4,modify:8,copy:16,"annot-forms":32};function El(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(S_.perm!==void 0)throw new Error("Invalid permission: "+a);i+=S_[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=q1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=$1(this.encryptionKey,this.padding)}function kl(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function N_(t){if(bt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){Ge.console&&Ot.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Sd(t){if(!(this instanceof Sd))return new Sd(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function ZS(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function co(t,e,n,r,i){if(!(this instanceof co))return new co(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,ZS.call(this,r,i)}function ga(t,e,n,r,i){if(!(this instanceof ga))return new ga(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,ZS.call(this,r,i)}function $e(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",f=null;bt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=N_;var b="1.3",S=p.__private__.getPdfVersion=function(){return b};p.__private__.setPdfVersion=function(m){b=m};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return N};var w=p.__private__.getPageFormat=function(m){return N[m]};i=i||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},_=y.COMPAT;function E(){this.saveGraphicsState(),ee(new Ve(Me,0,0,-Me,0,Fs()*Me).toString()+" cm"),this.setFontSize(this.getFontSize()/Me),c="n",_=y.ADVANCED}function D(){this.restoreGraphicsState(),c="S",_=y.COMPAT}var B=p.__private__.combineFontStyleAndFontWeight=function(m,T){if(m=="bold"&&T=="normal"||m=="bold"&&T==400||m=="normal"&&T=="italic"||m=="bold"&&T=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return T&&(m=T==400||T==="normal"?m==="italic"?"italic":"normal":T!=700&&T!=="bold"||m!=="normal"?(T==700?"bold":T)+""+m:"bold"),m};p.advancedAPI=function(m){var T=_===y.COMPAT;return T&&E.call(this),typeof m!="function"||(m(this),T&&D.call(this)),this},p.compatAPI=function(m){var T=_===y.ADVANCED;return T&&D.call(this),typeof m!="function"||(m(this),T&&E.call(this)),this},p.isAdvancedAPI=function(){return _===y.ADVANCED};var R,P=function(m){if(_!==y.ADVANCED)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=p.roundToPrecision=p.__private__.roundToPrecision=function(m,T){var X=e||T;if(isNaN(m)||isNaN(X))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(X).replace(/0+$/,"")};R=p.hpf=p.__private__.hpf=typeof l=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return q(m,l)}:l==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return q(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return q(m,16)};var $=p.f2=p.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return q(m,2)},A=p.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return q(m,3)},k=p.scale=p.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return _===y.COMPAT?m*Me:_===y.ADVANCED?m:void 0},V=function(m){return _===y.COMPAT?Fs()-m:_===y.ADVANCED?m:void 0},G=function(m){return k(V(m))};p.__private__.setPrecision=p.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var se,Q="00000000000000000000000000000000",Y=p.__private__.getFileId=function(){return Q},U=p.__private__.setFileId=function(m){return Q=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(qn=new El(f.userPermissions,f.userPassword,f.ownerPassword,Q)),Q};p.setFileId=function(m){return U(m),this},p.getFileId=function(){return Y()};var H=p.__private__.convertDateToPDFDate=function(m){var T=m.getTimezoneOffset(),X=T<0?"+":"-",ne=Math.floor(Math.abs(T/60)),ce=Math.abs(T%60),ve=[X,W(ne),"'",W(ce),"'"].join("");return["D:",m.getFullYear(),W(m.getMonth()+1),W(m.getDate()),W(m.getHours()),W(m.getMinutes()),W(m.getSeconds()),ve].join("")},te=p.__private__.convertPDFDateToDate=function(m){var T=parseInt(m.substr(2,4),10),X=parseInt(m.substr(6,2),10)-1,ne=parseInt(m.substr(8,2),10),ce=parseInt(m.substr(10,2),10),ve=parseInt(m.substr(12,2),10),Se=parseInt(m.substr(14,2),10);return new Date(T,X,ne,ce,ve,Se,0)},ue=p.__private__.setCreationDate=function(m){var T;if(m===void 0&&(m=new Date),m instanceof Date)T=H(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");T=m}return se=T},C=p.__private__.getCreationDate=function(m){var T=se;return m==="jsDate"&&(T=te(se)),T};p.setCreationDate=function(m){return ue(m),this},p.getCreationDate=function(m){return C(m)};var j,W=p.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},J=p.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},Z=0,le=[],de=[],pe=0,Ce=[],Ne=[],Te=!1,Le=de,Ye=function(){Z=0,pe=0,de=[],le=[],Ce=[],rs=fn(),ai=fn()};p.__private__.setCustomOutputDestination=function(m){Te=!0,Le=m};var ye=function(m){Te||(Le=m)};p.__private__.resetCustomOutputDestination=function(){Te=!1,Le=de};var ee=p.__private__.out=function(m){return m=m.toString(),pe+=m.length+1,Le.push(m),Le},rt=p.__private__.write=function(m){return ee(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},ze=p.__private__.getArrayBuffer=function(m){for(var T=m.length,X=new ArrayBuffer(T),ne=new Uint8Array(X);T--;)ne[T]=m.charCodeAt(T);return X},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ee};var Pe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(m){return Pe=_===y.ADVANCED?m/Me:m,this};var De,Oe=p.__private__.getFontSize=p.getFontSize=function(){return _===y.COMPAT?Pe:Pe*Me},We=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(m){return We=m,this},p.__private__.getR2L=p.getR2L=function(){return We};var Ze,ot=p.__private__.setZoomMode=function(m){var T=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))De=m;else if(isNaN(m)){if(T.indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');De=m}else De=parseInt(m,10)};p.__private__.getZoomMode=function(){return De};var at,mt=p.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');Ze=m};p.__private__.getPageMode=function(){return Ze};var Pt=p.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');at=m};p.__private__.getLayoutMode=function(){return at},p.__private__.setDisplayMode=p.setDisplayMode=function(m,T,X){return ot(m),Pt(T),mt(X),this};var Je={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(m){if(Object.keys(Je).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Je[m]},p.__private__.getDocumentProperties=function(){return Je},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(m){for(var T in Je)Je.hasOwnProperty(T)&&m[T]&&(Je[T]=m[T]);return this},p.__private__.setDocumentProperty=function(m,T){if(Object.keys(Je).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Je[m]=T};var dt,Me,Hn,yt,ii,Lt={},Ht={},Ti=[],xt={},Yo={},Jt={},si={},ns=null,Xt=0,et=[],St=new N_(p),Go=t.hotfixes||[],On={},Li={},Ri=[],Ve=function m(T,X,ne,ce,ve,Se){if(!(this instanceof m))return new m(T,X,ne,ce,ve,Se);isNaN(T)&&(T=1),isNaN(X)&&(X=0),isNaN(ne)&&(ne=0),isNaN(ce)&&(ce=1),isNaN(ve)&&(ve=0),isNaN(Se)&&(Se=0),this._matrix=[T,X,ne,ce,ve,Se]};Object.defineProperty(Ve.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Ve.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Ve.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Ve.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Ve.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Ve.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Ve.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Ve.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Ve.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Ve.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Ve.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Ve.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Ve.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ve.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ve.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ve.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ve.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(m)},Ve.prototype.multiply=function(m){var T=m.sx*this.sx+m.shy*this.shx,X=m.sx*this.shy+m.shy*this.sy,ne=m.shx*this.sx+m.sy*this.shx,ce=m.shx*this.shy+m.sy*this.sy,ve=m.tx*this.sx+m.ty*this.shx+this.tx,Se=m.tx*this.shy+m.ty*this.sy+this.ty;return new Ve(T,X,ne,ce,ve,Se)},Ve.prototype.decompose=function(){var m=this.sx,T=this.shy,X=this.shx,ne=this.sy,ce=this.tx,ve=this.ty,Se=Math.sqrt(m*m+T*T),je=(m/=Se)*X+(T/=Se)*ne;X-=m*je,ne-=T*je;var He=Math.sqrt(X*X+ne*ne);return je/=He,m*(ne/=He)<T*(X/=He)&&(m=-m,T=-T,je=-je,Se=-Se),{scale:new Ve(Se,0,0,He,0,0),translate:new Ve(1,0,0,1,ce,ve),rotate:new Ve(m,T,-T,m,0,0),skew:new Ve(1,0,je,1,0,0)}},Ve.prototype.toString=function(m){return this.join(" ")},Ve.prototype.inversed=function(){var m=this.sx,T=this.shy,X=this.shx,ne=this.sy,ce=this.tx,ve=this.ty,Se=1/(m*ne-T*X),je=ne*Se,He=-T*Se,it=-X*Se,tt=m*Se;return new Ve(je,He,it,tt,-je*ce-it*ve,-He*ce-tt*ve)},Ve.prototype.applyToPoint=function(m){var T=m.x*this.sx+m.y*this.shx+this.tx,X=m.x*this.shy+m.y*this.sy+this.ty;return new il(T,X)},Ve.prototype.applyToRectangle=function(m){var T=this.applyToPoint(m),X=this.applyToPoint(new il(m.x+m.w,m.y+m.h));return new Mu(T.x,T.y,X.x-T.x,X.y-T.y)},Ve.prototype.clone=function(){var m=this.sx,T=this.shy,X=this.shx,ne=this.sy,ce=this.tx,ve=this.ty;return new Ve(m,T,X,ne,ce,ve)},p.Matrix=Ve;var oi=p.matrixMult=function(m,T){return T.multiply(m)},Oi=new Ve(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Oi;var fr=function(m,T){if(!Yo[m]){var X=(T instanceof co?"Sh":"P")+(Object.keys(xt).length+1).toString(10);T.id=X,Yo[m]=X,xt[X]=T,St.publish("addPattern",T)}};p.ShadingPattern=co,p.TilingPattern=ga,p.addShadingPattern=function(m,T){return P("addShadingPattern()"),fr(m,T),this},p.beginTilingPattern=function(m){P("beginTilingPattern()"),lh(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},p.endTilingPattern=function(m,T){P("endTilingPattern()"),T.stream=Ne[j].join(`
`),fr(m,T),St.publish("endTilingPattern",T),Ri.pop().restore()};var wn=p.__private__.newObject=function(){var m=fn();return Er(m,!0),m},fn=p.__private__.newObjectDeferred=function(){return Z++,le[Z]=function(){return pe},Z},Er=function(m,T){return T=typeof T=="boolean"&&T,le[m]=pe,T&&ee(m+" 0 obj"),m},$a=p.__private__.newAdditionalObject=function(){var m={objId:fn(),content:""};return Ce.push(m),m},rs=fn(),ai=fn(),li=p.__private__.decodeColorString=function(m){var T=m.split(" ");if(T.length!==2||T[1]!=="g"&&T[1]!=="G")T.length===5&&(T[4]==="k"||T[4]==="K")&&(T=[(1-T[0])*(1-T[3]),(1-T[1])*(1-T[3]),(1-T[2])*(1-T[3]),"r"]);else{var X=parseFloat(T[0]);T=[X,X,X,"r"]}for(var ne="#",ce=0;ce<3;ce++)ne+=("0"+Math.floor(255*parseFloat(T[ce])).toString(16)).slice(-2);return ne},ui=p.__private__.encodeColorString=function(m){var T;typeof m=="string"&&(m={ch1:m});var X=m.ch1,ne=m.ch2,ce=m.ch3,ve=m.ch4,Se=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof X=="string"&&X.charAt(0)!=="#"){var je=new JS(X);if(je.ok)X=je.toHex();else if(!/^\d*\.?\d*$/.test(X))throw new Error('Invalid color "'+X+'" passed to jsPDF.encodeColorString.')}if(typeof X=="string"&&/^#[0-9A-Fa-f]{3}$/.test(X)&&(X="#"+X[1]+X[1]+X[2]+X[2]+X[3]+X[3]),typeof X=="string"&&/^#[0-9A-Fa-f]{6}$/.test(X)){var He=parseInt(X.substr(1),16);X=He>>16&255,ne=He>>8&255,ce=255&He}if(ne===void 0||ve===void 0&&X===ne&&ne===ce)if(typeof X=="string")T=X+" "+Se[0];else switch(m.precision){case 2:T=$(X/255)+" "+Se[0];break;case 3:default:T=A(X/255)+" "+Se[0]}else if(ve===void 0||bt(ve)==="object"){if(ve&&!isNaN(ve.a)&&ve.a===0)return T=["1.","1.","1.",Se[1]].join(" ");if(typeof X=="string")T=[X,ne,ce,Se[1]].join(" ");else switch(m.precision){case 2:T=[$(X/255),$(ne/255),$(ce/255),Se[1]].join(" ");break;default:case 3:T=[A(X/255),A(ne/255),A(ce/255),Se[1]].join(" ")}}else if(typeof X=="string")T=[X,ne,ce,ve,Se[2]].join(" ");else switch(m.precision){case 2:T=[$(X),$(ne),$(ce),$(ve),Se[2]].join(" ");break;case 3:default:T=[A(X),A(ne),A(ce),A(ve),Se[2]].join(" ")}return T},Di=p.__private__.getFilters=function(){return o},Wr=p.__private__.putStream=function(m){var T=(m=m||{}).data||"",X=m.filters||Di(),ne=m.alreadyAppliedFilters||[],ce=m.addLength1||!1,ve=T.length,Se=m.objectId,je=function($n){return $n};if(f!==null&&Se===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(je=qn.encryptor(Se,0));var He={};X===!0&&(X=["FlateEncode"]);var it=m.additionalKeyValues||[],tt=(He=$e.API.processDataByFilters!==void 0?$e.API.processDataByFilters(T,X):{data:T,reverseChain:[]}).reverseChain+(Array.isArray(ne)?ne.join(" "):ne.toString());if(He.data.length!==0&&(it.push({key:"Length",value:He.data.length}),ce===!0&&it.push({key:"Length1",value:ve})),tt.length!=0)if(tt.split("/").length-1==1)it.push({key:"Filter",value:tt});else{it.push({key:"Filter",value:"["+tt+"]"});for(var pt=0;pt<it.length;pt+=1)if(it[pt].key==="DecodeParms"){for(var Vt=[],Zt=0;Zt<He.reverseChain.split("/").length-1;Zt+=1)Vt.push("null");Vt.push(it[pt].value),it[pt].value="["+Vt.join(" ")+"]"}}ee("<<");for(var pn=0;pn<it.length;pn++)ee("/"+it[pn].key+" "+it[pn].value);ee(">>"),He.data.length!==0&&(ee("stream"),ee(je(He.data)),ee("endstream"))},Mi=p.__private__.putPage=function(m){var T=m.number,X=m.data,ne=m.objId,ce=m.contentsObjId;Er(ne,!0),ee("<</Type /Page"),ee("/Parent "+m.rootDictionaryObjId+" 0 R"),ee("/Resources "+m.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(R(m.mediaBox.bottomLeftX))+" "+parseFloat(R(m.mediaBox.bottomLeftY))+" "+R(m.mediaBox.topRightX)+" "+R(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&ee("/CropBox ["+R(m.cropBox.bottomLeftX)+" "+R(m.cropBox.bottomLeftY)+" "+R(m.cropBox.topRightX)+" "+R(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&ee("/BleedBox ["+R(m.bleedBox.bottomLeftX)+" "+R(m.bleedBox.bottomLeftY)+" "+R(m.bleedBox.topRightX)+" "+R(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&ee("/TrimBox ["+R(m.trimBox.bottomLeftX)+" "+R(m.trimBox.bottomLeftY)+" "+R(m.trimBox.topRightX)+" "+R(m.trimBox.topRightY)+"]"),m.artBox!==null&&ee("/ArtBox ["+R(m.artBox.bottomLeftX)+" "+R(m.artBox.bottomLeftY)+" "+R(m.artBox.topRightX)+" "+R(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&ee("/UserUnit "+m.userUnit),St.publish("putPage",{objId:ne,pageContext:et[T],pageNumber:T,page:X}),ee("/Contents "+ce+" 0 R"),ee(">>"),ee("endobj");var ve=X.join(`
`);return _===y.ADVANCED&&(ve+=`
Q`),Er(ce,!0),Wr({data:ve,filters:Di(),objectId:ce}),ee("endobj"),ne},Ko=p.__private__.putPages=function(){var m,T,X=[];for(m=1;m<=Xt;m++)et[m].objId=fn(),et[m].contentsObjId=fn();for(m=1;m<=Xt;m++)X.push(Mi({number:m,data:Ne[m],objId:et[m].objId,contentsObjId:et[m].contentsObjId,mediaBox:et[m].mediaBox,cropBox:et[m].cropBox,bleedBox:et[m].bleedBox,trimBox:et[m].trimBox,artBox:et[m].artBox,userUnit:et[m].userUnit,rootDictionaryObjId:rs,resourceDictionaryObjId:ai}));Er(rs,!0),ee("<</Type /Pages");var ne="/Kids [";for(T=0;T<Xt;T++)ne+=X[T]+" 0 R ";ee(ne+"]"),ee("/Count "+Xt),ee(">>"),ee("endobj"),St.publish("postPutPages")},Va=function(m){St.publish("putFont",{font:m,out:ee,newObject:wn,putStream:Wr}),m.isAlreadyPutted!==!0&&(m.objectNumber=wn(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+kl(m.postScriptName)),ee("/Subtype /Type1"),typeof m.encoding=="string"&&ee("/Encoding /"+m.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Ya=function(){for(var m in Lt)Lt.hasOwnProperty(m)&&(h===!1||h===!0&&g.hasOwnProperty(m))&&Va(Lt[m])},Ga=function(m){m.objectNumber=wn();var T=[];T.push({key:"Type",value:"/XObject"}),T.push({key:"Subtype",value:"/Form"}),T.push({key:"BBox",value:"["+[R(m.x),R(m.y),R(m.x+m.width),R(m.y+m.height)].join(" ")+"]"}),T.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var X=m.pages[1].join(`
`);Wr({data:X,additionalKeyValues:T,objectId:m.objectNumber}),ee("endobj")},Ka=function(){for(var m in On)On.hasOwnProperty(m)&&Ga(On[m])},qd=function(m,T){var X,ne=[],ce=1/(T-1);for(X=0;X<1;X+=ce)ne.push(X);if(ne.push(1),m[0].offset!=0){var ve={offset:0,color:m[0].color};m.unshift(ve)}if(m[m.length-1].offset!=1){var Se={offset:1,color:m[m.length-1].color};m.push(Se)}for(var je="",He=0,it=0;it<ne.length;it++){for(X=ne[it];X>m[He+1].offset;)He++;var tt=m[He].offset,pt=(X-tt)/(m[He+1].offset-tt),Vt=m[He].color,Zt=m[He+1].color;je+=J(Math.round((1-pt)*Vt[0]+pt*Zt[0]).toString(16))+J(Math.round((1-pt)*Vt[1]+pt*Zt[1]).toString(16))+J(Math.round((1-pt)*Vt[2]+pt*Zt[2]).toString(16))}return je.trim()},vm=function(m,T){T||(T=21);var X=wn(),ne=qd(m.colors,T),ce=[];ce.push({key:"FunctionType",value:"0"}),ce.push({key:"Domain",value:"[0.0 1.0]"}),ce.push({key:"Size",value:"["+T+"]"}),ce.push({key:"BitsPerSample",value:"8"}),ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Wr({data:ne,additionalKeyValues:ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:X}),ee("endobj"),m.objectNumber=wn(),ee("<< /ShadingType "+m.type),ee("/ColorSpace /DeviceRGB");var ve="/Coords ["+R(parseFloat(m.coords[0]))+" "+R(parseFloat(m.coords[1]))+" ";m.type===2?ve+=R(parseFloat(m.coords[2]))+" "+R(parseFloat(m.coords[3])):ve+=R(parseFloat(m.coords[2]))+" "+R(parseFloat(m.coords[3]))+" "+R(parseFloat(m.coords[4]))+" "+R(parseFloat(m.coords[5])),ee(ve+="]"),m.matrix&&ee("/Matrix ["+m.matrix.toString()+"]"),ee("/Function "+X+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},ym=function(m,T){var X=fn(),ne=wn();T.push({resourcesOid:X,objectOid:ne}),m.objectNumber=ne;var ce=[];ce.push({key:"Type",value:"/Pattern"}),ce.push({key:"PatternType",value:"1"}),ce.push({key:"PaintType",value:"1"}),ce.push({key:"TilingType",value:"1"}),ce.push({key:"BBox",value:"["+m.boundingBox.map(R).join(" ")+"]"}),ce.push({key:"XStep",value:R(m.xStep)}),ce.push({key:"YStep",value:R(m.yStep)}),ce.push({key:"Resources",value:X+" 0 R"}),m.matrix&&ce.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),Wr({data:m.stream,additionalKeyValues:ce,objectId:m.objectNumber}),ee("endobj")},Qa=function(m){var T;for(T in xt)xt.hasOwnProperty(T)&&(xt[T]instanceof co?vm(xt[T]):xt[T]instanceof ga&&ym(xt[T],m))},$d=function(m){for(var T in m.objectNumber=wn(),ee("<<"),m)switch(T){case"opacity":ee("/ca "+$(m[T]));break;case"stroke-opacity":ee("/CA "+$(m[T]))}ee(">>"),ee("endobj")},wm=function(){var m;for(m in Jt)Jt.hasOwnProperty(m)&&$d(Jt[m])},Eu=function(){for(var m in ee("/XObject <<"),On)On.hasOwnProperty(m)&&On[m].objectNumber>=0&&ee("/"+m+" "+On[m].objectNumber+" 0 R");St.publish("putXobjectDict"),ee(">>")},_m=function(){qn.oid=wn(),ee("<<"),ee("/Filter /Standard"),ee("/V "+qn.v),ee("/R "+qn.r),ee("/U <"+qn.toHexString(qn.U)+">"),ee("/O <"+qn.toHexString(qn.O)+">"),ee("/P "+qn.P),ee(">>"),ee("endobj")},Vd=function(){for(var m in ee("/Font <<"),Lt)Lt.hasOwnProperty(m)&&(h===!1||h===!0&&g.hasOwnProperty(m))&&ee("/"+m+" "+Lt[m].objectNumber+" 0 R");ee(">>")},bm=function(){if(Object.keys(xt).length>0){for(var m in ee("/Shading <<"),xt)xt.hasOwnProperty(m)&&xt[m]instanceof co&&xt[m].objectNumber>=0&&ee("/"+m+" "+xt[m].objectNumber+" 0 R");St.publish("putShadingPatternDict"),ee(">>")}},Ja=function(m){if(Object.keys(xt).length>0){for(var T in ee("/Pattern <<"),xt)xt.hasOwnProperty(T)&&xt[T]instanceof p.TilingPattern&&xt[T].objectNumber>=0&&xt[T].objectNumber<m&&ee("/"+T+" "+xt[T].objectNumber+" 0 R");St.publish("putTilingPatternDict"),ee(">>")}},xm=function(){if(Object.keys(Jt).length>0){var m;for(m in ee("/ExtGState <<"),Jt)Jt.hasOwnProperty(m)&&Jt[m].objectNumber>=0&&ee("/"+m+" "+Jt[m].objectNumber+" 0 R");St.publish("putGStateDict"),ee(">>")}},on=function(m){Er(m.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Vd(),bm(),Ja(m.objectOid),xm(),Eu(),ee(">>"),ee("endobj")},Yd=function(){var m=[];Ya(),wm(),Ka(),Qa(m),St.publish("putResources"),m.forEach(on),on({resourcesOid:ai,objectOid:Number.MAX_SAFE_INTEGER}),St.publish("postPutResources")},Gd=function(){St.publish("putAdditionalObjects");for(var m=0;m<Ce.length;m++){var T=Ce[m];Er(T.objId,!0),ee(T.content),ee("endobj")}St.publish("postPutAdditionalObjects")},Kd=function(m){Ht[m.fontName]=Ht[m.fontName]||{},Ht[m.fontName][m.fontStyle]=m.id},ku=function(m,T,X,ne,ce){var ve={id:"F"+(Object.keys(Lt).length+1).toString(10),postScriptName:m,fontName:T,fontStyle:X,encoding:ne,isStandardFont:ce||!1,metadata:{}};return St.publish("addFont",{font:ve,instance:this}),Lt[ve.id]=ve,Kd(ve),ve.id},Sm=function(m){for(var T=0,X=Ee.length;T<X;T++){var ne=ku.call(this,m[T][0],m[T][1],m[T][2],Ee[T][3],!0);h===!1&&(g[ne]=!0);var ce=m[T][0].split("-");Kd({id:ne,fontName:ce[0],fontStyle:ce[1]||""})}St.publish("addFonts",{fonts:Lt,dictionary:Ht})},ci=function(m){return m.foo=function(){try{return m.apply(this,arguments)}catch(ne){var T=ne.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var X="Error in function "+T.split(`
`)[0].split("<")[0]+": "+ne.message;if(!Ge.console)throw new Error(X);Ge.console.error(X,ne),Ge.alert&&alert(X)}},m.foo.bar=m,m.foo},Xa=function(m,T){var X,ne,ce,ve,Se,je,He,it,tt;if(ce=(T=T||{}).sourceEncoding||"Unicode",Se=T.outputEncoding,(T.autoencode||Se)&&Lt[dt].metadata&&Lt[dt].metadata[ce]&&Lt[dt].metadata[ce].encoding&&(ve=Lt[dt].metadata[ce].encoding,!Se&&Lt[dt].encoding&&(Se=Lt[dt].encoding),!Se&&ve.codePages&&(Se=ve.codePages[0]),typeof Se=="string"&&(Se=ve[Se]),Se)){for(He=!1,je=[],X=0,ne=m.length;X<ne;X++)(it=Se[m.charCodeAt(X)])?je.push(String.fromCharCode(it)):je.push(m[X]),je[X].charCodeAt(0)>>8&&(He=!0);m=je.join("")}for(X=m.length;He===void 0&&X!==0;)m.charCodeAt(X-1)>>8&&(He=!0),X--;if(!He)return m;for(je=T.noBOM?[]:[254,255],X=0,ne=m.length;X<ne;X++){if((tt=(it=m.charCodeAt(X))>>8)>>8)throw new Error("Character at position "+X+" of string '"+m+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");je.push(tt),je.push(it-(tt<<8))}return String.fromCharCode.apply(void 0,je)},pr=p.__private__.pdfEscape=p.pdfEscape=function(m,T){return Xa(m,T).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Au=p.__private__.beginPage=function(m){Ne[++Xt]=[],et[Xt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},Jd(Xt),ye(Ne[j])},Qd=function(m,T){var X,ne,ce;switch(n=T||n,typeof m=="string"&&(X=w(m.toLowerCase()),Array.isArray(X)&&(ne=X[0],ce=X[1])),Array.isArray(m)&&(ne=m[0]*Me,ce=m[1]*Me),isNaN(ne)&&(ne=i[0],ce=i[1]),(ne>14400||ce>14400)&&(Ot.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ne=Math.min(14400,ne),ce=Math.min(14400,ce)),i=[ne,ce],n.substr(0,1)){case"l":ce>ne&&(i=[ce,ne]);break;case"p":ne>ce&&(i=[ce,ne])}Au(i),rh(Lu),ee(di),Ou!==0&&ee(Ou+" J"),Du!==0&&ee(Du+" j"),St.publish("addPage",{pageNumber:Xt})},Nm=function(m){m>0&&m<=Xt&&(Ne.splice(m,1),et.splice(m,1),Xt--,j>Xt&&(j=Xt),this.setPage(j))},Jd=function(m){m>0&&m<=Xt&&(j=m)},Cm=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ne.length-1},Xd=function(m,T,X){var ne,ce=void 0;return X=X||{},m=m!==void 0?m:Lt[dt].fontName,T=T!==void 0?T:Lt[dt].fontStyle,ne=m.toLowerCase(),Ht[ne]!==void 0&&Ht[ne][T]!==void 0?ce=Ht[ne][T]:Ht[m]!==void 0&&Ht[m][T]!==void 0?ce=Ht[m][T]:X.disableWarning===!1&&Ot.warn("Unable to look up font label for font '"+m+"', '"+T+"'. Refer to getFontList() for available fonts."),ce||X.noFallback||(ce=Ht.times[T])==null&&(ce=Ht.times.normal),ce},Em=p.__private__.putInfo=function(){var m=wn(),T=function(ne){return ne};for(var X in f!==null&&(T=qn.encryptor(m,0)),ee("<<"),ee("/Producer ("+pr(T("jsPDF "+$e.version))+")"),Je)Je.hasOwnProperty(X)&&Je[X]&&ee("/"+X.substr(0,1).toUpperCase()+X.substr(1)+" ("+pr(T(Je[X]))+")");ee("/CreationDate ("+pr(T(se))+")"),ee(">>"),ee("endobj")},Pu=p.__private__.putCatalog=function(m){var T=(m=m||{}).rootDictionaryObjId||rs;switch(wn(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+T+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var X=""+De;X.substr(X.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+$(De)+"]")}switch(at||(at="continuous"),at){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Ze&&ee("/PageMode /"+Ze),St.publish("putCatalog"),ee(">>"),ee("endobj")},km=p.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(Z+1)),ee("/Root "+Z+" 0 R"),ee("/Info "+(Z-1)+" 0 R"),f!==null&&ee("/Encrypt "+qn.oid+" 0 R"),ee("/ID [ <"+Q+"> <"+Q+"> ]"),ee(">>")},Am=p.__private__.putHeader=function(){ee("%PDF-"+b),ee("%ºß¬à")},Pm=p.__private__.putXRef=function(){var m="0000000000";ee("xref"),ee("0 "+(Z+1)),ee("0000000000 65535 f ");for(var T=1;T<=Z;T++)typeof le[T]=="function"?ee((m+le[T]()).slice(-10)+" 00000 n "):le[T]!==void 0?ee((m+le[T]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},is=p.__private__.buildDocument=function(){Ye(),ye(de),St.publish("buildDocument"),Am(),Ko(),Gd(),Yd(),f!==null&&_m(),Em(),Pu();var m=pe;return Pm(),km(),ee("startxref"),ee(""+m),ee("%%EOF"),ye(Ne[j]),de.join(`
`)},Za=p.__private__.getBlob=function(m){return new Blob([ze(m)],{type:"application/pdf"})},el=p.output=p.__private__.output=ci(function(m,T){switch(typeof(T=T||{})=="string"?T={filename:T}:T.filename=T.filename||"generated.pdf",m){case void 0:return is();case"save":p.save(T.filename);break;case"arraybuffer":return ze(is());case"blob":return Za(is());case"bloburi":case"bloburl":if(Ge.URL!==void 0&&typeof Ge.URL.createObjectURL=="function")return Ge.URL&&Ge.URL.createObjectURL(Za(is()))||void 0;Ot.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var X="",ne=is();try{X=H1(ne)}catch{X=H1(unescape(encodeURIComponent(ne)))}return"data:application/pdf;filename="+T.filename+";base64,"+X;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ge)==="[object Window]"){var ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';T.pdfObjectUrl&&(ce=T.pdfObjectUrl,ve="");var Se='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ce+'"'+ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(T)+");<\/script></body></html>",je=Ge.open();return je!==null&&je.document.write(Se),je}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ge)==="[object Window]"){var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(T.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+T.filename+'" width="500px" height="400px" /></body></html>',it=Ge.open();if(it!==null){it.document.write(He);var tt=this;it.document.documentElement.querySelector("#pdfViewer").onload=function(){it.document.title=T.filename,it.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tt.output("bloburl"))}}return it}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ge)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",T)+'"></iframe></body></html>',Vt=Ge.open();if(Vt!==null&&(Vt.document.write(pt),Vt.document.title=T.filename),Vt||typeof safari>"u")return Vt;break;case"datauri":case"dataurl":return Ge.document.location.href=this.output("datauristring",T);default:return null}}),Zd=function(m){return Array.isArray(Go)===!0&&Go.indexOf(m)>-1};switch(r){case"pt":Me=1;break;case"mm":Me=72/25.4;break;case"cm":Me=72/2.54;break;case"in":Me=72;break;case"px":Me=Zd("px_scaling")==1?.75:96/72;break;case"pc":case"em":Me=12;break;case"ex":Me=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Me=r}var qn=null;ue(),U();var Im=function(m){return f!==null?qn.encryptor(m,0):function(T){return T}},eh=p.__private__.getPageInfo=p.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:et[m].objId,pageNumber:m,pageContext:et[m]}},Xe=p.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var T in et)if(et[T].objId===m)break;return eh(T)},Tm=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:et[j].objId,pageNumber:j,pageContext:et[j]}};p.addPage=function(){return Qd.apply(this,arguments),this},p.setPage=function(){return Jd.apply(this,arguments),ye.call(this,Ne[j]),this},p.insertPage=function(m){return this.addPage(),this.movePage(j,m),this},p.movePage=function(m,T){var X,ne;if(m>T){X=Ne[m],ne=et[m];for(var ce=m;ce>T;ce--)Ne[ce]=Ne[ce-1],et[ce]=et[ce-1];Ne[T]=X,et[T]=ne,this.setPage(T)}else if(m<T){X=Ne[m],ne=et[m];for(var ve=m;ve<T;ve++)Ne[ve]=Ne[ve+1],et[ve]=et[ve+1];Ne[T]=X,et[T]=ne,this.setPage(T)}return this},p.deletePage=function(){return Nm.apply(this,arguments),this},p.__private__.text=p.text=function(m,T,X,ne,ce){var ve,Se,je,He,it,tt,pt,Vt,Zt,pn=(ne=ne||{}).scope||this;if(typeof m=="number"&&typeof T=="number"&&(typeof X=="string"||Array.isArray(X))){var $n=X;X=T,T=m,m=$n}if(arguments[3]instanceof Ve?(P("The transform parameter of text() with a Matrix value"),Zt=ce):(je=arguments[4],He=arguments[5],bt(pt=arguments[3])==="object"&&pt!==null||(typeof je=="string"&&(He=je,je=null),typeof pt=="string"&&(He=pt,pt=null),typeof pt=="number"&&(je=pt,pt=null),ne={flags:pt,angle:je,align:He})),isNaN(T)||isNaN(X)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return pn;var En="",hi=!1,kr=typeof ne.lineHeightFactor=="number"?ne.lineHeightFactor:Jo,Bi=pn.internal.scaleFactor;function uh(Dt){return Dt=Dt.split("	").join(Array(ne.TabLen||9).join(" ")),pr(Dt,pt)}function Uu(Dt){for(var Mt,ln=Dt.concat(),_n=[],us=ln.length;us--;)typeof(Mt=ln.shift())=="string"?_n.push(Mt):Array.isArray(Dt)&&(Mt.length===1||Mt[1]===void 0&&Mt[2]===void 0)?_n.push(Mt[0]):_n.push([Mt[0],Mt[1],Mt[2]]);return _n}function zu(Dt,Mt){var ln;if(typeof Dt=="string")ln=Mt(Dt)[0];else if(Array.isArray(Dt)){for(var _n,us,Ku=Dt.concat(),ml=[],ph=Ku.length;ph--;)typeof(_n=Ku.shift())=="string"?ml.push(Mt(_n)[0]):Array.isArray(_n)&&typeof _n[0]=="string"&&(us=Mt(_n[0],_n[1],_n[2]),ml.push([us[0],us[1],us[2]]));ln=ml}return ln}var ol=!1,Wu=!0;if(typeof m=="string")ol=!0;else if(Array.isArray(m)){var Hu=m.concat();Se=[];for(var al,Dn=Hu.length;Dn--;)(typeof(al=Hu.shift())!="string"||Array.isArray(al)&&typeof al[0]!="string")&&(Wu=!1);ol=Wu}if(ol===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var ll=Pe/pn.internal.scaleFactor,ul=ll*(kr-1);switch(ne.baseline){case"bottom":X-=ul;break;case"top":X+=ll-ul;break;case"hanging":X+=ll-2*ul;break;case"middle":X+=ll/2-ul}if((tt=ne.maxWidth||0)>0&&(typeof m=="string"?m=pn.splitTextToSize(m,tt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Dt,Mt){return Dt.concat(pn.splitTextToSize(Mt,tt))},[]))),ve={text:m,x:T,y:X,options:ne,mutex:{pdfEscape:pr,activeFontKey:dt,fonts:Lt,activeFontSize:Pe}},St.publish("preProcessText",ve),m=ve.text,je=(ne=ve.options).angle,!(Zt instanceof Ve)&&je&&typeof je=="number"){je*=Math.PI/180,ne.rotationDirection===0&&(je=-je),_===y.ADVANCED&&(je=-je);var cl=Math.cos(je),qu=Math.sin(je);Zt=new Ve(cl,qu,-qu,cl,0,0)}else je&&je instanceof Ve&&(Zt=je);_!==y.ADVANCED||Zt||(Zt=Oi),(it=ne.charSpace||rl)!==void 0&&(En+=R(k(it))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Vt=ne.horizontalScale)!==void 0&&(En+=R(100*Vt)+` Tz
`),ne.lang;var mr=-1,zm=ne.renderingMode!==void 0?ne.renderingMode:ne.stroke,$u=pn.internal.getCurrentPageInfo().pageContext;switch(zm){case 0:case!1:case"fill":mr=0;break;case 1:case!0:case"stroke":mr=1;break;case 2:case"fillThenStroke":mr=2;break;case 3:case"invisible":mr=3;break;case 4:case"fillAndAddForClipping":mr=4;break;case 5:case"strokeAndAddPathForClipping":mr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mr=6;break;case 7:case"addToPathForClipping":mr=7}var ch=$u.usedRenderingMode!==void 0?$u.usedRenderingMode:-1;mr!==-1?En+=mr+` Tr
`:ch!==-1&&(En+=`0 Tr
`),mr!==-1&&($u.usedRenderingMode=mr),He=ne.align||"left";var Hr,dl=Pe*kr,dh=pn.internal.pageSize.getWidth(),hh=Lt[dt];it=ne.charSpace||rl,tt=ne.maxWidth||0,pt=Object.assign({autoencode:!0,noBOM:!0},ne.flags);var Bs=[],ea=function(Dt){return pn.getStringUnitWidth(Dt,{font:hh,charSpace:it,fontSize:Pe,doKerning:!1})*Pe/Bi};if(Object.prototype.toString.call(m)==="[object Array]"){var gr;Se=Uu(m),He!=="left"&&(Hr=Se.map(ea));var nr,Us=0;if(He==="right"){T-=Hr[0],m=[],Dn=Se.length;for(var os=0;os<Dn;os++)os===0?(nr=Fi(T),gr=ss(X)):(nr=k(Us-Hr[os]),gr=-dl),m.push([Se[os],nr,gr]),Us=Hr[os]}else if(He==="center"){T-=Hr[0]/2,m=[],Dn=Se.length;for(var as=0;as<Dn;as++)as===0?(nr=Fi(T),gr=ss(X)):(nr=k((Us-Hr[as])/2),gr=-dl),m.push([Se[as],nr,gr]),Us=Hr[as]}else if(He==="left"){m=[],Dn=Se.length;for(var hl=0;hl<Dn;hl++)m.push(Se[hl])}else if(He==="justify"&&hh.encoding==="Identity-H"){m=[],Dn=Se.length,tt=tt!==0?tt:dh;for(var ls=0,an=0;an<Dn;an++)if(gr=an===0?ss(X):-dl,nr=an===0?Fi(T):ls,an<Dn-1){var Vu=k((tt-Hr[an])/(Se[an].split(" ").length-1)),rr=Se[an].split(" ");m.push([rr[0]+" ",nr,gr]),ls=0;for(var qr=1;qr<rr.length;qr++){var fl=(ea(rr[qr-1]+" "+rr[qr])-ea(rr[qr]))*Bi+Vu;qr==rr.length-1?m.push([rr[qr],fl,0]):m.push([rr[qr]+" ",fl,0]),ls-=fl}}else m.push([Se[an],nr,gr]);m.push(["",ls,0])}else{if(He!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Dn=Se.length,tt=tt!==0?tt:dh,an=0;an<Dn;an++)gr=an===0?ss(X):-dl,nr=an===0?Fi(T):0,an<Dn-1?Bs.push(R(k((tt-Hr[an])/(Se[an].split(" ").length-1)))):Bs.push(0),m.push([Se[an],nr,gr])}}var fh=typeof ne.R2L=="boolean"?ne.R2L:We;fh===!0&&(m=zu(m,function(Dt,Mt,ln){return[Dt.split("").reverse().join(""),Mt,ln]})),ve={text:m,x:T,y:X,options:ne,mutex:{pdfEscape:pr,activeFontKey:dt,fonts:Lt,activeFontSize:Pe}},St.publish("postProcessText",ve),m=ve.text,hi=ve.mutex.isHex||!1;var Yu=Lt[dt].encoding;Yu!=="WinAnsiEncoding"&&Yu!=="StandardEncoding"||(m=zu(m,function(Dt,Mt,ln){return[uh(Dt),Mt,ln]})),Se=Uu(m),m=[];for(var ta,na,zs,ra=0,pl=1,ia=Array.isArray(Se[0])?pl:ra,Ws="",Gu=function(Dt,Mt,ln){var _n="";return ln instanceof Ve?(ln=typeof ne.angle=="number"?oi(ln,new Ve(1,0,0,1,Dt,Mt)):oi(new Ve(1,0,0,1,Dt,Mt),ln),_===y.ADVANCED&&(ln=oi(new Ve(1,0,0,-1,0,0),ln)),_n=ln.join(" ")+` Tm
`):_n=R(Dt)+" "+R(Mt)+` Td
`,_n},$r=0;$r<Se.length;$r++){switch(Ws="",ia){case pl:zs=(hi?"<":"(")+Se[$r][0]+(hi?">":")"),ta=parseFloat(Se[$r][1]),na=parseFloat(Se[$r][2]);break;case ra:zs=(hi?"<":"(")+Se[$r]+(hi?">":")"),ta=Fi(T),na=ss(X)}Bs!==void 0&&Bs[$r]!==void 0&&(Ws=Bs[$r]+` Tw
`),$r===0?m.push(Ws+Gu(ta,na,Zt)+zs):ia===ra?m.push(Ws+zs):ia===pl&&m.push(Ws+Gu(ta,na,Zt)+zs)}m=ia===ra?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var Vr=`BT
/`;return Vr+=dt+" "+Pe+` Tf
`,Vr+=R(Pe*kr)+` TL
`,Vr+=Xo+`
`,Vr+=En,Vr+=m,ee(Vr+="ET"),g[dt]=!0,pn};var Lm=p.__private__.clip=p.clip=function(m){return ee(m==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Lm("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ee("n"),this};var ji=p.__private__.isValidStyle=function(m){var T=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(T=!0),T};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(m){return ji(m)&&(c=m),this};var th=p.__private__.getStyle=p.getStyle=function(m){var T=c;switch(m){case"D":case"S":T="S";break;case"F":T="f";break;case"FD":case"DF":T="B";break;case"f":case"f*":case"B":case"B*":T=m}return T},nh=p.close=function(){return ee("h"),this};p.stroke=function(){return ee("S"),this},p.fill=function(m){return tl("f",m),this},p.fillEvenOdd=function(m){return tl("f*",m),this},p.fillStroke=function(m){return tl("B",m),this},p.fillStrokeEvenOdd=function(m){return tl("B*",m),this};var tl=function(m,T){bt(T)==="object"?Om(T,m):ee(m)},Iu=function(m){m===null||_===y.ADVANCED&&m===void 0||(m=th(m),ee(m))};function Rm(m,T,X,ne,ce){var ve=new ga(T||this.boundingBox,X||this.xStep,ne||this.yStep,this.gState,ce||this.matrix);ve.stream=this.stream;var Se=m+"$$"+this.cloneIndex+++"$$";return fr(Se,ve),ve}var Om=function(m,T){var X=Yo[m.key],ne=xt[X];if(ne instanceof co)ee("q"),ee(Dm(T)),ne.gState&&p.setGState(ne.gState),ee(m.matrix.toString()+" cm"),ee("/"+X+" sh"),ee("Q");else if(ne instanceof ga){var ce=new Ve(1,0,0,-1,0,Fs());m.matrix&&(ce=ce.multiply(m.matrix||Oi),X=Rm.call(ne,m.key,m.boundingBox,m.xStep,m.yStep,ce).id),ee("q"),ee("/Pattern cs"),ee("/"+X+" scn"),ne.gState&&p.setGState(ne.gState),ee(T),ee("Q")}},Dm=function(m){switch(m){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Tu=p.moveTo=function(m,T){return ee(R(k(m))+" "+R(G(T))+" m"),this},Qo=p.lineTo=function(m,T){return ee(R(k(m))+" "+R(G(T))+" l"),this},Ms=p.curveTo=function(m,T,X,ne,ce,ve){return ee([R(k(m)),R(G(T)),R(k(X)),R(G(ne)),R(k(ce)),R(G(ve)),"c"].join(" ")),this};p.__private__.line=p.line=function(m,T,X,ne,ce){if(isNaN(m)||isNaN(T)||isNaN(X)||isNaN(ne)||!ji(ce))throw new Error("Invalid arguments passed to jsPDF.line");return _===y.COMPAT?this.lines([[X-m,ne-T]],m,T,[1,1],ce||"S"):this.lines([[X-m,ne-T]],m,T,[1,1]).stroke()},p.__private__.lines=p.lines=function(m,T,X,ne,ce,ve){var Se,je,He,it,tt,pt,Vt,Zt,pn,$n,En,hi;if(typeof m=="number"&&(hi=X,X=T,T=m,m=hi),ne=ne||[1,1],ve=ve||!1,isNaN(T)||isNaN(X)||!Array.isArray(m)||!Array.isArray(ne)||!ji(ce)||typeof ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Tu(T,X),Se=ne[0],je=ne[1],it=m.length,$n=T,En=X,He=0;He<it;He++)(tt=m[He]).length===2?($n=tt[0]*Se+$n,En=tt[1]*je+En,Qo($n,En)):(pt=tt[0]*Se+$n,Vt=tt[1]*je+En,Zt=tt[2]*Se+$n,pn=tt[3]*je+En,$n=tt[4]*Se+$n,En=tt[5]*je+En,Ms(pt,Vt,Zt,pn,$n,En));return ve&&nh(),Iu(ce),this},p.path=function(m){for(var T=0;T<m.length;T++){var X=m[T],ne=X.c;switch(X.op){case"m":Tu(ne[0],ne[1]);break;case"l":Qo(ne[0],ne[1]);break;case"c":Ms.apply(this,ne);break;case"h":nh()}}return this},p.__private__.rect=p.rect=function(m,T,X,ne,ce){if(isNaN(m)||isNaN(T)||isNaN(X)||isNaN(ne)||!ji(ce))throw new Error("Invalid arguments passed to jsPDF.rect");return _===y.COMPAT&&(ne=-ne),ee([R(k(m)),R(G(T)),R(k(X)),R(k(ne)),"re"].join(" ")),Iu(ce),this},p.__private__.triangle=p.triangle=function(m,T,X,ne,ce,ve,Se){if(isNaN(m)||isNaN(T)||isNaN(X)||isNaN(ne)||isNaN(ce)||isNaN(ve)||!ji(Se))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[X-m,ne-T],[ce-X,ve-ne],[m-ce,T-ve]],m,T,[1,1],Se,!0),this},p.__private__.roundedRect=p.roundedRect=function(m,T,X,ne,ce,ve,Se){if(isNaN(m)||isNaN(T)||isNaN(X)||isNaN(ne)||isNaN(ce)||isNaN(ve)||!ji(Se))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var je=4/3*(Math.SQRT2-1);return ce=Math.min(ce,.5*X),ve=Math.min(ve,.5*ne),this.lines([[X-2*ce,0],[ce*je,0,ce,ve-ve*je,ce,ve],[0,ne-2*ve],[0,ve*je,-ce*je,ve,-ce,ve],[2*ce-X,0],[-ce*je,0,-ce,-ve*je,-ce,-ve],[0,2*ve-ne],[0,-ve*je,ce*je,-ve,ce,-ve]],m+ce,T,[1,1],Se,!0),this},p.__private__.ellipse=p.ellipse=function(m,T,X,ne,ce){if(isNaN(m)||isNaN(T)||isNaN(X)||isNaN(ne)||!ji(ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ve=4/3*(Math.SQRT2-1)*X,Se=4/3*(Math.SQRT2-1)*ne;return Tu(m+X,T),Ms(m+X,T-Se,m+ve,T-ne,m,T-ne),Ms(m-ve,T-ne,m-X,T-Se,m-X,T),Ms(m-X,T+Se,m-ve,T+ne,m,T+ne),Ms(m+ve,T+ne,m+X,T+Se,m+X,T),Iu(ce),this},p.__private__.circle=p.circle=function(m,T,X,ne){if(isNaN(m)||isNaN(T)||isNaN(X)||!ji(ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,T,X,X,ne)},p.setFont=function(m,T,X){return X&&(T=B(T,X)),dt=Xd(m,T,{disableWarning:!1}),this};var Mm=p.__private__.getFont=p.getFont=function(){return Lt[Xd.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var m,T,X={};for(m in Ht)if(Ht.hasOwnProperty(m))for(T in X[m]=[],Ht[m])Ht[m].hasOwnProperty(T)&&X[m].push(T);return X},p.addFont=function(m,T,X,ne,ce){var ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ve.indexOf(arguments[3])!==-1?ce=arguments[3]:arguments[3]&&ve.indexOf(arguments[3])==-1&&(X=B(X,ne)),ce=ce||"Identity-H",ku.call(this,m,T,X,ce)};var Jo,Lu=t.lineWidth||.200025,nl=p.__private__.getLineWidth=p.getLineWidth=function(){return Lu},rh=p.__private__.setLineWidth=p.setLineWidth=function(m){return Lu=m,ee(R(k(m))+" w"),this};p.__private__.setLineDash=$e.API.setLineDash=$e.API.setLineDashPattern=function(m,T){if(m=m||[],T=T||0,isNaN(T)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(X){return R(k(X))}).join(" "),T=R(k(T)),ee("["+m+"] "+T+" d"),this};var ih=p.__private__.getLineHeight=p.getLineHeight=function(){return Pe*Jo};p.__private__.getLineHeight=p.getLineHeight=function(){return Pe*Jo};var sh=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(Jo=m),this},oh=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Jo};sh(t.lineHeight);var Fi=p.__private__.getHorizontalCoordinate=function(m){return k(m)},ss=p.__private__.getVerticalCoordinate=function(m){return _===y.ADVANCED?m:et[j].mediaBox.topRightY-et[j].mediaBox.bottomLeftY-k(m)},jm=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(m){return R(Fi(m))},js=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(m){return R(ss(m))},di=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return li(di)},p.__private__.setStrokeColor=p.setDrawColor=function(m,T,X,ne){return di=ui({ch1:m,ch2:T,ch3:X,ch4:ne,pdfColorType:"draw",precision:2}),ee(di),this};var Ru=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return li(Ru)},p.__private__.setFillColor=p.setFillColor=function(m,T,X,ne){return Ru=ui({ch1:m,ch2:T,ch3:X,ch4:ne,pdfColorType:"fill",precision:2}),ee(Ru),this};var Xo=t.textColor||"0 g",Fm=p.__private__.getTextColor=p.getTextColor=function(){return li(Xo)};p.__private__.setTextColor=p.setTextColor=function(m,T,X,ne){return Xo=ui({ch1:m,ch2:T,ch3:X,ch4:ne,pdfColorType:"text",precision:3}),this};var rl=t.charSpace,Bm=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(rl||0)};p.__private__.setCharSpace=p.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return rl=m,this};var Ou=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(m){var T=p.CapJoinStyles[m];if(T===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ou=T,ee(T+" J"),this};var Du=0;p.__private__.setLineJoin=p.setLineJoin=function(m){var T=p.CapJoinStyles[m];if(T===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Du=T,ee(T+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(R(k(m))+" M"),this},p.GState=Sd,p.setGState=function(m){(m=typeof m=="string"?Jt[si[m]]:ah(null,m)).equals(ns)||(ee("/"+m.id+" gs"),ns=m)};var ah=function(m,T){if(!m||!si[m]){var X=!1;for(var ne in Jt)if(Jt.hasOwnProperty(ne)&&Jt[ne].equals(T)){X=!0;break}if(X)T=Jt[ne];else{var ce="GS"+(Object.keys(Jt).length+1).toString(10);Jt[ce]=T,T.id=ce}return m&&(si[m]=T.id),St.publish("addGState",T),T}};p.addGState=function(m,T){return ah(m,T),this},p.saveGraphicsState=function(){return ee("q"),Ti.push({key:dt,size:Pe,color:Xo}),this},p.restoreGraphicsState=function(){ee("Q");var m=Ti.pop();return dt=m.key,Pe=m.size,Xo=m.color,ns=null,this},p.setCurrentTransformationMatrix=function(m){return ee(m.toString()+" cm"),this},p.comment=function(m){return ee("#"+m),this};var il=function(m,T){var X=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return X},set:function(ve){isNaN(ve)||(X=parseFloat(ve))}});var ne=T||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ne},set:function(ve){isNaN(ve)||(ne=parseFloat(ve))}});var ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ce},set:function(ve){ce=ve.toString()}}),this},Mu=function(m,T,X,ne){il.call(this,m,T),this.type="rect";var ce=X||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ce},set:function(Se){isNaN(Se)||(ce=parseFloat(Se))}});var ve=ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ve},set:function(Se){isNaN(Se)||(ve=parseFloat(Se))}}),this},ju=function(){this.page=Xt,this.currentPage=j,this.pages=Ne.slice(0),this.pagesContext=et.slice(0),this.x=Hn,this.y=yt,this.matrix=ii,this.width=Zo(j),this.height=Fs(j),this.outputDestination=Le,this.id="",this.objectNumber=-1};ju.prototype.restore=function(){Xt=this.page,j=this.currentPage,et=this.pagesContext,Ne=this.pages,Hn=this.x,yt=this.y,ii=this.matrix,Fu(j,this.width),Bu(j,this.height),Le=this.outputDestination};var lh=function(m,T,X,ne,ce){Ri.push(new ju),Xt=j=0,Ne=[],Hn=m,yt=T,ii=ce,Au([X,ne])},Um=function(m){if(Li[m])Ri.pop().restore();else{var T=new ju,X="Xo"+(Object.keys(On).length+1).toString(10);T.id=X,Li[m]=X,On[X]=T,St.publish("addFormObject",T),Ri.pop().restore()}};for(var sl in p.beginFormObject=function(m,T,X,ne,ce){return lh(m,T,X,ne,ce),this},p.endFormObject=function(m){return Um(m),this},p.doFormObject=function(m,T){var X=On[Li[m]];return ee("q"),ee(T.toString()+" cm"),ee("/"+X.id+" Do"),ee("Q"),this},p.getFormObject=function(m){var T=On[Li[m]];return{x:T.x,y:T.y,width:T.width,height:T.height,matrix:T.matrix}},p.save=function(m,T){return m=m||"generated.pdf",(T=T||{}).returnPromise=T.returnPromise||!1,T.returnPromise===!1?(da(Za(is()),m),typeof da.unload=="function"&&Ge.setTimeout&&setTimeout(da.unload,911),this):new Promise(function(X,ne){try{var ce=da(Za(is()),m);typeof da.unload=="function"&&Ge.setTimeout&&setTimeout(da.unload,911),X(ce)}catch(ve){ne(ve.message)}})},$e.API)$e.API.hasOwnProperty(sl)&&(sl==="events"&&$e.API.events.length?function(m,T){var X,ne,ce;for(ce=T.length-1;ce!==-1;ce--)X=T[ce][0],ne=T[ce][1],m.subscribe.apply(m,[X].concat(typeof ne=="function"?[ne]:ne))}(St,$e.API.events):p[sl]=$e.API[sl]);var Zo=p.getPageWidth=function(m){return(et[m=m||j].mediaBox.topRightX-et[m].mediaBox.bottomLeftX)/Me},Fu=p.setPageWidth=function(m,T){et[m].mediaBox.topRightX=T*Me+et[m].mediaBox.bottomLeftX},Fs=p.getPageHeight=function(m){return(et[m=m||j].mediaBox.topRightY-et[m].mediaBox.bottomLeftY)/Me},Bu=p.setPageHeight=function(m,T){et[m].mediaBox.topRightY=T*Me+et[m].mediaBox.bottomLeftY};return p.internal={pdfEscape:pr,getStyle:th,getFont:Mm,getFontSize:Oe,getCharSpace:Bm,getTextColor:Fm,getLineHeight:ih,getLineHeightFactor:oh,getLineWidth:nl,write:rt,getHorizontalCoordinate:Fi,getVerticalCoordinate:ss,getCoordinateString:jm,getVerticalCoordinateString:js,collections:{},newObject:wn,newAdditionalObject:$a,newObjectDeferred:fn,newObjectDeferredBegin:Er,getFilters:Di,putStream:Wr,events:St,scaleFactor:Me,pageSize:{getWidth:function(){return Zo(j)},setWidth:function(m){Fu(j,m)},getHeight:function(){return Fs(j)},setHeight:function(m){Bu(j,m)}},encryptionOptions:f,encryption:qn,getEncryptor:Im,output:el,getNumberOfPages:Cm,pages:Ne,out:ee,f2:$,f3:A,getPageInfo:eh,getPageInfoByObjId:Xe,getCurrentPageInfo:Tm,getPDFVersion:S,Point:il,Rectangle:Mu,Matrix:Ve,hasHotfix:Zd},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Zo(j)},set:function(m){Fu(j,m)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Fs(j)},set:function(m){Bu(j,m)},enumerable:!0,configurable:!0}),Sm.call(p,Ee),dt="F1",Qd(i,n),St.publish("initialized"),p}El.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},El.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},El.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},El.prototype.processOwnerPassword=function(t,e){return $1(q1(e).substr(0,5),t)},El.prototype.encryptor=function(t,e){var n=q1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return $1(n,r)}},Sd.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||bt(t)!==bt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},$e.API={events:[]},$e.version="2.5.2";var tn=$e.API,Q2=1,qa=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nl=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},nt=function(t){return t.toFixed(2)},eo=function(t){return t.toFixed(5)};tn.__acroform__={};var Cr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},C_=function(t){return t*Q2},Wi=function(t){var e=new tN,n=Ue.internal.getHeight(t)||0,r=Ue.internal.getWidth(t)||0;return e.BBox=[0,0,Number(nt(r)),Number(nt(n))],e},UM=tn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},zM=tn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},WM=tn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},cn=tn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return WM(t,e-1)},dn=tn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return UM(t,e-1)},hn=tn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zM(t,e-1)},HM=tn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(nt(l.lowerLeft_X)),Number(nt(l.lowerLeft_Y)),Number(nt(l.upperRight_X)),Number(nt(l.upperRight_Y))]},qM=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=V1(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+nt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Wi(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},V1=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(A){return A.split(`
`)}):i.map(function(A){return[A]});var s=n,o=Ue.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ue.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(A,k,V){if(A+1<i.length){var G=k+" "+i[A+1][0];return sf(G,t,V).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,f,h=sf("3",t,s).height,g=t.multiline?o-s:(o-h)/2,p=g+=2,b=0,S=0,N=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+sf(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",y=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var E=!1;if(i[_].length!==1&&N!==i[_].length-1){if((h+2)*(y+2)+2>o)continue e;w+=i[_][N],E=!0,S=_,_--}else{w=(w+=i[_][N]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var D=parseInt(_),B=l(D,w,s),R=_>=i.length-1;if(B&&!R){w+=" ",N=0;continue}if(B||R){if(R)S=D;else if(t.multiline&&(h+2)*(y+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(y+2)+2>o)continue e;S=D}}for(var P="",q=b;q<=S;q++){var $=i[q];if(t.multiline){if(q===S){P+=$[N]+" ",N=(N+1)%$.length;continue}if(q===b){P+=$[$.length-1]+" ";continue}}P+=$[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,f=sf(P,t,s).width,t.textAlign){case"right":c=a-f-2;break;case"center":c=(a-f)/2;break;case"left":default:c=2}e+=nt(c)+" "+nt(p)+` Td
`,e+="("+qa(P)+`) Tj
`,e+=-nt(c)+` 0 Td
`,p=-(s+2),f=0,b=E?S:S+1,y++,w=""}break}return r.text=e,r.fontSize=s,r},sf=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},$M={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},VM=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},YM=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),bt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},GM=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Pi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify($M)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Q2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new nN,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&VM(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=HM(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ue.createDefaultAppearanceStream(a),bt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=qM(a);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var h="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var p=a.appearanceStreamContent[g];if(h+="/"+g+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var b=p[o];typeof b=="function"&&(b=b.call(i,a)),h+="/"+o+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=p)=="function"&&(b=b.call(i,a)),h+="/"+o+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&YM(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},eN=tn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),bt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+qa(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},s0=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+qa(r(t))+")"},Yi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yi.prototype.toString=function(){return this.objId+" 0 R"},Yi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Yi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:eN(i,this.objId,this.scope)}):i instanceof Yi?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var tN=function(){Yi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Cr(tN,Yi);var nN=function(){Yi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+qa(n(t))+")"}},set:function(n){t=n}})};Cr(nN,Yi);var Pi=function t(){Yi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!cn(e,3)},set:function(w){w?this.F=dn(e,3):this.F=hn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof kp)return;s="FieldObject"+t.FieldNum++}var w=function(y){return y};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+qa(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Q2:c},set:function(w){c=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof kp||this instanceof To))return s0(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof xn?g:s0(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=this instanceof xn?w:w.substr(0,1)==="("?Nl(w.substr(1,w.length-2)):Nl(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xn?Nl(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof xn?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof xn?p:s0(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof xn?w:w.substr(0,1)==="("?Nl(w.substr(1,w.length-2)):Nl(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xn?Nl(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof xn?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(w){w=!!w,S=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(w){b=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,1)},set:function(w){w?this.Ff=dn(this.Ff,1):this.Ff=hn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,2)},set:function(w){w?this.Ff=dn(this.Ff,2):this.Ff=hn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,3)},set:function(w){w?this.Ff=dn(this.Ff,3):this.Ff=hn(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');N=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(N){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};Cr(Pi,Yi);var ba=function(){Pi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return eN(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,18)},set:function(n){n?this.Ff=dn(this.Ff,18):this.Ff=hn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=dn(this.Ff,19):this.Ff=hn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,20)},set:function(n){n?(this.Ff=dn(this.Ff,20),e.sort()):this.Ff=hn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,22)},set:function(n){n?this.Ff=dn(this.Ff,22):this.Ff=hn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,23)},set:function(n){n?this.Ff=dn(this.Ff,23):this.Ff=hn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,27)},set:function(n){n?this.Ff=dn(this.Ff,27):this.Ff=hn(this.Ff,27)}}),this.hasAppearanceStream=!1};Cr(ba,Pi);var xa=function(){ba.call(this),this.fontName="helvetica",this.combo=!1};Cr(xa,ba);var Sa=function(){xa.call(this),this.combo=!0};Cr(Sa,xa);var Uc=function(){Sa.call(this),this.edit=!0};Cr(Uc,Sa);var xn=function(){Pi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,15)},set:function(n){n?this.Ff=dn(this.Ff,15):this.Ff=hn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,16)},set:function(n){n?this.Ff=dn(this.Ff,16):this.Ff=hn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,17)},set:function(n){n?this.Ff=dn(this.Ff,17):this.Ff=hn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,26)},set:function(n){n?this.Ff=dn(this.Ff,26):this.Ff=hn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+qa(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){bt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Cr(xn,Pi);var zc=function(){xn.call(this),this.pushButton=!0};Cr(zc,xn);var Na=function(){xn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Cr(Na,xn);var kp=function(){var t,e;Pi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+qa(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){bt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ue.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Cr(kp,Pi),Na.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Na.prototype.createOption=function(t){var e=new kp;return e.Parent=this,e.optionName=t,this.Kids.push(e),KM.call(this.scope,e),e};var Wc=function(){xn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ue.CheckBox.createAppearanceStream()};Cr(Wc,xn);var To=function(){Pi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,13)},set:function(e){e?this.Ff=dn(this.Ff,13):this.Ff=hn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,21)},set:function(e){e?this.Ff=dn(this.Ff,21):this.Ff=hn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,23)},set:function(e){e?this.Ff=dn(this.Ff,23):this.Ff=hn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,24)},set:function(e){e?this.Ff=dn(this.Ff,24):this.Ff=hn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,25)},set:function(e){e?this.Ff=dn(this.Ff,25):this.Ff=hn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,26)},set:function(e){e?this.Ff=dn(this.Ff,26):this.Ff=hn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Cr(To,Pi);var Hc=function(){To.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,14)},set:function(t){t?this.Ff=dn(this.Ff,14):this.Ff=hn(this.Ff,14)}}),this.password=!0};Cr(Hc,To);var Ue={CheckBox:{createAppearanceStream:function(){return{N:{On:Ue.CheckBox.YesNormal},D:{On:Ue.CheckBox.YesPushDown,Off:Ue.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Wi(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=V1(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+nt(Ue.internal.getWidth(t))+" "+nt(Ue.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+nt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Wi(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ue.internal.getHeight(t),o=Ue.internal.getWidth(t),a=V1(t,t.caption);return i.push("1 g"),i.push("0 0 "+nt(o)+" "+nt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+nt(o-1)+" "+nt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+nt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Wi(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+nt(Ue.internal.getWidth(t))+" "+nt(Ue.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ue.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ue.RadioButton.Circle.YesNormal,e.D[t]=Ue.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Wi(t);e.scope=t.scope;var n=[],r=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ue.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+eo(Ue.internal.getWidth(t)/2)+" "+eo(Ue.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Wi(t);e.scope=t.scope;var n=[],r=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ue.internal.Bezier_C).toFixed(5)),o=Number((r*Ue.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+eo(Ue.internal.getWidth(t)/2)+" "+eo(Ue.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+eo(Ue.internal.getWidth(t)/2)+" "+eo(Ue.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Wi(t);e.scope=t.scope;var n=[],r=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ue.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+eo(Ue.internal.getWidth(t)/2)+" "+eo(Ue.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ue.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ue.RadioButton.Cross.YesNormal,e.D[t]=Ue.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Wi(t);e.scope=t.scope;var n=[],r=Ue.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+nt(Ue.internal.getWidth(t)-2)+" "+nt(Ue.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(nt(r.x1.x)+" "+nt(r.x1.y)+" m"),n.push(nt(r.x2.x)+" "+nt(r.x2.y)+" l"),n.push(nt(r.x4.x)+" "+nt(r.x4.y)+" m"),n.push(nt(r.x3.x)+" "+nt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Wi(t);e.scope=t.scope;var n=Ue.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+nt(Ue.internal.getWidth(t))+" "+nt(Ue.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+nt(Ue.internal.getWidth(t)-2)+" "+nt(Ue.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(nt(n.x1.x)+" "+nt(n.x1.y)+" m"),r.push(nt(n.x2.x)+" "+nt(n.x2.y)+" l"),r.push(nt(n.x4.x)+" "+nt(n.x4.y)+" m"),r.push(nt(n.x3.x)+" "+nt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Wi(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+nt(Ue.internal.getWidth(t))+" "+nt(Ue.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ue.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ue.internal.getWidth(t),n=Ue.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ue.internal.getWidth=function(t){var e=0;return bt(t)==="object"&&(e=C_(t.Rect[2])),e},Ue.internal.getHeight=function(t){var e=0;return bt(t)==="object"&&(e=C_(t.Rect[3])),e};var KM=tn.addField=function(t){if(GM(this,t),!(t instanceof Pi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};tn.AcroFormChoiceField=ba,tn.AcroFormListBox=xa,tn.AcroFormComboBox=Sa,tn.AcroFormEditBox=Uc,tn.AcroFormButton=xn,tn.AcroFormPushButton=zc,tn.AcroFormRadioButton=Na,tn.AcroFormCheckBox=Wc,tn.AcroFormTextField=To,tn.AcroFormPasswordField=Hc,tn.AcroFormAppearance=Ue,tn.AcroForm={ChoiceField:ba,ListBox:xa,ComboBox:Sa,EditBox:Uc,Button:xn,PushButton:zc,RadioButton:Na,CheckBox:Wc,TextField:To,PasswordField:Hc,Appearance:Ue},$e.AcroForm={ChoiceField:ba,ListBox:xa,ComboBox:Sa,EditBox:Uc,Button:xn,PushButton:zc,RadioButton:Na,CheckBox:Wc,TextField:To,PasswordField:Hc,Appearance:Ue};var QM=$e.AcroForm;function rN(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(A,k){var V,G,se,Q,Y,U=e;if((k=k||e)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(B(A))for(Y in n)for(se=n[Y],V=0;V<se.length;V+=1){for(Q=!0,G=0;G<se[V].length;G+=1)if(se[V][G]!==void 0&&se[V][G]!==A[G]){Q=!1;break}if(Q===!0){U=Y;break}}else for(Y in n)for(se=n[Y],V=0;V<se.length;V+=1){for(Q=!0,G=0;G<se[V].length;G+=1)if(se[V][G]!==void 0&&se[V][G]!==A.charCodeAt(G)){Q=!1;break}if(Q===!0){U=Y;break}}return U===e&&k!==e&&(U=k),U},i=function A(k){for(var V=this.internal.write,G=this.internal.putStream,se=(0,this.internal.getFilters)();se.indexOf("FlateEncode")!==-1;)se.splice(se.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:k.width}),Q.push({key:"Height",value:k.height}),k.colorSpace===N.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===N.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var Y="",U=0,H=k.transparency.length;U<H;U++)Y+=k.transparency[U]+" "+k.transparency[U]+" ";Q.push({key:"Mask",value:"["+Y+"]"})}k.sMask!==void 0&&Q.push({key:"SMask",value:k.objectId+1+" 0 R"});var te=k.filter!==void 0?["/"+k.filter]:void 0;if(G({data:k.data,additionalKeyValues:Q,alreadyAppliedFilters:te,objectId:k.objectId}),V("endobj"),"sMask"in k&&k.sMask!==void 0){var ue="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,C={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:ue,data:k.sMask};"filter"in k&&(C.filter=k.filter),A.call(this,C)}if(k.colorSpace===N.INDEXED){var j=this.internal.newObject();G({data:P(new Uint8Array(k.palette)),objectId:j}),V("endobj")}},s=function(){var A=this.internal.collections.addImage_images;for(var k in A)i.call(this,A[k])},o=function(){var A,k=this.internal.collections.addImage_images,V=this.internal.write;for(var G in k)V("/I"+(A=k[G]).index,A.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var A=this.internal.collections.addImage_images;return a.call(this),A},c=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(A){return typeof t["process"+A.toUpperCase()]=="function"},h=function(A){return bt(A)==="object"&&A.nodeType===1},g=function(A,k){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var V=""+A.getAttribute("src");if(V.indexOf("data:image/")===0)return Bc(unescape(V).split("base64,").pop());var G=t.loadFile(V,!0);if(G!==void 0)return G}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var se;switch(k){case"PNG":se="image/png";break;case"WEBP":se="image/webp";break;case"JPEG":case"JPG":default:se="image/jpeg"}return Bc(A.toDataURL(se,1).split("base64,").pop())}},p=function(A){var k=this.internal.collections.addImage_images;if(k){for(var V in k)if(A===k[V].alias)return k[V]}},b=function(A,k,V){return A||k||(A=-96,k=-96),A<0&&(A=-1*V.width*72/A/this.internal.scaleFactor),k<0&&(k=-1*V.height*72/k/this.internal.scaleFactor),A===0&&(A=k*V.width/V.height),k===0&&(k=A*V.height/V.width),[A,k]},S=function(A,k,V,G,se,Q){var Y=b.call(this,V,G,se),U=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString,te=l.call(this);if(V=Y[0],G=Y[1],te[se.index]=se,Q){Q*=Math.PI/180;var ue=Math.cos(Q),C=Math.sin(Q),j=function(J){return J.toFixed(4)},W=[j(ue),j(C),j(-1*C),j(ue),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,U(A),H(k+G),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([U(V),"0","0",U(G),"0","0","cm"].join(" "))):this.internal.write([U(V),"0","0",U(G),U(A),H(k+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+se.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(A){var k,V,G=0;if(typeof A=="string")for(V=A.length,k=0;k<V;k++)G=(G<<5)-G+A.charCodeAt(k),G|=0;else if(B(A))for(V=A.byteLength/2,k=0;k<V;k++)G=(G<<5)-G+A[k],G|=0;return G},_=t.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var k=!0;return A.length===0&&(k=!1),A.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(k=!1),k},E=t.__addimage__.extractImageFromDataUrl=function(A){var k=(A=A||"").split("base64,"),V=null;if(k.length===2){var G=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(k[0]);Array.isArray(G)&&(V={mimeType:G[1],charset:G[2],data:k[1]})}return V},D=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(A){return D()&&A instanceof ArrayBuffer};var B=t.__addimage__.isArrayBufferView=function(A){return D()&&typeof Uint32Array<"u"&&(A instanceof Int8Array||A instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array)},R=t.__addimage__.binaryStringToUint8Array=function(A){for(var k=A.length,V=new Uint8Array(k),G=0;G<k;G++)V[G]=A.charCodeAt(G);return V},P=t.__addimage__.arrayBufferToBinaryString=function(A){for(var k="",V=B(A)?A:new Uint8Array(A),G=0;G<V.length;G+=8192)k+=String.fromCharCode.apply(null,V.subarray(G,G+8192));return k};t.addImage=function(){var A,k,V,G,se,Q,Y,U,H;if(typeof arguments[1]=="number"?(k=e,V=arguments[1],G=arguments[2],se=arguments[3],Q=arguments[4],Y=arguments[5],U=arguments[6],H=arguments[7]):(k=arguments[1],V=arguments[2],G=arguments[3],se=arguments[4],Q=arguments[5],Y=arguments[6],U=arguments[7],H=arguments[8]),bt(A=arguments[0])==="object"&&!h(A)&&"imageData"in A){var te=A;A=te.imageData,k=te.format||k||e,V=te.x||V||0,G=te.y||G||0,se=te.w||te.width||se,Q=te.h||te.height||Q,Y=te.alias||Y,U=te.compression||U,H=te.rotation||te.angle||H}var ue=this.internal.getFilters();if(U===void 0&&ue.indexOf("FlateEncode")!==-1&&(U="SLOW"),isNaN(V)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var C=q.call(this,A,k,Y,U);return S.call(this,V,G,se,Q,C,H),this};var q=function(A,k,V,G){var se,Q,Y;if(typeof A=="string"&&r(A)===e){A=unescape(A);var U=$(A,!1);(U!==""||(U=t.loadFile(A,!0))!==void 0)&&(A=U)}if(h(A)&&(A=g(A,k)),k=r(A,k),!f(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((Y=V)==null||Y.length===0)&&(V=function(H){return typeof H=="string"||B(H)?y(H):B(H.data)?y(H.data):null}(A)),(se=p.call(this,V))||(D()&&(A instanceof Uint8Array||k==="RGBA"||(Q=A,A=R(A))),se=this["process"+k.toUpperCase()](A,c.call(this),V,function(H){return H&&typeof H=="string"&&(H=H.toUpperCase()),H in t.image_compression?H:w.NONE}(G),Q)),!se)throw new Error("An unknown error occurred whilst processing the image.");return se},$=t.__addimage__.convertBase64ToBinaryString=function(A,k){var V;k=typeof k!="boolean"||k;var G,se="";if(typeof A=="string"){G=(V=E(A))!==null?V.data:A;try{se=Bc(G)}catch(Q){if(k)throw _(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return se};t.getImageProperties=function(A){var k,V,G="";if(h(A)&&(A=g(A)),typeof A=="string"&&r(A)===e&&((G=$(A,!1))===""&&(G=t.loadFile(A)||""),A=G),V=r(A),!f(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!D()||A instanceof Uint8Array||(A=R(A)),!(k=this["process"+V.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=V,k}})($e.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};$e.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,f=!1,h=0;h<c.length&&!f;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){r=c[g];var p=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(S.objId),y=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",s+=" /Popup "+N.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(w(y))+") >>",S.content=s;var _=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(s+=" /Open true"),s+=" >>",N.content=s,this.internal.write(S.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var E=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var D=this.annotations._nameMap[r.options.name];r.options.pageNumber=D.page,r.options.top=D.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var B=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+B+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var f=this.splitTextToSize(n,a).length;o=Math.ceil(c*f)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}($e.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},a=t.__arabicParser__.isArabicEndLetter=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(S){return o(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(S){var N=0,w=n,y="",_=0;for(N=0;N<S.length;N+=1)w[S.charCodeAt(N)]!==void 0?(_++,typeof(w=w[S.charCodeAt(N)])=="number"&&(y+=String.fromCharCode(w),w=n,_=0),N===S.length-1&&(w=n,y+=S.charAt(N-(_-1)),N-=_-1,_=0)):(w=n,y+=S.charAt(N-_),N-=_,_=0);return y};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(S,N,w){return o(S)?s(S)===!1?-1:!c(S)||!o(N)&&!o(w)||!o(w)&&a(N)||a(S)&&!o(N)||a(S)&&l(N)||a(S)&&a(N)?0:f(S)&&o(N)&&!a(N)&&o(w)&&c(w)?3:a(S)||!o(w)?1:2:-1},p=function(S){var N=0,w=0,y=0,_="",E="",D="",B=(S=S||"").split("\\s+"),R=[];for(N=0;N<B.length;N+=1){for(R.push(""),w=0;w<B[N].length;w+=1)_=B[N][w],E=B[N][w-1],D=B[N][w+1],o(_)?(y=g(_,E,D),R[N]+=y!==-1?String.fromCharCode(e[_.charCodeAt(0)][y]):_):R[N]+=_;R[N]=h(R[N])}return R.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var S,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(N)){var y=0;for(w=[],y=0;y<N.length;y+=1)Array.isArray(N[y])?w.push([p(N[y][0]),N[y][1],N[y][2]]):w.push([p(N[y])]);S=w}else S=p(N);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",b])}($e.API),$e.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}($e.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(S){l=S}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(S){b=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var f=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,p=0,b=0,S=0,N=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,E){return _.concat(N.splitTextToSize(E,w))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)p<(S=this.getStringUnitWidth(l[y],{font:h})*f)&&(p=S);return p!==0&&(b=l.length),{w:p/=g,h:Math.max((b*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,p&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,f,h,g){if(r.call(this),!f)throw new Error("No data for PDF table.");var p,b,S,N,w=[],y=[],_=[],E={},D={},B=[],R=[],P=(g=g||{}).autoSize||!1,q=g.printHeaders!==!1,$=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,A=g.margins||Object.assign({width:this.getPageWidth()},e),k=typeof g.padding=="number"?g.padding:3,V=g.headerBackgroundColor||"#c8c8c8",G=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=G,this.setFontSize($),h==null)y=w=Object.keys(f[0]),_=w.map(function(){return"left"});else if(Array.isArray(h)&&bt(h[0])==="object")for(w=h.map(function(te){return te.name}),y=h.map(function(te){return te.prompt||te.name||""}),_=h.map(function(te){return te.align||"left"}),p=0;p<h.length;p+=1)D[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(y=w=h,_=w.map(function(){return"left"}));if(P||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<w.length;p+=1){for(E[N=w[p]]=f.map(function(te){return te[N]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=E[N],this.setFont(void 0,"normal"),S=0;S<b.length;S+=1)B.push(this.getTextDimensions(b[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[N]=Math.max.apply(null,B)+k+k,B=[]}if(q){var se={};for(p=0;p<w.length;p+=1)se[w[p]]={},se[w[p]].text=y[p],se[w[p]].align=_[p];var Q=a.call(this,se,D);R=w.map(function(te){return new s(l,c,D[te],Q,se[te].text,void 0,se[te].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var Y=h.reduce(function(te,ue){return te[ue.name]=ue.align,te},{});for(p=0;p<f.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:f[p]},this);var U=a.call(this,f[p],D);for(S=0;S<w.length;S+=1){var H=f[p][w[S]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:S,data:H},this),o.call(this,new s(l,c,D[w[S]],U,H,p+2,Y[w[S]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(p){var b=l[p];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/g+f+f},this).reduce(function(p,b){return Math.max(p,b)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}($e.API);var iN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},sN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Y1=rN(sN),oN=[100,200,300,400,500,600,700,800,900],JM=rN(oN);function G1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return iN[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof Y1[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function E_(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var XM={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},k_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function A_(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ZM(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},XM,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=G1(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+A_(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var f=Y1[l],h=f<=Y1.normal?-1:1,g=E_(c,sN,f,h);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var f=iN[l],h=0;h<f.length;++h)if(c[f[h]])return c[f[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var f=JM[l],h=E_(c,oN,f,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+A_(s)+"'.");return o}function P_(t){return t.trimLeft()}function ej(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function tj(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var of,I_,T_,o0=["times"];(function(t){var e,n,r,i,s,o,a,l,c,f=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new o,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new o,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new f}]);var h=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=C;Object.defineProperty(this,"pdf",{get:function(){return j}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(ye){W=!!ye}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(ye){J=!!ye}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ye){isNaN(ye)||(Z=ye)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(ye){isNaN(ye)||(le=ye)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ye){var ee;typeof ye=="number"?ee=[ye,ye,ye,ye]:((ee=new Array(4))[0]=ye[0],ee[1]=ye.length>=2?ye[1]:ee[0],ee[2]=ye.length>=3?ye[2]:ee[0],ee[3]=ye.length>=4?ye[3]:ee[1]),c.margin=ee}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(ye){de=ye}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(ye){pe=ye}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(ye){Ce=ye}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ye){ye instanceof f&&(c=ye)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ye){c.path=ye}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(ye){Ne=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var ee;ee=g(ye),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var ee=g(ye);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var Te=null;function Le(ye,ee){if(Te===null){var rt=function(ze){var Ee=[];return Object.keys(ze).forEach(function(Pe){ze[Pe].forEach(function(De){var Oe=null;switch(De){case"bold":Oe={family:Pe,weight:"bold"};break;case"italic":Oe={family:Pe,style:"italic"};break;case"bolditalic":Oe={family:Pe,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:Pe}}Oe!==null&&(Oe.ref={name:Pe,style:De},Ee.push(Oe))})}),Ee}(ye.getFontList());Te=function(ze){for(var Ee={},Pe=0;Pe<ze.length;++Pe){var De=G1(ze[Pe]),Oe=De.family,We=De.stretch,Ze=De.style,ot=De.weight;Ee[Oe]=Ee[Oe]||{},Ee[Oe][We]=Ee[Oe][We]||{},Ee[Oe][We][Ze]=Ee[Oe][We][Ze]||{},Ee[Oe][We][Ze][ot]=De}return Ee}(rt.concat(ee))}return Te}var Ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ye},set:function(ye){Te=null,Ye=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var ee;if(this.ctx.font=ye,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var rt=ee[1],ze=(ee[2],ee[3]),Ee=ee[4],Pe=(ee[5],ee[6]),De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(De==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var Oe=function(Je){var dt,Me,Hn=[],yt=Je.trim();if(yt==="")return o0;if(yt in k_)return[k_[yt]];for(;yt!=="";){switch(Me=null,dt=(yt=P_(yt)).charAt(0)){case'"':case"'":Me=ej(yt.substring(1),dt);break;default:Me=tj(yt)}if(Me===null||(Hn.push(Me[0]),(yt=P_(Me[1]))!==""&&yt.charAt(0)!==","))return o0;yt=yt.replace(/^,/,"")}return Hn}(Pe);if(this.fontFaces){var We=ZM(Le(this.pdf,this.fontFaces),Oe.map(function(Je){return{family:Je,stretch:"normal",weight:ze,style:rt}}));this.pdf.setFont(We.ref.name,We.ref.style)}else{var Ze="";(ze==="bold"||parseInt(ze,10)>=700||rt==="bold")&&(Ze="bold"),rt==="italic"&&(Ze+="italic"),Ze.length===0&&(Ze="normal");for(var ot="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<Oe.length;mt++){if(this.pdf.internal.getFont(Oe[mt],Ze,{noFallback:!0,disableWarning:!0})!==void 0){ot=Oe[mt];break}if(Ze==="bolditalic"&&this.pdf.internal.getFont(Oe[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=Oe[mt],Ze="bold";else if(this.pdf.internal.getFont(Oe[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=Oe[mt],Ze="normal";break}}if(ot===""){for(var Pt=0;Pt<Oe.length;Pt++)if(at[Oe[Pt]]){ot=at[Oe[Pt]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,Ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};h.prototype.setLineDash=function(C){this.lineDash=C},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){E.call(this,"fill",!1)},h.prototype.stroke=function(){E.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(C,j){if(isNaN(C)||isNaN(j))throw Ot.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new o(C,j));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new o(C,j)},h.prototype.closePath=function(){var C=new o(0,0),j=0;for(j=this.path.length-1;j!==-1;j--)if(this.path[j].type==="begin"&&bt(this.path[j+1])==="object"&&typeof this.path[j+1].x=="number"){C=new o(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(C.x,C.y)},h.prototype.lineTo=function(C,j){if(isNaN(C)||isNaN(j))throw Ot.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new o(C,j));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new o(W.x,W.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},h.prototype.quadraticCurveTo=function(C,j,W,J){if(isNaN(W)||isNaN(J)||isNaN(C)||isNaN(j))throw Ot.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new o(W,J)),le=this.ctx.transform.applyToPoint(new o(C,j));this.path.push({type:"qct",x1:le.x,y1:le.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},h.prototype.bezierCurveTo=function(C,j,W,J,Z,le){if(isNaN(Z)||isNaN(le)||isNaN(C)||isNaN(j)||isNaN(W)||isNaN(J))throw Ot.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(Z,le)),pe=this.ctx.transform.applyToPoint(new o(C,j)),Ce=this.ctx.transform.applyToPoint(new o(W,J));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Ce.x,y2:Ce.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},h.prototype.arc=function(C,j,W,J,Z,le){if(isNaN(C)||isNaN(j)||isNaN(W)||isNaN(J)||isNaN(Z))throw Ot.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(C,j));C=de.x,j=de.y;var pe=this.ctx.transform.applyToPoint(new o(0,W)),Ce=this.ctx.transform.applyToPoint(new o(0,0));W=Math.sqrt(Math.pow(pe.x-Ce.x,2)+Math.pow(pe.y-Ce.y,2))}Math.abs(Z-J)>=2*Math.PI&&(J=0,Z=2*Math.PI),this.path.push({type:"arc",x:C,y:j,radius:W,startAngle:J,endAngle:Z,counterclockwise:le})},h.prototype.arcTo=function(C,j,W,J,Z){throw new Error("arcTo not implemented.")},h.prototype.rect=function(C,j,W,J){if(isNaN(C)||isNaN(j)||isNaN(W)||isNaN(J))throw Ot.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,j),this.lineTo(C+W,j),this.lineTo(C+W,j+J),this.lineTo(C,j+J),this.lineTo(C,j),this.lineTo(C+W,j),this.lineTo(C,j)},h.prototype.fillRect=function(C,j,W,J){if(isNaN(C)||isNaN(j)||isNaN(W)||isNaN(J))throw Ot.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,j,W,J),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},h.prototype.strokeRect=function(C,j,W,J){if(isNaN(C)||isNaN(j)||isNaN(W)||isNaN(J))throw Ot.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(C,j,W,J),this.stroke())},h.prototype.clearRect=function(C,j,W,J){if(isNaN(C)||isNaN(j)||isNaN(W)||isNaN(J))throw Ot.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,j,W,J))},h.prototype.save=function(C){C=typeof C!="boolean"||C;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},h.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(j),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(C){var j,W,J,Z;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))j=0,W=0,J=0,Z=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(le!==null)j=parseInt(le[1]),W=parseInt(le[2]),J=parseInt(le[3]),Z=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)j=parseInt(le[1]),W=parseInt(le[2]),J=parseInt(le[3]),Z=parseFloat(le[4]);else{if(Z=1,typeof C=="string"&&C.charAt(0)!=="#"){var de=new JS(C);C=de.ok?de.toHex():"#000000"}C.length===4?(j=C.substring(1,2),j+=j,W=C.substring(2,3),W+=W,J=C.substring(3,4),J+=J):(j=C.substring(1,3),W=C.substring(3,5),J=C.substring(5,7)),j=parseInt(j,16),W=parseInt(W,16),J=parseInt(J,16)}}return{r:j,g:W,b:J,a:Z,style:C}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(C,j,W,J){if(isNaN(j)||isNaN(W)||typeof C!="string")throw Ot.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!p.call(this)){var Z=U(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;k.call(this,{text:C,x:j,y:W,scale:le,angle:Z,align:this.textAlign,maxWidth:J})}},h.prototype.strokeText=function(C,j,W,J){if(isNaN(j)||isNaN(W)||typeof C!="string")throw Ot.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){J=isNaN(J)?void 0:J;var Z=U(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;k.call(this,{text:C,x:j,y:W,scale:le,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:J})}},h.prototype.measureText=function(C){if(typeof C!="string")throw Ot.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,W=this.pdf.internal.scaleFactor,J=j.internal.getFontSize(),Z=j.getStringUnitWidth(C)*J/j.internal.scaleFactor,le=function(de){var pe=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new le({width:Z*=Math.round(96*W/72*1e4)/1e4})},h.prototype.scale=function(C,j){if(isNaN(C)||isNaN(j))throw Ot.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new l(C,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},h.prototype.rotate=function(C){if(isNaN(C))throw Ot.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},h.prototype.translate=function(C,j){if(isNaN(C)||isNaN(j))throw Ot.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new l(1,0,0,1,C,j);this.ctx.transform=this.ctx.transform.multiply(W)},h.prototype.transform=function(C,j,W,J,Z,le){if(isNaN(C)||isNaN(j)||isNaN(W)||isNaN(J)||isNaN(Z)||isNaN(le))throw Ot.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new l(C,j,W,J,Z,le);this.ctx.transform=this.ctx.transform.multiply(de)},h.prototype.setTransform=function(C,j,W,J,Z,le){C=isNaN(C)?1:C,j=isNaN(j)?0:j,W=isNaN(W)?0:W,J=isNaN(J)?1:J,Z=isNaN(Z)?0:Z,le=isNaN(le)?0:le,this.ctx.transform=new l(C,j,W,J,Z,le)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(C,j,W,J,Z,le,de,pe,Ce){var Ne=this.pdf.getImageProperties(C),Te=1,Le=1,Ye=1,ye=1;J!==void 0&&pe!==void 0&&(Ye=pe/J,ye=Ce/Z,Te=Ne.width/J*pe/J,Le=Ne.height/Z*Ce/Z),le===void 0&&(le=j,de=W,j=0,W=0),J!==void 0&&pe===void 0&&(pe=J,Ce=Z),J===void 0&&pe===void 0&&(pe=Ne.width,Ce=Ne.height);for(var ee,rt=this.ctx.transform.decompose(),ze=U(rt.rotate.shx),Ee=new l,Pe=(Ee=(Ee=(Ee=Ee.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale)).applyToRectangle(new a(le-j*Ye,de-W*ye,J*Te,Z*Le)),De=N.call(this,Pe),Oe=[],We=0;We<De.length;We+=1)Oe.indexOf(De[We])===-1&&Oe.push(De[We]);if(_(Oe),this.autoPaging)for(var Ze=Oe[0],ot=Oe[Oe.length-1],at=Ze;at<ot+1;at++){this.pdf.setPage(at);var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=at===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=at===1?0:Je+(at-2)*dt;if(this.ctx.clip_path.length!==0){var Hn=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ee,this.posX+this.margin[3],-Me+Pt+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=Hn}var yt=JSON.parse(JSON.stringify(Pe));yt=y([yt],this.posX+this.margin[3],-Me+Pt+this.ctx.prevPageLastElemOffset)[0];var ii=(at>Ze||at<ot)&&S.call(this);ii&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,dt,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,ze),ii&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,ze)};var N=function(C,j,W){var J=[];j=j||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":J.push(Math.floor((C.y+Z)/W)+1);break;case"arc":J.push(Math.floor((C.y+Z-C.radius)/W)+1),J.push(Math.floor((C.y+Z+C.radius)/W)+1);break;case"qct":var le=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);J.push(Math.floor((le.y+Z)/W)+1),J.push(Math.floor((le.y+le.h+Z)/W)+1);break;case"bct":var de=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);J.push(Math.floor((de.y+Z)/W)+1),J.push(Math.floor((de.y+de.h+Z)/W)+1);break;case"rect":J.push(Math.floor((C.y+Z)/W)+1),J.push(Math.floor((C.y+C.h+Z)/W)+1)}for(var pe=0;pe<J.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<J[pe];)w.call(this);return J},w=function(){var C=this.fillStyle,j=this.strokeStyle,W=this.font,J=this.lineCap,Z=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=j,this.font=W,this.lineCap=J,this.lineWidth=Z,this.lineJoin=le},y=function(C,j,W){for(var J=0;J<C.length;J++)switch(C[J].type){case"bct":C[J].x2+=j,C[J].y2+=W;case"qct":C[J].x1+=j,C[J].y1+=W;case"mt":case"lt":case"arc":default:C[J].x+=j,C[J].y+=W}return C},_=function(C){return C.sort(function(j,W){return j-W})},E=function(C,j){for(var W,J,Z=this.fillStyle,le=this.strokeStyle,de=this.lineCap,pe=this.lineWidth,Ce=Math.abs(pe*this.ctx.transform.scaleX),Ne=this.lineJoin,Te=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),Ye=[],ye=0;ye<Le.length;ye++)if(Le[ye].x!==void 0)for(var ee=N.call(this,Le[ye]),rt=0;rt<ee.length;rt+=1)Ye.indexOf(ee[rt])===-1&&Ye.push(ee[rt]);for(var ze=0;ze<Ye.length;ze++)for(;this.pdf.internal.getNumberOfPages()<Ye[ze];)w.call(this);if(_(Ye),this.autoPaging)for(var Ee=Ye[0],Pe=Ye[Ye.length-1],De=Ee;De<Pe+1;De++){this.pdf.setPage(De),this.fillStyle=Z,this.strokeStyle=le,this.lineCap=de,this.lineWidth=Ce,this.lineJoin=Ne;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],We=De===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=De===1?0:Ze+(De-2)*ot;if(this.ctx.clip_path.length!==0){var mt=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(W,this.posX+this.margin[3],-at+We+this.ctx.prevPageLastElemOffset),D.call(this,C,!0),this.path=mt}if(J=JSON.parse(JSON.stringify(Te)),this.path=y(J,this.posX+this.margin[3],-at+We+this.ctx.prevPageLastElemOffset),j===!1||De===0){var Pt=(De>Ee||De<Pe)&&S.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,ot,null).clip().discardPath()),D.call(this,C,j),Pt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Ce,D.call(this,C,j),this.lineWidth=pe;this.path=Te},D=function(C,j){if((C!=="stroke"||j||!b.call(this))&&(C==="stroke"||j||!p.call(this))){for(var W,J,Z=[],le=this.path,de=0;de<le.length;de++){var pe=le[de];switch(pe.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:pe,deltas:[],abs:[]});break;case"lt":var Ce=Z.length;if(le[de-1]&&!isNaN(le[de-1].x)&&(W=[pe.x-le[de-1].x,pe.y-le[de-1].y],Ce>0)){for(;Ce>=0;Ce--)if(Z[Ce-1].close!==!0&&Z[Ce-1].begin!==!0){Z[Ce-1].deltas.push(W),Z[Ce-1].abs.push(pe);break}}break;case"bct":W=[pe.x1-le[de-1].x,pe.y1-le[de-1].y,pe.x2-le[de-1].x,pe.y2-le[de-1].y,pe.x-le[de-1].x,pe.y-le[de-1].y],Z[Z.length-1].deltas.push(W);break;case"qct":var Ne=le[de-1].x+2/3*(pe.x1-le[de-1].x),Te=le[de-1].y+2/3*(pe.y1-le[de-1].y),Le=pe.x+2/3*(pe.x1-pe.x),Ye=pe.y+2/3*(pe.y1-pe.y),ye=pe.x,ee=pe.y;W=[Ne-le[de-1].x,Te-le[de-1].y,Le-le[de-1].x,Ye-le[de-1].y,ye-le[de-1].x,ee-le[de-1].y],Z[Z.length-1].deltas.push(W);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(pe)}}J=j?null:C==="stroke"?"stroke":"fill";for(var rt=!1,ze=0;ze<Z.length;ze++)if(Z[ze].arc)for(var Ee=Z[ze].abs,Pe=0;Pe<Ee.length;Pe++){var De=Ee[Pe];De.type==="arc"?P.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,j,!rt):V.call(this,De.x,De.y),rt=!0}else if(Z[ze].close===!0)this.pdf.internal.out("h"),rt=!1;else if(Z[ze].begin!==!0){var Oe=Z[ze].start.x,We=Z[ze].start.y;G.call(this,Z[ze].deltas,Oe,We),rt=!0}J&&q.call(this,J),j&&$.call(this)}},B=function(C){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-W;case"top":return C+j-W;case"hanging":return C+j-2*W;case"middle":return C+j/2-W;case"ideographic":return C;case"alphabetic":default:return C}},R=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(j,W){this.colorStops.push([j,W])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(C,j,W,J,Z,le,de,pe,Ce){for(var Ne=Q.call(this,W,J,Z,le),Te=0;Te<Ne.length;Te++){var Le=Ne[Te];Te===0&&(Ce?A.call(this,Le.x1+C,Le.y1+j):V.call(this,Le.x1+C,Le.y1+j)),se.call(this,C,j,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}pe?$.call(this):q.call(this,de)},q=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(C,j){this.pdf.internal.out(n(C)+" "+r(j)+" m")},k=function(C){var j;switch(C.align){case"right":case"end":j="right";break;case"center":j="center";break;case"left":case"start":default:j="left"}var W=this.pdf.getTextDimensions(C.text),J=B.call(this,C.y),Z=R.call(this,J)-W.h,le=this.ctx.transform.applyToPoint(new o(C.x,J)),de=this.ctx.transform.decompose(),pe=new l;pe=(pe=(pe=pe.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var Ce,Ne,Te,Le=this.ctx.transform.applyToRectangle(new a(C.x,J,W.w,W.h)),Ye=pe.applyToRectangle(new a(C.x,Z,W.w,W.h)),ye=N.call(this,Ye),ee=[],rt=0;rt<ye.length;rt+=1)ee.indexOf(ye[rt])===-1&&ee.push(ye[rt]);if(_(ee),this.autoPaging)for(var ze=ee[0],Ee=ee[ee.length-1],Pe=ze;Pe<Ee+1;Pe++){this.pdf.setPage(Pe);var De=Pe===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[2],Ze=We-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],at=ot-this.margin[3],mt=Pe===1?0:Oe+(Pe-2)*Ze;if(this.ctx.clip_path.length!==0){var Pt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Ce,this.posX+this.margin[3],-1*mt+De),D.call(this,"fill",!0),this.path=Pt}var Je=y([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-mt+De+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*C.scale),Te=this.lineWidth,this.lineWidth=Te*C.scale);var dt=this.autoPaging!=="text";if(dt||Je.y+Je.h<=We){if(dt||Je.y>=De&&Je.x<=ot){var Me=dt?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||ot-Je.x)[0],Hn=y([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-mt+De+this.ctx.prevPageLastElemOffset)[0],yt=dt&&(Pe>ze||Pe<Ee)&&S.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Ze,null).clip().discardPath()),this.pdf.text(Me,Hn.x,Hn.y,{angle:C.angle,align:j,renderingMode:C.renderingMode}),yt&&this.pdf.restoreGraphicsState()}}else Je.y<We&&(this.ctx.prevPageLastElemOffset+=We-Je.y);C.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=Te)}else C.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*C.scale),Te=this.lineWidth,this.lineWidth=Te*C.scale),this.pdf.text(C.text,le.x+this.posX,le.y+this.posY,{angle:C.angle,align:j,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=Te)},V=function(C,j,W,J){W=W||0,J=J||0,this.pdf.internal.out(n(C+W)+" "+r(j+J)+" l")},G=function(C,j,W){return this.pdf.lines(C,j,W,null,null)},se=function(C,j,W,J,Z,le,de,pe){this.pdf.internal.out([e(i(W+C)),e(s(J+j)),e(i(Z+C)),e(s(le+j)),e(i(de+C)),e(s(pe+j)),"c"].join(" "))},Q=function(C,j,W,J){for(var Z=2*Math.PI,le=Math.PI/2;j>W;)j-=Z;var de=Math.abs(W-j);de<Z&&J&&(de=Z-de);for(var pe=[],Ce=J?-1:1,Ne=j;de>1e-5;){var Te=Ne+Ce*Math.min(de,le);pe.push(Y.call(this,C,Ne,Te)),de-=Math.abs(Te-Ne),Ne=Te}return pe},Y=function(C,j,W){var J=(W-j)/2,Z=C*Math.cos(J),le=C*Math.sin(J),de=Z,pe=-le,Ce=de*de+pe*pe,Ne=Ce+de*Z+pe*le,Te=4/3*(Math.sqrt(2*Ce*Ne)-Ne)/(de*le-pe*Z),Le=de-Te*pe,Ye=pe+Te*de,ye=Le,ee=-Ye,rt=J+j,ze=Math.cos(rt),Ee=Math.sin(rt);return{x1:C*Math.cos(j),y1:C*Math.sin(j),x2:Le*ze-Ye*Ee,y2:Le*Ee+Ye*ze,x3:ye*ze-ee*Ee,y3:ye*Ee+ee*ze,x4:C*Math.cos(W),y4:C*Math.sin(W)}},U=function(C){return 180*C/Math.PI},H=function(C,j,W,J,Z,le){var de=C+.5*(W-C),pe=j+.5*(J-j),Ce=Z+.5*(W-Z),Ne=le+.5*(J-le),Te=Math.min(C,Z,de,Ce),Le=Math.max(C,Z,de,Ce),Ye=Math.min(j,le,pe,Ne),ye=Math.max(j,le,pe,Ne);return new a(Te,Ye,Le-Te,ye-Ye)},te=function(C,j,W,J,Z,le,de,pe){var Ce,Ne,Te,Le,Ye,ye,ee,rt,ze,Ee,Pe,De,Oe,We,Ze=W-C,ot=J-j,at=Z-W,mt=le-J,Pt=de-Z,Je=pe-le;for(Ne=0;Ne<41;Ne++)ze=(ee=(Te=C+(Ce=Ne/40)*Ze)+Ce*((Ye=W+Ce*at)-Te))+Ce*(Ye+Ce*(Z+Ce*Pt-Ye)-ee),Ee=(rt=(Le=j+Ce*ot)+Ce*((ye=J+Ce*mt)-Le))+Ce*(ye+Ce*(le+Ce*Je-ye)-rt),Ne==0?(Pe=ze,De=Ee,Oe=ze,We=Ee):(Pe=Math.min(Pe,ze),De=Math.min(De,Ee),Oe=Math.max(Oe,ze),We=Math.max(We,Ee));return new a(Math.round(Pe),Math.round(De),Math.round(Oe-Pe),Math.round(We-De))},ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,j,W=(C=this.ctx.lineDash,j=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:j}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})($e.API),function(t){var e=function(s){var o,a,l,c,f,h,g,p,b,S;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(f=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(f=((f=((f=((f=(f-(S=f%85))/85)-(b=f%85))/85)-(p=f%85))/85)-(g=f%85))/85)%85,a.push(h+33,g+33,p+33,b+33,S+33)):a.push(122);return function(N,w){for(var y=w;y>0;y--)N.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,c,f,h=String,g="length",p=255,b="charCodeAt",S="slice",N="replace";for(s[S](-2),s=s[S](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),l=[],c=0,f=(s+=o="uuuuu"[S](s[g]%5||5))[g];f>c;c+=5)a=52200625*(s[b](c)-33)+614125*(s[b](c+1)-33)+7225*(s[b](c+2)-33)+85*(s[b](c+3)-33)+(s[b](c+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(w,y){for(var _=y;_>0;_--)w.pop()}(l,o[g]),h.fromCharCode.apply(h,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=W1(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}($e.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,f){var h=new XMLHttpRequest,g=0,p=function(b){var S=b.length,N=[],w=String.fromCharCode;for(g=0;g<S;g+=1)N.push(w(255&b.charCodeAt(g)));return N.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?f(p(this.responseText)):f(void 0)}),h.send(null),c&&h.status===200)return p(h.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}($e.API),function(t){function e(){return(Ge.html2canvas?Promise.resolve(Ge.html2canvas):j1(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Ge.DOMPurify?Promise.resolve(Ge.DOMPurify):j1(()=>import("./purify.es-a-CayzAK.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=bt(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,f){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),g=c.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||h.appendChild(l(g,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var g=0;g<c.length;++g){var p=c[g],b=p.src.find(function(S){return S.format==="truetype"});b&&l.addFont(b.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||$e.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,f){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,f).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=l.call(c,o,a);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,$e.getPageSize=function(o,a,l){if(bt(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var f,h=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+a}var p,b=0,S=0;if(g.hasOwnProperty(h))b=g[h][1]/f,S=g[h][0]/f;else try{b=l[1],S=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",S>b&&(p=S,S=b,b=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>S&&(p=S,S=b,b=p)}return{width:S,height:b,unit:a,k:f,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(G1):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}($e.API),$e.API.addJS=function(t){return T_=t,this.internal.events.subscribe("postPutResources",function(){of=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(of+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),I_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+T_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){of!==void 0&&I_!==void 0&&this.internal.out("/Names <</JavaScript "+of+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,f=[];for(s=0;s<c;s++){var h=n.internal.newObject();f.push(h);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}($e.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(h){for(var g,p=256*h.charCodeAt(4)+h.charCodeAt(5),b=h.length,S={width:0,height:0,numcomponents:1},N=4;N<b;N+=2){if(N+=p,e.indexOf(h.charCodeAt(N+1))!==-1){g=256*h.charCodeAt(N+5)+h.charCodeAt(N+6),S={width:256*h.charCodeAt(N+7)+h.charCodeAt(N+8),height:g,numcomponents:h.charCodeAt(N+9)};break}p=256*h.charCodeAt(N+2)+h.charCodeAt(N+3)}return S}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return f}}($e.API);var Cl,af,L_,R_,O_,nj=function(){var t,e,n;function r(s){var o,a,l,c,f,h,g,p,b,S,N,w,y,_;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),b=(function(){var E,D;for(D=[],E=0;E<4;++E)D.push(String.fromCharCode(this.data[this.pos++]));return D}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*f/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,o-=4),s=(h!=null?h.data:void 0)||this.imgData,w=0;0<=o?w<o:w>o;0<=o?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((S=l-this.transparency.indexed.length)>0)for(y=0;0<=S?y<S:y>S;0<=S?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(N=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,N.slice(0,g)),this.text[p]=String.fromCharCode.apply(String,N.slice(g+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(h,g,p,b){var S,N,w,y,_,E,D,B,R,P,q,$,A,k,V,G,se,Q,Y,U,H,te=Math.ceil((c.width-h)/p),ue=Math.ceil((c.height-g)/b),C=c.width==te&&c.height==ue;for(k=o*te,$=C?a:new Uint8Array(k*ue),E=s.length,A=0,N=0;A<ue&&l<E;){switch(s[l++]){case 0:for(y=se=0;se<k;y=se+=1)$[N++]=s[l++];break;case 1:for(y=Q=0;Q<k;y=Q+=1)S=s[l++],_=y<o?0:$[N-o],$[N++]=(S+_)%256;break;case 2:for(y=Y=0;Y<k;y=Y+=1)S=s[l++],w=(y-y%o)/o,V=A&&$[(A-1)*k+w*o+y%o],$[N++]=(V+S)%256;break;case 3:for(y=U=0;U<k;y=U+=1)S=s[l++],w=(y-y%o)/o,_=y<o?0:$[N-o],V=A&&$[(A-1)*k+w*o+y%o],$[N++]=(S+Math.floor((_+V)/2))%256;break;case 4:for(y=H=0;H<k;y=H+=1)S=s[l++],w=(y-y%o)/o,_=y<o?0:$[N-o],A===0?V=G=0:(V=$[(A-1)*k+w*o+y%o],G=w&&$[(A-1)*k+(w-1)*o+y%o]),D=_+V-G,B=Math.abs(D-_),P=Math.abs(D-V),q=Math.abs(D-G),R=B<=P&&B<=q?_:P<=q?V:G,$[N++]=(S+R)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!C){var j=((g+A*b)*c.width+h)*o,W=A*k;for(y=0;y<te;y+=1){for(var J=0;J<o;J+=1)a[j++]=$[W++];j+=(p-1)*o}}A++}}return s=RM(s),c.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,f,h,g,p;for(a=this.palette,f=this.transparency.indexed||[],c=new Uint8Array((f.length||0)+a.length),l=0,s=0,o=h=0,g=a.length;h<g;o=h+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(p=f[s++])!=null?p:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,f,h,g,p,b,S,N,w;if(l=this.colors,S=null,a=this.hasAlphaChannel,this.palette.length&&(S=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,a=!0),b=(c=s.data||s).length,h=S||o,f=g=0,l===1)for(;f<b;)p=S?4*o[f/4]:g,N=h[p++],c[f++]=N,c[f++]=N,c[f++]=N,c[f++]=a?h[p++]:255,g=p;else for(;f<b;)p=S?4*o[f/4]:g,c[f++]=h[p++],c[f++]=h[p++],c[f++]=h[p++],c[f++]=a?h[p++]:255,g=p},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ge)==="[object Window]"){try{e=Ge.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,f,h,g,p;if(this.animation){for(p=[],a=f=0,h=(g=this.animation.frames).length;f<h;a=++f)o=g[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,p.push(o.image=t(l));return p}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,f,h,g=this;return a=0,h=this.animation,c=h.numFrames,l=h.frames,f=h.numPlays,(o=function(){var p,b;if(p=a++%c,b=l[p],g.renderFrame(s,p),c>1&&a/c<f)return g.animation._timeout=setTimeout(o,b.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function rj(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,f=[],h=0,g=null,p=0,b=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];h=t[e++]|t[e++]<<8,g=t[e++],!(1&S)&&(g=null),p=S>>2&7,e++;break;case 254:for(;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var N=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,E=t[e++],D=E>>6&1,B=1<<(7&E)+1,R=a,P=l,q=!1;E>>7&&(q=!0,R=e,P=B,e+=3*B);var $=e;for(e++;;){var A;if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}f.push({x:N,y:w,width:y,height:_,has_local_palette:q,palette_offset:R,palette_size:P,data_offset:$,data_length:e-$,transparent_index:g,interlaced:!!D,delay:h,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return b},this.frameInfo=function(k){if(k<0||k>=f.length)throw new Error("Frame index out of range.");return f[k]},this.decodeAndBlitFrameBGRA=function(k,V){var G=this.frameInfo(k),se=G.width*G.height,Q=new Uint8Array(se);D_(t,G.data_offset,Q,se);var Y=G.palette_offset,U=G.transparent_index;U===null&&(U=256);var H=G.width,te=n-H,ue=H,C=4*(G.y*n+G.x),j=4*((G.y+G.height)*n+G.x),W=C,J=4*te;G.interlaced===!0&&(J+=4*n*7);for(var Z=8,le=0,de=Q.length;le<de;++le){var pe=Q[le];if(ue===0&&(ue=H,(W+=J)>=j&&(J=4*te+4*n*(Z-1),W=C+(H+te)*(Z<<1),Z>>=1)),pe===U)W+=4;else{var Ce=t[Y+3*pe],Ne=t[Y+3*pe+1],Te=t[Y+3*pe+2];V[W++]=Te,V[W++]=Ne,V[W++]=Ce,V[W++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(k,V){var G=this.frameInfo(k),se=G.width*G.height,Q=new Uint8Array(se);D_(t,G.data_offset,Q,se);var Y=G.palette_offset,U=G.transparent_index;U===null&&(U=256);var H=G.width,te=n-H,ue=H,C=4*(G.y*n+G.x),j=4*((G.y+G.height)*n+G.x),W=C,J=4*te;G.interlaced===!0&&(J+=4*n*7);for(var Z=8,le=0,de=Q.length;le<de;++le){var pe=Q[le];if(ue===0&&(ue=H,(W+=J)>=j&&(J=4*te+4*n*(Z-1),W=C+(H+te)*(Z<<1),Z>>=1)),pe===U)W+=4;else{var Ce=t[Y+3*pe],Ne=t[Y+3*pe+1],Te=t[Y+3*pe+2];V[W++]=Ce,V[W++]=Ne,V[W++]=Te,V[W++]=255}--ue}}}function D_(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,f=0,h=0,g=0,p=t[e++],b=new Int32Array(4096),S=null;;){for(;f<16&&p!==0;)h|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<l)break;var N=h&c;if(h>>=l,f-=l,N!==s){if(N===o)break;for(var w=N<a?N:S,y=0,_=w;_>s;)_=b[_]>>8,++y;var E=_;if(g+y+(w!==N?1:0)>r)return void Ot.log("Warning, gif stream longer than expected.");n[g++]=E;var D=g+=y;for(w!==N&&(n[g++]=E),_=w;y--;)_=b[_],n[--D]=255&_,_>>=8;S!==null&&a<4096&&(b[a++]=S<<8|E,a>=c+1&&l<12&&(++l,c=c<<1|1)),S=N}else a=o+1,c=(1<<(l=i+1))-1,S=null}return g!==r&&Ot.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function a0(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),f=new Array(64),h=new Array(65535),g=new Array(65535),p=new Array(64),b=new Array(64),S=[],N=0,w=7,y=new Array(64),_=new Array(64),E=new Array(64),D=new Array(256),B=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(C,j){for(var W=0,J=0,Z=new Array,le=1;le<=16;le++){for(var de=1;de<=C[le];de++)Z[j[J]]=[],Z[j[J]][0]=W,Z[j[J]][1]=le,J++,W++;W*=2}return Z}function Y(C){for(var j=C[0],W=C[1]-1;W>=0;)j&1<<W&&(N|=1<<w),W--,--w<0&&(N==255?(U(255),U(0)):U(N),w=7,N=0)}function U(C){S.push(C)}function H(C){U(C>>8&255),U(255&C)}function te(C,j,W,J,Z){for(var le,de=Z[0],pe=Z[240],Ce=function(Ee,Pe){var De,Oe,We,Ze,ot,at,mt,Pt,Je,dt,Me=0;for(Je=0;Je<8;++Je){De=Ee[Me],Oe=Ee[Me+1],We=Ee[Me+2],Ze=Ee[Me+3],ot=Ee[Me+4],at=Ee[Me+5],mt=Ee[Me+6];var Hn=De+(Pt=Ee[Me+7]),yt=De-Pt,ii=Oe+mt,Lt=Oe-mt,Ht=We+at,Ti=We-at,xt=Ze+ot,Yo=Ze-ot,Jt=Hn+xt,si=Hn-xt,ns=ii+Ht,Xt=ii-Ht;Ee[Me]=Jt+ns,Ee[Me+4]=Jt-ns;var et=.707106781*(Xt+si);Ee[Me+2]=si+et,Ee[Me+6]=si-et;var St=.382683433*((Jt=Yo+Ti)-(Xt=Lt+yt)),Go=.5411961*Jt+St,On=1.306562965*Xt+St,Li=.707106781*(ns=Ti+Lt),Ri=yt+Li,Ve=yt-Li;Ee[Me+5]=Ve+Go,Ee[Me+3]=Ve-Go,Ee[Me+1]=Ri+On,Ee[Me+7]=Ri-On,Me+=8}for(Me=0,Je=0;Je<8;++Je){De=Ee[Me],Oe=Ee[Me+8],We=Ee[Me+16],Ze=Ee[Me+24],ot=Ee[Me+32],at=Ee[Me+40],mt=Ee[Me+48];var oi=De+(Pt=Ee[Me+56]),Oi=De-Pt,fr=Oe+mt,wn=Oe-mt,fn=We+at,Er=We-at,$a=Ze+ot,rs=Ze-ot,ai=oi+$a,li=oi-$a,ui=fr+fn,Di=fr-fn;Ee[Me]=ai+ui,Ee[Me+32]=ai-ui;var Wr=.707106781*(Di+li);Ee[Me+16]=li+Wr,Ee[Me+48]=li-Wr;var Mi=.382683433*((ai=rs+Er)-(Di=wn+Oi)),Ko=.5411961*ai+Mi,Va=1.306562965*Di+Mi,Ya=.707106781*(ui=Er+wn),Ga=Oi+Ya,Ka=Oi-Ya;Ee[Me+40]=Ka+Ko,Ee[Me+24]=Ka-Ko,Ee[Me+8]=Ga+Va,Ee[Me+56]=Ga-Va,Me++}for(Je=0;Je<64;++Je)dt=Ee[Je]*Pe[Je],p[Je]=dt>0?dt+.5|0:dt-.5|0;return p}(C,j),Ne=0;Ne<64;++Ne)b[R[Ne]]=Ce[Ne];var Te=b[0]-W;W=b[0],Te==0?Y(J[0]):(Y(J[g[le=32767+Te]]),Y(h[le]));for(var Le=63;Le>0&&b[Le]==0;)Le--;if(Le==0)return Y(de),W;for(var Ye,ye=1;ye<=Le;){for(var ee=ye;b[ye]==0&&ye<=Le;)++ye;var rt=ye-ee;if(rt>=16){Ye=rt>>4;for(var ze=1;ze<=Ye;++ze)Y(pe);rt&=15}le=32767+b[ye],Y(Z[(rt<<4)+g[le]]),Y(h[le]),ye++}return Le!=63&&Y(de),W}function ue(C){C=Math.min(Math.max(C,1),100),s!=C&&(function(j){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var Z=o((W[J]*j+50)/100);Z=Math.min(Math.max(Z,1),255),a[R[J]]=Z}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var pe=o((le[de]*j+50)/100);pe=Math.min(Math.max(pe,1),255),l[R[de]]=pe}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,Te=0;Te<8;Te++)for(var Le=0;Le<8;Le++)c[Ne]=1/(a[R[Ne]]*Ce[Te]*Ce[Le]*8),f[Ne]=1/(l[R[Ne]]*Ce[Te]*Ce[Le]*8),Ne++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,j){j&&ue(j),S=new Array,N=0,w=7,H(65496),H(65504),H(16),U(74),U(70),U(73),U(70),U(0),U(1),U(1),U(0),H(1),H(1),U(0),U(0),function(){H(65499),H(132),U(0);for(var Oe=0;Oe<64;Oe++)U(a[Oe]);U(1);for(var We=0;We<64;We++)U(l[We])}(),function(Oe,We){H(65472),H(17),U(8),H(We),H(Oe),U(3),U(1),U(17),U(0),U(2),U(17),U(1),U(3),U(17),U(1)}(C.width,C.height),function(){H(65476),H(418),U(0);for(var Oe=0;Oe<16;Oe++)U(P[Oe+1]);for(var We=0;We<=11;We++)U(q[We]);U(16);for(var Ze=0;Ze<16;Ze++)U($[Ze+1]);for(var ot=0;ot<=161;ot++)U(A[ot]);U(1);for(var at=0;at<16;at++)U(k[at+1]);for(var mt=0;mt<=11;mt++)U(V[mt]);U(17);for(var Pt=0;Pt<16;Pt++)U(G[Pt+1]);for(var Je=0;Je<=161;Je++)U(se[Je])}(),H(65498),H(12),U(3),U(1),U(0),U(2),U(17),U(3),U(17),U(0),U(63),U(0);var W=0,J=0,Z=0;N=0,w=7,this.encode.displayName="_encode_";for(var le,de,pe,Ce,Ne,Te,Le,Ye,ye,ee=C.data,rt=C.width,ze=C.height,Ee=4*rt,Pe=0;Pe<ze;){for(le=0;le<Ee;){for(Ne=Ee*Pe+le,Le=-1,Ye=0,ye=0;ye<64;ye++)Te=Ne+(Ye=ye>>3)*Ee+(Le=4*(7&ye)),Pe+Ye>=ze&&(Te-=Ee*(Pe+1+Ye-ze)),le+Le>=Ee&&(Te-=le+Le-Ee+4),de=ee[Te++],pe=ee[Te++],Ce=ee[Te++],y[ye]=(B[de]+B[pe+256>>0]+B[Ce+512>>0]>>16)-128,_[ye]=(B[de+768>>0]+B[pe+1024>>0]+B[Ce+1280>>0]>>16)-128,E[ye]=(B[de+1280>>0]+B[pe+1536>>0]+B[Ce+1792>>0]>>16)-128;W=te(y,c,W,e,r),J=te(_,f,J,n,i),Z=te(E,f,Z,n,i),le+=32}Pe+=8}if(w>=0){var De=[];De[1]=w+1,De[0]=(1<<w+1)-1,Y(De)}return H(65497),new Uint8Array(S)},t=t||50,function(){for(var C=String.fromCharCode,j=0;j<256;j++)D[j]=C(j)}(),e=Q(P,q),n=Q(k,V),r=Q($,A),i=Q(G,se),function(){for(var C=1,j=2,W=1;W<=15;W++){for(var J=C;J<j;J++)g[32767+J]=W,h[32767+J]=[],h[32767+J][1]=W,h[32767+J][0]=J;for(var Z=-(j-1);Z<=-C;Z++)g[32767+Z]=W,h[32767+Z]=[],h[32767+Z][1]=W,h[32767+Z][0]=j-1+Z;C<<=1,j<<=1}}(),function(){for(var C=0;C<256;C++)B[C]=19595*C,B[C+256>>0]=38470*C,B[C+512>>0]=7471*C+32768,B[C+768>>0]=-11059*C,B[C+1024>>0]=-21709*C,B[C+1280>>0]=32768*C+8421375,B[C+1536>>0]=-27439*C,B[C+1792>>0]=-5329*C}(),ue(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function M_(t){function e(P){if(!P)throw Error("assert :P")}function n(P,q,$){for(var A=0;4>A;A++)if(P[q+A]!=$.charCodeAt(A))return!0;return!1}function r(P,q,$,A,k){for(var V=0;V<k;V++)P[q+V]=$[A+V]}function i(P,q,$,A){for(var k=0;k<A;k++)P[q+k]=$}function s(P){return new Int32Array(P)}function o(P,q){for(var $=[],A=0;A<P;A++)$.push(new q);return $}function a(P,q){var $=[];return function A(k,V,G){for(var se=G[V],Q=0;Q<se&&(k.push(G.length>V+1?[]:new q),!(G.length<V+1));Q++)A(k[Q],V+1,G)}($,0,P),$}var l=function(){var P=this;function q(u,d){for(var v=1<<d-1>>>0;u&v;)v>>>=1;return v?(u&v-1)+v:u}function $(u,d,v,x,I){e(!(x%v));do u[d+(x-=v)]=I;while(0<x)}function A(u,d,v,x,I){if(e(2328>=I),512>=I)var O=s(512);else if((O=s(I))==null)return 0;return function(M,F,z,K,re,he){var fe,ae,be=F,ge=1<<z,ie=s(16),oe=s(16);for(e(re!=0),e(K!=null),e(M!=null),e(0<z),ae=0;ae<re;++ae){if(15<K[ae])return 0;++ie[K[ae]]}if(ie[0]==re)return 0;for(oe[1]=0,fe=1;15>fe;++fe){if(ie[fe]>1<<fe)return 0;oe[fe+1]=oe[fe]+ie[fe]}for(ae=0;ae<re;++ae)fe=K[ae],0<K[ae]&&(he[oe[fe]++]=ae);if(oe[15]==1)return(K=new k).g=0,K.value=he[0],$(M,be,1,ge,K),ge;var we,xe=-1,_e=ge-1,Fe=0,Ie=1,qe=1,Re=1<<z;for(ae=0,fe=1,re=2;fe<=z;++fe,re<<=1){if(Ie+=qe<<=1,0>(qe-=ie[fe]))return 0;for(;0<ie[fe];--ie[fe])(K=new k).g=fe,K.value=he[ae++],$(M,be+Fe,re,Re,K),Fe=q(Fe,fe)}for(fe=z+1,re=2;15>=fe;++fe,re<<=1){if(Ie+=qe<<=1,0>(qe-=ie[fe]))return 0;for(;0<ie[fe];--ie[fe]){if(K=new k,(Fe&_e)!=xe){for(be+=Re,we=1<<(xe=fe)-z;15>xe&&!(0>=(we-=ie[xe]));)++xe,we<<=1;ge+=Re=1<<(we=xe-z),M[F+(xe=Fe&_e)].g=we+z,M[F+xe].value=be-F-xe}K.g=fe-z,K.value=he[ae++],$(M,be+(Fe>>z),re,Re,K),Fe=q(Fe,fe)}}return Ie!=2*oe[15]-1?0:ge}(u,d,v,x,I,O)}function k(){this.value=this.g=0}function V(){this.value=this.g=0}function G(){this.G=o(5,k),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Dn,V)}function se(u,d,v,x){e(u!=null),e(d!=null),e(2147483648>x),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=d,u.pa=v,u.Jd=d,u.Yc=v+x,u.Zc=4<=x?v+x-4+1:v,le(u)}function Q(u,d){for(var v=0;0<d--;)v|=pe(u,128)<<d;return v}function Y(u,d){var v=Q(u,d);return de(u)?-v:v}function U(u,d,v,x){var I,O=0;for(e(u!=null),e(d!=null),e(4294967288>x),u.Sb=x,u.Ra=0,u.u=0,u.h=0,4<x&&(x=4),I=0;I<x;++I)O+=d[v+I]<<8*I;u.Ra=O,u.bb=x,u.oa=d,u.pa=v}function H(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<cl-8>>>0,++u.bb,u.u-=8;W(u)&&(u.h=1,u.u=0)}function te(u,d){if(e(0<=d),!u.h&&d<=ul){var v=j(u)&ll[d];return u.u+=d,H(u),v}return u.h=1,u.u=0}function ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(u){return u.Ra>>>(u.u&cl-1)>>>0}function W(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>cl}function J(u,d){u.u=d,u.h=W(u)}function Z(u){u.u>=qu&&(e(u.u>=qu),H(u))}function le(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function de(u){return Q(u,1)}function pe(u,d){var v=u.Ca;0>u.b&&le(u);var x=u.b,I=v*d>>>8,O=(u.I>>>x>I)+0;for(O?(v-=I,u.I-=I+1<<x>>>0):v=I+1,x=v,I=0;256<=x;)I+=8,x>>=8;return x=7^I+mr[x],u.b-=x,u.Ca=(v<<x)-1,O}function Ce(u,d,v){u[d+0]=v>>24&255,u[d+1]=v>>16&255,u[d+2]=v>>8&255,u[d+3]=v>>0&255}function Ne(u,d){return u[d+0]<<0|u[d+1]<<8}function Te(u,d){return Ne(u,d)|u[d+2]<<16}function Le(u,d){return Ne(u,d)|Ne(u,d+2)<<16}function Ye(u,d){var v=1<<d;return e(u!=null),e(0<d),u.X=s(v),u.X==null?0:(u.Mb=32-d,u.Xa=d,1)}function ye(u,d){e(u!=null),e(d!=null),e(u.Xa==d.Xa),r(d.X,0,u.X,0,1<<d.Xa)}function ee(){this.X=[],this.Xa=this.Mb=0}function rt(u,d,v,x){e(v!=null),e(x!=null);var I=v[0],O=x[0];return I==0&&(I=(u*O+d/2)/d),O==0&&(O=(d*I+u/2)/u),0>=I||0>=O?0:(v[0]=I,x[0]=O,1)}function ze(u,d){return u+(1<<d)-1>>>d}function Ee(u,d){return((4278255360&u)+(4278255360&d)>>>0&4278255360)+((16711935&u)+(16711935&d)>>>0&16711935)>>>0}function Pe(u,d){P[d]=function(v,x,I,O,M,F,z){var K;for(K=0;K<M;++K){var re=P[u](F[z+K-1],I,O+K);F[z+K]=Ee(v[x+K],re)}}}function De(){this.ud=this.hd=this.jd=0}function Oe(u,d){return((4278124286&(u^d))>>>1)+(u&d)>>>0}function We(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Ze(u,d){return We(u+(u-d+.5>>1))}function ot(u,d,v){return Math.abs(d-v)-Math.abs(u-v)}function at(u,d,v,x,I,O,M){for(x=O[M-1],v=0;v<I;++v)O[M+v]=x=Ee(u[d+v],x)}function mt(u,d,v,x,I){var O;for(O=0;O<v;++O){var M=u[d+O],F=M>>8&255,z=16711935&(z=(z=16711935&M)+((F<<16)+F));x[I+O]=(4278255360&M)+z>>>0}}function Pt(u,d){d.jd=u>>0&255,d.hd=u>>8&255,d.ud=u>>16&255}function Je(u,d,v,x,I,O){var M;for(M=0;M<x;++M){var F=d[v+M],z=F>>>8,K=F,re=255&(re=(re=F>>>16)+((u.jd<<24>>24)*(z<<24>>24)>>>5));K=255&(K=(K=K+((u.hd<<24>>24)*(z<<24>>24)>>>5))+((u.ud<<24>>24)*(re<<24>>24)>>>5)),I[O+M]=(4278255360&F)+(re<<16)+K}}function dt(u,d,v,x,I){P[d]=function(O,M,F,z,K,re,he,fe,ae){for(z=he;z<fe;++z)for(he=0;he<ae;++he)K[re++]=I(F[x(O[M++])])},P[u]=function(O,M,F,z,K,re,he){var fe=8>>O.b,ae=O.Ea,be=O.K[0],ge=O.w;if(8>fe)for(O=(1<<O.b)-1,ge=(1<<fe)-1;M<F;++M){var ie,oe=0;for(ie=0;ie<ae;++ie)ie&O||(oe=x(z[K++])),re[he++]=I(be[oe&ge]),oe>>=fe}else P["VP8LMapColor"+v](z,K,be,ge,re,he,M,F,ae)}}function Me(u,d,v,x,I){for(v=d+v;d<v;){var O=u[d++];x[I++]=O>>16&255,x[I++]=O>>8&255,x[I++]=O>>0&255}}function Hn(u,d,v,x,I){for(v=d+v;d<v;){var O=u[d++];x[I++]=O>>16&255,x[I++]=O>>8&255,x[I++]=O>>0&255,x[I++]=O>>24&255}}function yt(u,d,v,x,I){for(v=d+v;d<v;){var O=(M=u[d++])>>16&240|M>>12&15,M=M>>0&240|M>>28&15;x[I++]=O,x[I++]=M}}function ii(u,d,v,x,I){for(v=d+v;d<v;){var O=(M=u[d++])>>16&248|M>>13&7,M=M>>5&224|M>>3&31;x[I++]=O,x[I++]=M}}function Lt(u,d,v,x,I){for(v=d+v;d<v;){var O=u[d++];x[I++]=O>>0&255,x[I++]=O>>8&255,x[I++]=O>>16&255}}function Ht(u,d,v,x,I,O){if(O==0)for(v=d+v;d<v;)Ce(x,((O=u[d++])[0]>>24|O[1]>>8&65280|O[2]<<8&16711680|O[3]<<24)>>>0),I+=32;else r(x,I,u,d,v)}function Ti(u,d){P[d][0]=P[u+"0"],P[d][1]=P[u+"1"],P[d][2]=P[u+"2"],P[d][3]=P[u+"3"],P[d][4]=P[u+"4"],P[d][5]=P[u+"5"],P[d][6]=P[u+"6"],P[d][7]=P[u+"7"],P[d][8]=P[u+"8"],P[d][9]=P[u+"9"],P[d][10]=P[u+"10"],P[d][11]=P[u+"11"],P[d][12]=P[u+"12"],P[d][13]=P[u+"13"],P[d][14]=P[u+"0"],P[d][15]=P[u+"0"]}function xt(u){return u==qm||u==$m||u==_h||u==Vm}function Yo(){this.eb=[],this.size=this.A=this.fb=0}function Jt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function si(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Yo,this.f.kb=new Jt,this.sd=null}function ns(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function et(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function St(u,d){var v=u.T,x=d.ba.f.RGBA,I=x.eb,O=x.fb+u.ka*x.A,M=Gr[d.ba.S],F=u.y,z=u.O,K=u.f,re=u.N,he=u.ea,fe=u.W,ae=d.cc,be=d.dc,ge=d.Mc,ie=d.Nc,oe=u.ka,we=u.ka+u.T,xe=u.U,_e=xe+1>>1;for(oe==0?M(F,z,null,null,K,re,he,fe,K,re,he,fe,I,O,null,null,xe):(M(d.ec,d.fc,F,z,ae,be,ge,ie,K,re,he,fe,I,O-x.A,I,O,xe),++v);oe+2<we;oe+=2)ae=K,be=re,ge=he,ie=fe,re+=u.Rc,fe+=u.Rc,O+=2*x.A,M(F,(z+=2*u.fa)-u.fa,F,z,ae,be,ge,ie,K,re,he,fe,I,O-x.A,I,O,xe);return z+=u.fa,u.j+we<u.o?(r(d.ec,d.fc,F,z,xe),r(d.cc,d.dc,K,re,_e),r(d.Mc,d.Nc,he,fe,_e),v--):1&we||M(F,z,null,null,K,re,he,fe,K,re,he,fe,I,O+x.A,null,null,xe),v}function Go(u,d,v){var x=u.F,I=[u.J];if(x!=null){var O=u.U,M=d.ba.S,F=M==wh||M==_h;d=d.ba.f.RGBA;var z=[0],K=u.ka;z[0]=u.T,u.Kb&&(K==0?--z[0]:(--K,I[0]-=u.width),u.j+u.ka+u.T==u.o&&(z[0]=u.o-u.j-K));var re=d.eb;K=d.fb+K*d.A,u=Mt(x,I[0],u.width,O,z,re,K+(F?0:3),d.A),e(v==z),u&&xt(M)&&Vr(re,K,F,O,z,d.A)}return 0}function On(u){var d=u.ma,v=d.ba.S,x=11>v,I=v==vh||v==yh||v==wh||v==Hm||v==12||xt(v);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!Wu(d.Oa,u,I?11:12))return 0;if(I&&xt(v)&&Se(),u.da)alert("todo:use_scaling");else{if(x){if(d.Ib=et,u.Kb){if(v=u.U+1>>1,d.memory=s(u.U+2*v),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+u.U,d.Mc=d.cc,d.Nc=d.dc+v,d.Ib=St,Se()}}else alert("todo:EmitYUV");I&&(d.Jb=Go,x&&ce())}if(x&&!ay){for(u=0;256>u;++u)kN[u]=89858*(u-128)+xh>>bh,IN[u]=-22014*(u-128)+xh,PN[u]=-45773*(u-128),AN[u]=113618*(u-128)+xh>>bh;for(u=Ju;u<Km;++u)d=76283*(u-16)+xh>>bh,TN[u-Ju]=kr(d,255),LN[u-Ju]=kr(d+8>>4,15);ay=1}return 1}function Li(u){var d=u.ma,v=u.U,x=u.T;return e(!(1&u.ka)),0>=v||0>=x?0:(v=d.Ib(u,d),d.Jb!=null&&d.Jb(u,d,v),d.Dc+=v,1)}function Ri(u){u.ma.memory=null}function Ve(u,d,v,x){return te(u,8)!=47?0:(d[0]=te(u,14)+1,v[0]=te(u,14)+1,x[0]=te(u,1),te(u,3)!=0?0:!u.h)}function oi(u,d){if(4>u)return u+1;var v=u-2>>1;return(2+(1&u)<<v)+te(d,v)+1}function Oi(u,d){return 120<d?d-120:1<=(v=((v=fN[d-1])>>4)*u+(8-(15&v)))?v:1;var v}function fr(u,d,v){var x=j(v),I=u[d+=255&x].g-8;return 0<I&&(J(v,v.u+8),x=j(v),d+=u[d].value,d+=x&(1<<I)-1),J(v,v.u+u[d].g),u[d].value}function wn(u,d,v){return v.g+=u.g,v.value+=u.value<<d>>>0,e(8>=v.g),u.g}function fn(u,d,v){var x=u.xc;return e((d=x==0?0:u.vc[u.md*(v>>x)+(d>>x)])<u.Wb),u.Ya[d]}function Er(u,d,v,x){var I=u.ab,O=u.c*d,M=u.C;d=M+d;var F=v,z=x;for(x=u.Ta,v=u.Ua;0<I--;){var K=u.gc[I],re=M,he=d,fe=F,ae=z,be=(z=x,F=v,K.Ea);switch(e(re<he),e(he<=K.nc),K.hc){case 2:ch(fe,ae,(he-re)*be,z,F);break;case 0:var ge=re,ie=he,oe=z,we=F,xe=(Re=K).Ea;ge==0&&(zm(fe,ae,null,null,1,oe,we),at(fe,ae+1,0,0,xe-1,oe,we+1),ae+=xe,we+=xe,++ge);for(var _e=1<<Re.b,Fe=_e-1,Ie=ze(xe,Re.b),qe=Re.K,Re=Re.w+(ge>>Re.b)*Ie;ge<ie;){var _t=qe,Nt=Re,gt=1;for($u(fe,ae,oe,we-xe,1,oe,we);gt<xe;){var ft=(gt&~Fe)+_e;ft>xe&&(ft=xe),(0,Bs[_t[Nt++]>>8&15])(fe,ae+ +gt,oe,we+gt-xe,ft-gt,oe,we+gt),gt=ft}ae+=xe,we+=xe,++ge&Fe||(Re+=Ie)}he!=K.nc&&r(z,F-be,z,F+(he-re-1)*be,be);break;case 1:for(be=fe,ie=ae,xe=(fe=K.Ea)-(we=fe&~(oe=(ae=1<<K.b)-1)),ge=ze(fe,K.b),_e=K.K,K=K.w+(re>>K.b)*ge;re<he;){for(Fe=_e,Ie=K,qe=new De,Re=ie+we,_t=ie+fe;ie<Re;)Pt(Fe[Ie++],qe),ea(qe,be,ie,ae,z,F),ie+=ae,F+=ae;ie<_t&&(Pt(Fe[Ie++],qe),ea(qe,be,ie,xe,z,F),ie+=xe,F+=xe),++re&oe||(K+=ge)}break;case 3:if(fe==z&&ae==F&&0<K.b){for(ie=z,fe=be=F+(he-re)*be-(we=(he-re)*ze(K.Ea,K.b)),ae=z,oe=F,ge=[],we=(xe=we)-1;0<=we;--we)ge[we]=ae[oe+we];for(we=xe-1;0<=we;--we)ie[fe+we]=ge[we];Hr(K,re,he,z,be,z,F)}else Hr(K,re,he,fe,ae,z,F)}F=x,z=v}z!=v&&r(x,v,F,z,O)}function $a(u,d){var v=u.V,x=u.Ba+u.c*u.C,I=d-u.C;if(e(d<=u.l.o),e(16>=I),0<I){var O=u.l,M=u.Ta,F=u.Ua,z=O.width;if(Er(u,I,v,x),I=F=[F],e((v=u.C)<(x=d)),e(O.v<O.va),x>O.o&&(x=O.o),v<O.j){var K=O.j-v;v=O.j,I[0]+=K*z}if(v>=x?v=0:(I[0]+=4*O.v,O.ka=v-O.j,O.U=O.va-O.v,O.T=x-v,v=1),v){if(F=F[0],11>(v=u.ca).S){var re=v.f.RGBA,he=(x=v.S,I=O.U,O=O.T,K=re.eb,re.A),fe=O;for(re=re.fb+u.Ma*re.A;0<fe--;){var ae=M,be=F,ge=I,ie=K,oe=re;switch(x){case gh:gr(ae,be,ge,ie,oe);break;case vh:nr(ae,be,ge,ie,oe);break;case qm:nr(ae,be,ge,ie,oe),Vr(ie,oe,0,ge,1,0);break;case J2:as(ae,be,ge,ie,oe);break;case yh:Ht(ae,be,ge,ie,oe,1);break;case $m:Ht(ae,be,ge,ie,oe,1),Vr(ie,oe,0,ge,1,0);break;case wh:Ht(ae,be,ge,ie,oe,0);break;case _h:Ht(ae,be,ge,ie,oe,0),Vr(ie,oe,1,ge,1,0);break;case Hm:Us(ae,be,ge,ie,oe);break;case Vm:Us(ae,be,ge,ie,oe),Dt(ie,oe,ge,1,0);break;case X2:os(ae,be,ge,ie,oe);break;default:e(0)}F+=z,re+=he}u.Ma+=O}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=v.height)}}u.C=d,e(u.C<=u.i)}function rs(u){var d;if(0<u.ua)return 0;for(d=0;d<u.Wb;++d){var v=u.Ya[d].G,x=u.Ya[d].H;if(0<v[1][x[1]+0].g||0<v[2][x[2]+0].g||0<v[3][x[3]+0].g)return 0}return 1}function ai(u,d,v,x,I,O){if(u.Z!=0){var M=u.qd,F=u.rd;for(e(qs[u.Z]!=null);d<v;++d)qs[u.Z](M,F,x,I,x,I,O),M=x,F=I,I+=O;u.qd=M,u.rd=F}}function li(u,d){var v=u.l.ma,x=v.Z==0||v.Z==1?u.l.j:u.C;if(x=u.C<x?x:u.C,e(d<=u.l.o),d>x){var I=u.l.width,O=v.ca,M=v.tb+I*x,F=u.V,z=u.Ba+u.c*x,K=u.gc;e(u.ab==1),e(K[0].hc==3),dh(K[0],x,d,F,z,O,M),ai(v,x,d,O,M,I)}u.C=u.Ma=d}function ui(u,d,v,x,I,O,M){var F=u.$/x,z=u.$%x,K=u.m,re=u.s,he=v+u.$,fe=he;I=v+x*I;var ae=v+x*O,be=280+re.ua,ge=u.Pb?F:16777216,ie=0<re.ua?re.Wa:null,oe=re.wc,we=he<ae?fn(re,z,F):null;e(u.C<O),e(ae<=I);var xe=!1;e:for(;;){for(;xe||he<ae;){var _e=0;if(F>=ge){var Fe=he-v;e((ge=u).Pb),ge.wd=ge.m,ge.xd=Fe,0<ge.s.ua&&ye(ge.s.Wa,ge.s.vb),ge=F+mN}if(z&oe||(we=fn(re,z,F)),e(we!=null),we.Qb&&(d[he]=we.qb,xe=!0),!xe)if(Z(K),we.jc){_e=K,Fe=d;var Ie=he,qe=we.pd[j(_e)&Dn-1];e(we.jc),256>qe.g?(J(_e,_e.u+qe.g),Fe[Ie]=qe.value,_e=0):(J(_e,_e.u+qe.g-256),e(256<=qe.value),_e=qe.value),_e==0&&(xe=!0)}else _e=fr(we.G[0],we.H[0],K);if(K.h)break;if(xe||256>_e){if(!xe)if(we.nd)d[he]=(we.qb|_e<<8)>>>0;else{if(Z(K),xe=fr(we.G[1],we.H[1],K),Z(K),Fe=fr(we.G[2],we.H[2],K),Ie=fr(we.G[3],we.H[3],K),K.h)break;d[he]=(Ie<<24|xe<<16|_e<<8|Fe)>>>0}if(xe=!1,++he,++z>=x&&(z=0,++F,M!=null&&F<=O&&!(F%16)&&M(u,F),ie!=null))for(;fe<he;)_e=d[fe++],ie.X[(506832829*_e&4294967295)>>>ie.Mb]=_e}else if(280>_e){if(_e=oi(_e-256,K),Fe=fr(we.G[4],we.H[4],K),Z(K),Fe=Oi(x,Fe=oi(Fe,K)),K.h)break;if(he-v<Fe||I-he<_e)break e;for(Ie=0;Ie<_e;++Ie)d[he+Ie]=d[he+Ie-Fe];for(he+=_e,z+=_e;z>=x;)z-=x,++F,M!=null&&F<=O&&!(F%16)&&M(u,F);if(e(he<=I),z&oe&&(we=fn(re,z,F)),ie!=null)for(;fe<he;)_e=d[fe++],ie.X[(506832829*_e&4294967295)>>>ie.Mb]=_e}else{if(!(_e<be))break e;for(xe=_e-280,e(ie!=null);fe<he;)_e=d[fe++],ie.X[(506832829*_e&4294967295)>>>ie.Mb]=_e;_e=he,e(!(xe>>>(Fe=ie).Xa)),d[_e]=Fe.X[xe],xe=!0}xe||e(K.h==W(K))}if(u.Pb&&K.h&&he<I)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ye(u.s.vb,u.s.Wa);else{if(K.h)break e;M!=null&&M(u,F>O?O:F),u.a=0,u.$=he-v}return 1}return u.a=3,0}function Di(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var d=u.Wa;d!=null&&(d.X=null),u.vb=null,e(u!=null)}function Wr(){var u=new Um;return u==null?null:(u.a=0,u.xb=ty,Ti("Predictor","VP8LPredictors"),Ti("Predictor","VP8LPredictors_C"),Ti("PredictorAdd","VP8LPredictorsAdd"),Ti("PredictorAdd","VP8LPredictorsAdd_C"),ch=mt,ea=Je,gr=Me,nr=Hn,Us=yt,os=ii,as=Lt,P.VP8LMapColor32b=dl,P.VP8LMapColor8b=hh,u)}function Mi(u,d,v,x,I){var O=1,M=[u],F=[d],z=x.m,K=x.s,re=null,he=0;e:for(;;){if(v)for(;O&&te(z,1);){var fe=M,ae=F,be=x,ge=1,ie=be.m,oe=be.gc[be.ab],we=te(ie,2);if(be.Oc&1<<we)O=0;else{switch(be.Oc|=1<<we,oe.hc=we,oe.Ea=fe[0],oe.nc=ae[0],oe.K=[null],++be.ab,e(4>=be.ab),we){case 0:case 1:oe.b=te(ie,3)+2,ge=Mi(ze(oe.Ea,oe.b),ze(oe.nc,oe.b),0,be,oe.K),oe.K=oe.K[0];break;case 3:var xe,_e=te(ie,8)+1,Fe=16<_e?0:4<_e?1:2<_e?2:3;if(fe[0]=ze(oe.Ea,Fe),oe.b=Fe,xe=ge=Mi(_e,1,0,be,oe.K)){var Ie,qe=_e,Re=oe,_t=1<<(8>>Re.b),Nt=s(_t);if(Nt==null)xe=0;else{var gt=Re.K[0],ft=Re.w;for(Nt[0]=Re.K[0][0],Ie=1;Ie<1*qe;++Ie)Nt[Ie]=Ee(gt[ft+Ie],Nt[Ie-1]);for(;Ie<4*_t;++Ie)Nt[Ie]=0;Re.K[0]=null,Re.K[0]=Nt,xe=1}}ge=xe;break;case 2:break;default:e(0)}O=ge}}if(M=M[0],F=F[0],O&&te(z,1)&&!(O=1<=(he=te(z,4))&&11>=he)){x.a=3;break e}var Rt;if(Rt=O)t:{var It,st,mn,vr=x,gn=M,yr=F,Ct=he,Pr=v,Ir=vr.m,kn=vr.s,Mn=[null],ir=1,Kr=0,Ui=pN[Ct];n:for(;;){if(Pr&&te(Ir,1)){var An=te(Ir,3)+2,ds=ze(gn,An),sa=ze(yr,An),gl=ds*sa;if(!Mi(ds,sa,0,vr,Mn))break n;for(Mn=Mn[0],kn.xc=An,It=0;It<gl;++It){var $s=Mn[It]>>8&65535;Mn[It]=$s,$s>=ir&&(ir=$s+1)}}if(Ir.h)break n;for(st=0;5>st;++st){var en=Z2[st];!st&&0<Ct&&(en+=1<<Ct),Kr<en&&(Kr=en)}var Qm=o(ir*Ui,k),cy=ir,dy=o(cy,G);if(dy==null)var Nh=null;else e(65536>=cy),Nh=dy;var Xu=s(Kr);if(Nh==null||Xu==null||Qm==null){vr.a=1;break n}var Ch=Qm;for(It=mn=0;It<ir;++It){var pi=Nh[It],vl=pi.G,yl=pi.H,hy=0,Eh=1,fy=0;for(st=0;5>st;++st){en=Z2[st],vl[st]=Ch,yl[st]=mn,!st&&0<Ct&&(en+=1<<Ct);i:{var kh,Jm=en,Ah=vr,Zu=Xu,DN=Ch,MN=mn,Xm=0,Vs=Ah.m,jN=te(Vs,1);if(i(Zu,0,0,Jm),jN){var FN=te(Vs,1)+1,BN=te(Vs,1),py=te(Vs,BN==0?1:8);Zu[py]=1,FN==2&&(Zu[py=te(Vs,8)]=1);var Ph=1}else{var my=s(19),gy=te(Vs,4)+4;if(19<gy){Ah.a=3;var Ih=0;break i}for(kh=0;kh<gy;++kh)my[hN[kh]]=te(Vs,3);var Zm=void 0,ec=void 0,vy=Ah,UN=my,Th=Jm,yy=Zu,eg=0,Ys=vy.m,wy=8,_y=o(128,k);r:for(;A(_y,0,7,UN,19);){if(te(Ys,1)){var zN=2+2*te(Ys,3);if((Zm=2+te(Ys,zN))>Th)break r}else Zm=Th;for(ec=0;ec<Th&&Zm--;){Z(Ys);var by=_y[0+(127&j(Ys))];J(Ys,Ys.u+by.g);var wl=by.value;if(16>wl)yy[ec++]=wl,wl!=0&&(wy=wl);else{var WN=wl==16,xy=wl-16,HN=cN[xy],Sy=te(Ys,uN[xy])+HN;if(ec+Sy>Th)break r;for(var qN=WN?wy:0;0<Sy--;)yy[ec++]=qN}}eg=1;break r}eg||(vy.a=3),Ph=eg}(Ph=Ph&&!Vs.h)&&(Xm=A(DN,MN,8,Zu,Jm)),Ph&&Xm!=0?Ih=Xm:(Ah.a=3,Ih=0)}if(Ih==0)break n;if(Eh&&dN[st]==1&&(Eh=Ch[mn].g==0),hy+=Ch[mn].g,mn+=Ih,3>=st){var tc,tg=Xu[0];for(tc=1;tc<en;++tc)Xu[tc]>tg&&(tg=Xu[tc]);fy+=tg}}if(pi.nd=Eh,pi.Qb=0,Eh&&(pi.qb=(vl[3][yl[3]+0].value<<24|vl[1][yl[1]+0].value<<16|vl[2][yl[2]+0].value)>>>0,hy==0&&256>vl[0][yl[0]+0].value&&(pi.Qb=1,pi.qb+=vl[0][yl[0]+0].value<<8)),pi.jc=!pi.Qb&&6>fy,pi.jc){var Lh,hs=pi;for(Lh=0;Lh<Dn;++Lh){var Gs=Lh,Ks=hs.pd[Gs],Rh=hs.G[0][hs.H[0]+Gs];256<=Rh.value?(Ks.g=Rh.g+256,Ks.value=Rh.value):(Ks.g=0,Ks.value=0,Gs>>=wn(Rh,8,Ks),Gs>>=wn(hs.G[1][hs.H[1]+Gs],16,Ks),Gs>>=wn(hs.G[2][hs.H[2]+Gs],0,Ks),wn(hs.G[3][hs.H[3]+Gs],24,Ks))}}}kn.vc=Mn,kn.Wb=ir,kn.Ya=Nh,kn.yc=Qm,Rt=1;break t}Rt=0}if(!(O=Rt)){x.a=3;break e}if(0<he){if(K.ua=1<<he,!Ye(K.Wa,he)){x.a=1,O=0;break e}}else K.ua=0;var ng=x,Ny=M,$N=F,rg=ng.s,ig=rg.xc;if(ng.c=Ny,ng.i=$N,rg.md=ze(Ny,ig),rg.wc=ig==0?-1:(1<<ig)-1,v){x.xb=xN;break e}if((re=s(M*F))==null){x.a=1,O=0;break e}O=(O=ui(x,re,0,M,F,F,null))&&!z.h;break e}return O?(I!=null?I[0]=re:(e(re==null),e(v)),x.$=0,v||Di(K)):Di(K),O}function Ko(u,d){var v=u.c*u.i,x=v+d+16*d;return e(u.c<=d),u.V=s(x),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+v+d,1)}function Va(u,d){var v=u.C,x=d-v,I=u.V,O=u.Ba+u.c*v;for(e(d<=u.l.o);0<x;){var M=16<x?16:x,F=u.l.ma,z=u.l.width,K=z*M,re=F.ca,he=F.tb+z*v,fe=u.Ta,ae=u.Ua;Er(u,M,I,O),ln(fe,ae,re,he,K),ai(F,v,v+M,re,he,z),x-=M,I+=M*u.c,v+=M}e(v==d),u.C=u.Ma=d}function Ya(){this.ub=this.yd=this.td=this.Rb=0}function Ga(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ka(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function qd(){this.Yb=function(){var u=[];return function d(v,x,I){for(var O=I[x],M=0;M<O&&(v.push(I.length>x+1?[]:0),!(I.length<x+1));M++)d(v[M],x+1,I)}(u,0,[3,11]),u}()}function vm(){this.jb=s(3),this.Wc=a([4,8],qd),this.Xc=a([4,17],qd)}function ym(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Qa(){this.ld=this.La=this.dd=this.tc=0}function $d(){this.Na=this.la=0}function wm(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Eu(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _m(){this.uc=this.M=this.Nb=0,this.wa=Array(new Qa),this.Y=0,this.ya=Array(new Eu),this.aa=0,this.l=new Ja}function Vd(){this.y=s(16),this.f=s(8),this.ea=s(8)}function bm(){this.cb=this.a=0,this.sc="",this.m=new ue,this.Od=new Ya,this.Kc=new Ga,this.ed=new ym,this.Qa=new Ka,this.Ic=this.$c=this.Aa=0,this.D=new _m,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ue),this.ia=0,this.pb=o(4,wm),this.Pa=new vm,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Vd),this.Hd=0,this.rb=Array(new $d),this.sb=0,this.wa=Array(new Qa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Eu),this.L=this.aa=0,this.gd=a([4,2],Qa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ja(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xm(){var u=new bm;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Qu||(Qu=Kd)),u}function on(u,d,v){return u.a==0&&(u.a=d,u.sc=v,u.cb=0),0}function Yd(u,d,v){return 3<=v&&u[d+0]==157&&u[d+1]==1&&u[d+2]==42}function Gd(u,d){if(u==null)return 0;if(u.a=0,u.sc="OK",d==null)return on(u,2,"null VP8Io passed to VP8GetHeaders()");var v=d.data,x=d.w,I=d.ha;if(4>I)return on(u,7,"Truncated header.");var O=v[x+0]|v[x+1]<<8|v[x+2]<<16,M=u.Od;if(M.Rb=!(1&O),M.td=O>>1&7,M.yd=O>>4&1,M.ub=O>>5,3<M.td)return on(u,3,"Incorrect keyframe parameters.");if(!M.yd)return on(u,4,"Frame not displayable.");x+=3,I-=3;var F=u.Kc;if(M.Rb){if(7>I)return on(u,7,"cannot parse picture header");if(!Yd(v,x,I))return on(u,3,"Bad code word");F.c=16383&(v[x+4]<<8|v[x+3]),F.Td=v[x+4]>>6,F.i=16383&(v[x+6]<<8|v[x+5]),F.Ud=v[x+6]>>6,x+=7,I-=7,u.za=F.c+15>>4,u.Ub=F.i+15>>4,d.width=F.c,d.height=F.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((O=u.Pa).jb,0,255,O.jb.length),e((O=u.Qa)!=null),O.Cb=0,O.Bb=0,O.Fb=1,i(O.Zb,0,0,O.Zb.length),i(O.Lb,0,0,O.Lb)}if(M.ub>I)return on(u,7,"bad partition length");se(O=u.m,v,x,M.ub),x+=M.ub,I-=M.ub,M.Rb&&(F.Ld=de(O),F.Kd=de(O)),F=u.Qa;var z,K=u.Pa;if(e(O!=null),e(F!=null),F.Cb=de(O),F.Cb){if(F.Bb=de(O),de(O)){for(F.Fb=de(O),z=0;4>z;++z)F.Zb[z]=de(O)?Y(O,7):0;for(z=0;4>z;++z)F.Lb[z]=de(O)?Y(O,6):0}if(F.Bb)for(z=0;3>z;++z)K.jb[z]=de(O)?Q(O,8):255}else F.Bb=0;if(O.Ka)return on(u,3,"cannot parse segment header");if((F=u.ed).zd=de(O),F.Tb=Q(O,6),F.wb=Q(O,3),F.Pc=de(O),F.Pc&&de(O)){for(K=0;4>K;++K)de(O)&&(F.vd[K]=Y(O,6));for(K=0;4>K;++K)de(O)&&(F.od[K]=Y(O,6))}if(u.L=F.Tb==0?0:F.zd?1:2,O.Ka)return on(u,3,"cannot parse filter header");var re=I;if(I=z=x,x=z+re,F=re,u.Xb=(1<<Q(u.m,2))-1,re<3*(K=u.Xb))v=7;else{for(z+=3*K,F-=3*K,re=0;re<K;++re){var he=v[I+0]|v[I+1]<<8|v[I+2]<<16;he>F&&(he=F),se(u.Jc[+re],v,z,he),z+=he,F-=he,I+=3}se(u.Jc[+K],v,z,F),v=z<x?0:5}if(v!=0)return on(u,v,"cannot parse partitions");for(v=Q(z=u.m,7),I=de(z)?Y(z,4):0,x=de(z)?Y(z,4):0,F=de(z)?Y(z,4):0,K=de(z)?Y(z,4):0,z=de(z)?Y(z,4):0,re=u.Qa,he=0;4>he;++he){if(re.Cb){var fe=re.Zb[he];re.Fb||(fe+=v)}else{if(0<he){u.pb[he]=u.pb[0];continue}fe=v}var ae=u.pb[he];ae.Sc[0]=Ym[kr(fe+I,127)],ae.Sc[1]=Gm[kr(fe+0,127)],ae.Eb[0]=2*Ym[kr(fe+x,127)],ae.Eb[1]=101581*Gm[kr(fe+F,127)]>>16,8>ae.Eb[1]&&(ae.Eb[1]=8),ae.Qc[0]=Ym[kr(fe+K,117)],ae.Qc[1]=Gm[kr(fe+z,127)],ae.lc=fe+z}if(!M.Rb)return on(u,4,"Not a key frame.");for(de(O),M=u.Pa,v=0;4>v;++v){for(I=0;8>I;++I)for(x=0;3>x;++x)for(F=0;11>F;++F)K=pe(O,_N[v][I][x][F])?Q(O,8):yN[v][I][x][F],M.Wc[v][I].Yb[x][F]=K;for(I=0;17>I;++I)M.Xc[v][I]=M.Wc[v][bN[I]]}return u.kc=de(O),u.kc&&(u.Bd=Q(O,8)),u.cb=1}function Kd(u,d,v,x,I,O,M){var F=d[I].Yb[v];for(v=0;16>I;++I){if(!pe(u,F[v+0]))return I;for(;!pe(u,F[v+1]);)if(F=d[++I].Yb[0],v=0,I==16)return 16;var z=d[I+1].Yb;if(pe(u,F[v+2])){var K=u,re=0;if(pe(K,(fe=F)[(he=v)+3]))if(pe(K,fe[he+6])){for(F=0,he=2*(re=pe(K,fe[he+8]))+(fe=pe(K,fe[he+9+re])),re=0,fe=gN[he];fe[F];++F)re+=re+pe(K,fe[F]);re+=3+(8<<he)}else pe(K,fe[he+7])?(re=7+2*pe(K,165),re+=pe(K,145)):re=5+pe(K,159);else re=pe(K,fe[he+4])?3+pe(K,fe[he+5]):2;F=z[2]}else re=1,F=z[1];z=M+vN[I],0>(K=u).b&&le(K);var he,fe=K.b,ae=(he=K.Ca>>1)-(K.I>>fe)>>31;--K.b,K.Ca+=ae,K.Ca|=1,K.I-=(he+1&ae)<<fe,O[z]=((re^ae)-ae)*x[(0<I)+0]}return 16}function ku(u){var d=u.rb[u.sb-1];d.la=0,d.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function Sm(u,d){if(u==null)return 0;if(d==null)return on(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Gd(u,d))return 0;if(e(u.cb),d.ac==null||d.ac(d)){d.ob&&(u.L=0);var v=Sh[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=d.v-v>>4,u.zb=d.j-v>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=d.o+15+v>>4,u.Hb=d.va+15+v>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var x=u.ed;for(v=0;4>v;++v){var I;if(u.Qa.Cb){var O=u.Qa.Lb[v];u.Qa.Fb||(O+=x.Tb)}else O=x.Tb;for(I=0;1>=I;++I){var M=u.gd[v][I],F=O;if(x.Pc&&(F+=x.vd[0],I&&(F+=x.od[0])),0<(F=0>F?0:63<F?63:F)){var z=F;0<x.wb&&(z=4<x.wb?z>>2:z>>1)>9-x.wb&&(z=9-x.wb),1>z&&(z=1),M.dd=z,M.tc=2*F+z,M.ld=40<=F?2:15<=F?1:0}else M.tc=0;M.La=I}}}v=0}else on(u,6,"Frame setup failed"),v=u.a;if(v=v==0){if(v){u.$c=0,0<u.Aa||(u.Ic=ON);e:{v=u.Ic,x=4*(z=u.za);var K=32*z,re=z+1,he=0<u.L?z*(0<u.Aa?2:1):0,fe=(u.Aa==2?2:1)*z;if((M=x+832+(I=3*(16*v+Sh[u.L])/2*K)+(O=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=M)v=0;else{if(M>u.Vb){if(u.Vb=0,u.Ec=s(M),u.Fc=0,u.Ec==null){v=on(u,1,"no memory during frame initialization.");break e}u.Vb=M}M=u.Ec,F=u.Fc,u.Ac=M,u.Bc=F,F+=x,u.Gd=o(K,Vd),u.Hd=0,u.rb=o(re+1,$d),u.sb=1,u.wa=he?o(he,Qa):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=z),e(!0),u.oc=M,u.pc=F,F+=832,u.ya=o(fe,Eu),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=z),u.R=16*z,u.B=8*z,z=(K=Sh[u.L])*u.R,K=K/2*u.B,u.sa=M,u.ta=F+z,u.qa=u.sa,u.ra=u.ta+16*v*u.R+K,u.Ha=u.qa,u.Ia=u.ra+8*v*u.B+K,u.$c=0,F+=I,u.mb=O?M:null,u.nb=O?F:null,e(F+O<=u.Fc+u.Vb),ku(u),i(u.Ac,u.Bc,0,x),v=1}}if(v){if(d.ka=0,d.y=u.sa,d.O=u.ta,d.f=u.qa,d.N=u.ra,d.ea=u.Ha,d.Vd=u.Ia,d.fa=u.R,d.Rc=u.B,d.F=null,d.J=0,!ph){for(v=-255;255>=v;++v)_n[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)us[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)Ku[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)ml[255+v]=0>v?0:255<v?255:v;ph=1}hl=Em,ls=Nm,Vu=Jd,rr=Cm,qr=Xd,an=Qd,fl=Ru,fh=Xo,Yu=Bm,ta=Ou,na=Fm,zs=rl,ra=Du,pl=ah,ia=oh,Ws=Fi,Gu=ss,$r=jm,fi[0]=ji,fi[1]=km,fi[2]=Tm,fi[3]=Lm,fi[4]=th,fi[5]=tl,fi[6]=nh,fi[7]=Iu,fi[8]=Om,fi[9]=Rm,Hs[0]=Zd,Hs[1]=Pm,Hs[2]=is,Hs[3]=Za,Hs[4]=qn,Hs[5]=Im,Hs[6]=eh,cs[0]=Ms,cs[1]=Am,cs[2]=Dm,cs[3]=Tu,cs[4]=Jo,cs[5]=Mm,cs[6]=Lu,v=1}else v=0}v&&(v=function(ae,be){for(ae.M=0;ae.M<ae.Va;++ae.M){var ge,ie=ae.Jc[ae.M&ae.Xb],oe=ae.m,we=ae;for(ge=0;ge<we.za;++ge){var xe=oe,_e=we,Fe=_e.Ac,Ie=_e.Bc+4*ge,qe=_e.zc,Re=_e.ya[_e.aa+ge];if(_e.Qa.Bb?Re.$b=pe(xe,_e.Pa.jb[0])?2+pe(xe,_e.Pa.jb[2]):pe(xe,_e.Pa.jb[1]):Re.$b=0,_e.kc&&(Re.Ad=pe(xe,_e.Bd)),Re.Za=!pe(xe,145)+0,Re.Za){var _t=Re.Ob,Nt=0;for(_e=0;4>_e;++_e){var gt,ft=qe[0+_e];for(gt=0;4>gt;++gt){ft=wN[Fe[Ie+gt]][ft];for(var Rt=ey[pe(xe,ft[0])];0<Rt;)Rt=ey[2*Rt+pe(xe,ft[Rt])];ft=-Rt,Fe[Ie+gt]=ft}r(_t,Nt,Fe,Ie,4),Nt+=4,qe[0+_e]=ft}}else ft=pe(xe,156)?pe(xe,128)?1:3:pe(xe,163)?2:0,Re.Ob[0]=ft,i(Fe,Ie,ft,4),i(qe,0,ft,4);Re.Dd=pe(xe,142)?pe(xe,114)?pe(xe,183)?1:3:2:0}if(we.m.Ka)return on(ae,7,"Premature end-of-partition0 encountered.");for(;ae.ja<ae.za;++ae.ja){if(we=ie,xe=(oe=ae).rb[oe.sb-1],Fe=oe.rb[oe.sb+oe.ja],ge=oe.ya[oe.aa+oe.ja],Ie=oe.kc?ge.Ad:0)xe.la=Fe.la=0,ge.Za||(xe.Na=Fe.Na=0),ge.Hc=0,ge.Gc=0,ge.ia=0;else{var It,st;if(xe=Fe,Fe=we,Ie=oe.Pa.Xc,qe=oe.ya[oe.aa+oe.ja],Re=oe.pb[qe.$b],_e=qe.ad,_t=0,Nt=oe.rb[oe.sb-1],ft=gt=0,i(_e,_t,0,384),qe.Za)var mn=0,vr=Ie[3];else{Rt=s(16);var gn=xe.Na+Nt.Na;if(gn=Qu(Fe,Ie[1],gn,Re.Eb,0,Rt,0),xe.Na=Nt.Na=(0<gn)+0,1<gn)hl(Rt,0,_e,_t);else{var yr=Rt[0]+3>>3;for(Rt=0;256>Rt;Rt+=16)_e[_t+Rt]=yr}mn=1,vr=Ie[0]}var Ct=15&xe.la,Pr=15&Nt.la;for(Rt=0;4>Rt;++Rt){var Ir=1&Pr;for(yr=st=0;4>yr;++yr)Ct=Ct>>1|(Ir=(gn=Qu(Fe,vr,gn=Ir+(1&Ct),Re.Sc,mn,_e,_t))>mn)<<7,st=st<<2|(3<gn?3:1<gn?2:_e[_t+0]!=0),_t+=16;Ct>>=4,Pr=Pr>>1|Ir<<7,gt=(gt<<8|st)>>>0}for(vr=Ct,mn=Pr>>4,It=0;4>It;It+=2){for(st=0,Ct=xe.la>>4+It,Pr=Nt.la>>4+It,Rt=0;2>Rt;++Rt){for(Ir=1&Pr,yr=0;2>yr;++yr)gn=Ir+(1&Ct),Ct=Ct>>1|(Ir=0<(gn=Qu(Fe,Ie[2],gn,Re.Qc,0,_e,_t)))<<3,st=st<<2|(3<gn?3:1<gn?2:_e[_t+0]!=0),_t+=16;Ct>>=2,Pr=Pr>>1|Ir<<5}ft|=st<<4*It,vr|=Ct<<4<<It,mn|=(240&Pr)<<It}xe.la=vr,Nt.la=mn,qe.Hc=gt,qe.Gc=ft,qe.ia=43690&ft?0:Re.ia,Ie=!(gt|ft)}if(0<oe.L&&(oe.wa[oe.Y+oe.ja]=oe.gd[ge.$b][ge.Za],oe.wa[oe.Y+oe.ja].La|=!Ie),we.Ka)return on(ae,7,"Premature end-of-file encountered.")}if(ku(ae),oe=be,we=1,ge=(ie=ae).D,xe=0<ie.L&&ie.M>=ie.zb&&ie.M<=ie.Va,ie.Aa==0)e:{if(ge.M=ie.M,ge.uc=xe,zu(ie,ge),we=1,ge=(st=ie.D).Nb,xe=(ft=Sh[ie.L])*ie.R,Fe=ft/2*ie.B,Rt=16*ge*ie.R,yr=8*ge*ie.B,Ie=ie.sa,qe=ie.ta-xe+Rt,Re=ie.qa,_e=ie.ra-Fe+yr,_t=ie.Ha,Nt=ie.Ia-Fe+yr,Pr=(Ct=st.M)==0,gt=Ct>=ie.Va-1,ie.Aa==2&&zu(ie,st),st.uc)for(Ir=(gn=ie).D.M,e(gn.D.uc),st=gn.yb;st<gn.Hb;++st){mn=st,vr=Ir;var kn=(Mn=(en=gn).D).Nb;It=en.R;var Mn=Mn.wa[Mn.Y+mn],ir=en.sa,Kr=en.ta+16*kn*It+16*mn,Ui=Mn.dd,An=Mn.tc;if(An!=0)if(e(3<=An),en.L==1)0<mn&&Ws(ir,Kr,It,An+4),Mn.La&&$r(ir,Kr,It,An),0<vr&&ia(ir,Kr,It,An+4),Mn.La&&Gu(ir,Kr,It,An);else{var ds=en.B,sa=en.qa,gl=en.ra+8*kn*ds+8*mn,$s=en.Ha,en=en.Ia+8*kn*ds+8*mn;kn=Mn.ld,0<mn&&(fh(ir,Kr,It,An+4,Ui,kn),ta(sa,gl,$s,en,ds,An+4,Ui,kn)),Mn.La&&(zs(ir,Kr,It,An,Ui,kn),pl(sa,gl,$s,en,ds,An,Ui,kn)),0<vr&&(fl(ir,Kr,It,An+4,Ui,kn),Yu(sa,gl,$s,en,ds,An+4,Ui,kn)),Mn.La&&(na(ir,Kr,It,An,Ui,kn),ra(sa,gl,$s,en,ds,An,Ui,kn))}}if(ie.ia&&alert("todo:DitherRow"),oe.put!=null){if(st=16*Ct,Ct=16*(Ct+1),Pr?(oe.y=ie.sa,oe.O=ie.ta+Rt,oe.f=ie.qa,oe.N=ie.ra+yr,oe.ea=ie.Ha,oe.W=ie.Ia+yr):(st-=ft,oe.y=Ie,oe.O=qe,oe.f=Re,oe.N=_e,oe.ea=_t,oe.W=Nt),gt||(Ct-=ft),Ct>oe.o&&(Ct=oe.o),oe.F=null,oe.J=null,ie.Fa!=null&&0<ie.Fa.length&&st<Ct&&(oe.J=Bu(ie,oe,st,Ct-st),oe.F=ie.mb,oe.F==null&&oe.F.length==0)){we=on(ie,3,"Could not decode alpha data.");break e}st<oe.j&&(ft=oe.j-st,st=oe.j,e(!(1&ft)),oe.O+=ie.R*ft,oe.N+=ie.B*(ft>>1),oe.W+=ie.B*(ft>>1),oe.F!=null&&(oe.J+=oe.width*ft)),st<Ct&&(oe.O+=oe.v,oe.N+=oe.v>>1,oe.W+=oe.v>>1,oe.F!=null&&(oe.J+=oe.v),oe.ka=st-oe.j,oe.U=oe.va-oe.v,oe.T=Ct-st,we=oe.put(oe))}ge+1!=ie.Ic||gt||(r(ie.sa,ie.ta-xe,Ie,qe+16*ie.R,xe),r(ie.qa,ie.ra-Fe,Re,_e+8*ie.B,Fe),r(ie.Ha,ie.Ia-Fe,_t,Nt+8*ie.B,Fe))}if(!we)return on(ae,6,"Output aborted.")}return 1}(u,d)),d.bc!=null&&d.bc(d),v&=1}return v?(u.cb=0,v):0}function ci(u,d,v,x,I){I=u[d+v+32*x]+(I>>3),u[d+v+32*x]=-256&I?0>I?0:255:I}function Xa(u,d,v,x,I,O){ci(u,d,0,v,x+I),ci(u,d,1,v,x+O),ci(u,d,2,v,x-O),ci(u,d,3,v,x-I)}function pr(u){return(20091*u>>16)+u}function Au(u,d,v,x){var I,O=0,M=s(16);for(I=0;4>I;++I){var F=u[d+0]+u[d+8],z=u[d+0]-u[d+8],K=(35468*u[d+4]>>16)-pr(u[d+12]),re=pr(u[d+4])+(35468*u[d+12]>>16);M[O+0]=F+re,M[O+1]=z+K,M[O+2]=z-K,M[O+3]=F-re,O+=4,d++}for(I=O=0;4>I;++I)F=(u=M[O+0]+4)+M[O+8],z=u-M[O+8],K=(35468*M[O+4]>>16)-pr(M[O+12]),ci(v,x,0,0,F+(re=pr(M[O+4])+(35468*M[O+12]>>16))),ci(v,x,1,0,z+K),ci(v,x,2,0,z-K),ci(v,x,3,0,F-re),O++,x+=32}function Qd(u,d,v,x){var I=u[d+0]+4,O=35468*u[d+4]>>16,M=pr(u[d+4]),F=35468*u[d+1]>>16;Xa(v,x,0,I+M,u=pr(u[d+1]),F),Xa(v,x,1,I+O,u,F),Xa(v,x,2,I-O,u,F),Xa(v,x,3,I-M,u,F)}function Nm(u,d,v,x,I){Au(u,d,v,x),I&&Au(u,d+16,v,x+4)}function Jd(u,d,v,x){ls(u,d+0,v,x,1),ls(u,d+32,v,x+128,1)}function Cm(u,d,v,x){var I;for(u=u[d+0]+4,I=0;4>I;++I)for(d=0;4>d;++d)ci(v,x,d,I,u)}function Xd(u,d,v,x){u[d+0]&&rr(u,d+0,v,x),u[d+16]&&rr(u,d+16,v,x+4),u[d+32]&&rr(u,d+32,v,x+128),u[d+48]&&rr(u,d+48,v,x+128+4)}function Em(u,d,v,x){var I,O=s(16);for(I=0;4>I;++I){var M=u[d+0+I]+u[d+12+I],F=u[d+4+I]+u[d+8+I],z=u[d+4+I]-u[d+8+I],K=u[d+0+I]-u[d+12+I];O[0+I]=M+F,O[8+I]=M-F,O[4+I]=K+z,O[12+I]=K-z}for(I=0;4>I;++I)M=(u=O[0+4*I]+3)+O[3+4*I],F=O[1+4*I]+O[2+4*I],z=O[1+4*I]-O[2+4*I],K=u-O[3+4*I],v[x+0]=M+F>>3,v[x+16]=K+z>>3,v[x+32]=M-F>>3,v[x+48]=K-z>>3,x+=64}function Pu(u,d,v){var x,I=d-32,O=Ar,M=255-u[I-1];for(x=0;x<v;++x){var F,z=O,K=M+u[d-1];for(F=0;F<v;++F)u[d+F]=z[K+u[I+F]];d+=32}}function km(u,d){Pu(u,d,4)}function Am(u,d){Pu(u,d,8)}function Pm(u,d){Pu(u,d,16)}function is(u,d){var v;for(v=0;16>v;++v)r(u,d+32*v,u,d-32,16)}function Za(u,d){var v;for(v=16;0<v;--v)i(u,d,u[d-1],16),d+=32}function el(u,d,v){var x;for(x=0;16>x;++x)i(d,v+32*x,u,16)}function Zd(u,d){var v,x=16;for(v=0;16>v;++v)x+=u[d-1+32*v]+u[d+v-32];el(x>>5,u,d)}function qn(u,d){var v,x=8;for(v=0;16>v;++v)x+=u[d-1+32*v];el(x>>4,u,d)}function Im(u,d){var v,x=8;for(v=0;16>v;++v)x+=u[d+v-32];el(x>>4,u,d)}function eh(u,d){el(128,u,d)}function Xe(u,d,v){return u+2*d+v+2>>2}function Tm(u,d){var v,x=d-32;for(x=new Uint8Array([Xe(u[x-1],u[x+0],u[x+1]),Xe(u[x+0],u[x+1],u[x+2]),Xe(u[x+1],u[x+2],u[x+3]),Xe(u[x+2],u[x+3],u[x+4])]),v=0;4>v;++v)r(u,d+32*v,x,0,x.length)}function Lm(u,d){var v=u[d-1],x=u[d-1+32],I=u[d-1+64],O=u[d-1+96];Ce(u,d+0,16843009*Xe(u[d-1-32],v,x)),Ce(u,d+32,16843009*Xe(v,x,I)),Ce(u,d+64,16843009*Xe(x,I,O)),Ce(u,d+96,16843009*Xe(I,O,O))}function ji(u,d){var v,x=4;for(v=0;4>v;++v)x+=u[d+v-32]+u[d-1+32*v];for(x>>=3,v=0;4>v;++v)i(u,d+32*v,x,4)}function th(u,d){var v=u[d-1+0],x=u[d-1+32],I=u[d-1+64],O=u[d-1-32],M=u[d+0-32],F=u[d+1-32],z=u[d+2-32],K=u[d+3-32];u[d+0+96]=Xe(x,I,u[d-1+96]),u[d+1+96]=u[d+0+64]=Xe(v,x,I),u[d+2+96]=u[d+1+64]=u[d+0+32]=Xe(O,v,x),u[d+3+96]=u[d+2+64]=u[d+1+32]=u[d+0+0]=Xe(M,O,v),u[d+3+64]=u[d+2+32]=u[d+1+0]=Xe(F,M,O),u[d+3+32]=u[d+2+0]=Xe(z,F,M),u[d+3+0]=Xe(K,z,F)}function nh(u,d){var v=u[d+1-32],x=u[d+2-32],I=u[d+3-32],O=u[d+4-32],M=u[d+5-32],F=u[d+6-32],z=u[d+7-32];u[d+0+0]=Xe(u[d+0-32],v,x),u[d+1+0]=u[d+0+32]=Xe(v,x,I),u[d+2+0]=u[d+1+32]=u[d+0+64]=Xe(x,I,O),u[d+3+0]=u[d+2+32]=u[d+1+64]=u[d+0+96]=Xe(I,O,M),u[d+3+32]=u[d+2+64]=u[d+1+96]=Xe(O,M,F),u[d+3+64]=u[d+2+96]=Xe(M,F,z),u[d+3+96]=Xe(F,z,z)}function tl(u,d){var v=u[d-1+0],x=u[d-1+32],I=u[d-1+64],O=u[d-1-32],M=u[d+0-32],F=u[d+1-32],z=u[d+2-32],K=u[d+3-32];u[d+0+0]=u[d+1+64]=O+M+1>>1,u[d+1+0]=u[d+2+64]=M+F+1>>1,u[d+2+0]=u[d+3+64]=F+z+1>>1,u[d+3+0]=z+K+1>>1,u[d+0+96]=Xe(I,x,v),u[d+0+64]=Xe(x,v,O),u[d+0+32]=u[d+1+96]=Xe(v,O,M),u[d+1+32]=u[d+2+96]=Xe(O,M,F),u[d+2+32]=u[d+3+96]=Xe(M,F,z),u[d+3+32]=Xe(F,z,K)}function Iu(u,d){var v=u[d+0-32],x=u[d+1-32],I=u[d+2-32],O=u[d+3-32],M=u[d+4-32],F=u[d+5-32],z=u[d+6-32],K=u[d+7-32];u[d+0+0]=v+x+1>>1,u[d+1+0]=u[d+0+64]=x+I+1>>1,u[d+2+0]=u[d+1+64]=I+O+1>>1,u[d+3+0]=u[d+2+64]=O+M+1>>1,u[d+0+32]=Xe(v,x,I),u[d+1+32]=u[d+0+96]=Xe(x,I,O),u[d+2+32]=u[d+1+96]=Xe(I,O,M),u[d+3+32]=u[d+2+96]=Xe(O,M,F),u[d+3+64]=Xe(M,F,z),u[d+3+96]=Xe(F,z,K)}function Rm(u,d){var v=u[d-1+0],x=u[d-1+32],I=u[d-1+64],O=u[d-1+96];u[d+0+0]=v+x+1>>1,u[d+2+0]=u[d+0+32]=x+I+1>>1,u[d+2+32]=u[d+0+64]=I+O+1>>1,u[d+1+0]=Xe(v,x,I),u[d+3+0]=u[d+1+32]=Xe(x,I,O),u[d+3+32]=u[d+1+64]=Xe(I,O,O),u[d+3+64]=u[d+2+64]=u[d+0+96]=u[d+1+96]=u[d+2+96]=u[d+3+96]=O}function Om(u,d){var v=u[d-1+0],x=u[d-1+32],I=u[d-1+64],O=u[d-1+96],M=u[d-1-32],F=u[d+0-32],z=u[d+1-32],K=u[d+2-32];u[d+0+0]=u[d+2+32]=v+M+1>>1,u[d+0+32]=u[d+2+64]=x+v+1>>1,u[d+0+64]=u[d+2+96]=I+x+1>>1,u[d+0+96]=O+I+1>>1,u[d+3+0]=Xe(F,z,K),u[d+2+0]=Xe(M,F,z),u[d+1+0]=u[d+3+32]=Xe(v,M,F),u[d+1+32]=u[d+3+64]=Xe(x,v,M),u[d+1+64]=u[d+3+96]=Xe(I,x,v),u[d+1+96]=Xe(O,I,x)}function Dm(u,d){var v;for(v=0;8>v;++v)r(u,d+32*v,u,d-32,8)}function Tu(u,d){var v;for(v=0;8>v;++v)i(u,d,u[d-1],8),d+=32}function Qo(u,d,v){var x;for(x=0;8>x;++x)i(d,v+32*x,u,8)}function Ms(u,d){var v,x=8;for(v=0;8>v;++v)x+=u[d+v-32]+u[d-1+32*v];Qo(x>>4,u,d)}function Mm(u,d){var v,x=4;for(v=0;8>v;++v)x+=u[d+v-32];Qo(x>>3,u,d)}function Jo(u,d){var v,x=4;for(v=0;8>v;++v)x+=u[d-1+32*v];Qo(x>>3,u,d)}function Lu(u,d){Qo(128,u,d)}function nl(u,d,v){var x=u[d-v],I=u[d+0],O=3*(I-x)+Wm[1020+u[d-2*v]-u[d+v]],M=mh[112+(O+4>>3)];u[d-v]=Ar[255+x+mh[112+(O+3>>3)]],u[d+0]=Ar[255+I-M]}function rh(u,d,v,x){var I=u[d+0],O=u[d+v];return Yr[255+u[d-2*v]-u[d-v]]>x||Yr[255+O-I]>x}function ih(u,d,v,x){return 4*Yr[255+u[d-v]-u[d+0]]+Yr[255+u[d-2*v]-u[d+v]]<=x}function sh(u,d,v,x,I){var O=u[d-3*v],M=u[d-2*v],F=u[d-v],z=u[d+0],K=u[d+v],re=u[d+2*v],he=u[d+3*v];return 4*Yr[255+F-z]+Yr[255+M-K]>x?0:Yr[255+u[d-4*v]-O]<=I&&Yr[255+O-M]<=I&&Yr[255+M-F]<=I&&Yr[255+he-re]<=I&&Yr[255+re-K]<=I&&Yr[255+K-z]<=I}function oh(u,d,v,x){var I=2*x+1;for(x=0;16>x;++x)ih(u,d+x,v,I)&&nl(u,d+x,v)}function Fi(u,d,v,x){var I=2*x+1;for(x=0;16>x;++x)ih(u,d+x*v,1,I)&&nl(u,d+x*v,1)}function ss(u,d,v,x){var I;for(I=3;0<I;--I)oh(u,d+=4*v,v,x)}function jm(u,d,v,x){var I;for(I=3;0<I;--I)Fi(u,d+=4,v,x)}function js(u,d,v,x,I,O,M,F){for(O=2*O+1;0<I--;){if(sh(u,d,v,O,M))if(rh(u,d,v,F))nl(u,d,v);else{var z=u,K=d,re=v,he=z[K-2*re],fe=z[K-re],ae=z[K+0],be=z[K+re],ge=z[K+2*re],ie=27*(we=Wm[1020+3*(ae-fe)+Wm[1020+he-be]])+63>>7,oe=18*we+63>>7,we=9*we+63>>7;z[K-3*re]=Ar[255+z[K-3*re]+we],z[K-2*re]=Ar[255+he+oe],z[K-re]=Ar[255+fe+ie],z[K+0]=Ar[255+ae-ie],z[K+re]=Ar[255+be-oe],z[K+2*re]=Ar[255+ge-we]}d+=x}}function di(u,d,v,x,I,O,M,F){for(O=2*O+1;0<I--;){if(sh(u,d,v,O,M))if(rh(u,d,v,F))nl(u,d,v);else{var z=u,K=d,re=v,he=z[K-re],fe=z[K+0],ae=z[K+re],be=mh[112+((ge=3*(fe-he))+4>>3)],ge=mh[112+(ge+3>>3)],ie=be+1>>1;z[K-2*re]=Ar[255+z[K-2*re]+ie],z[K-re]=Ar[255+he+ge],z[K+0]=Ar[255+fe-be],z[K+re]=Ar[255+ae-ie]}d+=x}}function Ru(u,d,v,x,I,O){js(u,d,v,1,16,x,I,O)}function Xo(u,d,v,x,I,O){js(u,d,1,v,16,x,I,O)}function Fm(u,d,v,x,I,O){var M;for(M=3;0<M;--M)di(u,d+=4*v,v,1,16,x,I,O)}function rl(u,d,v,x,I,O){var M;for(M=3;0<M;--M)di(u,d+=4,1,v,16,x,I,O)}function Bm(u,d,v,x,I,O,M,F){js(u,d,I,1,8,O,M,F),js(v,x,I,1,8,O,M,F)}function Ou(u,d,v,x,I,O,M,F){js(u,d,1,I,8,O,M,F),js(v,x,1,I,8,O,M,F)}function Du(u,d,v,x,I,O,M,F){di(u,d+4*I,I,1,8,O,M,F),di(v,x+4*I,I,1,8,O,M,F)}function ah(u,d,v,x,I,O,M,F){di(u,d+4,1,I,8,O,M,F),di(v,x+4,1,I,8,O,M,F)}function il(){this.ba=new si,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Mu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ju(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lh(){this.ua=0,this.Wa=new ee,this.vb=new ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new k}function Um(){this.xb=this.a=0,this.l=new Ja,this.ca=new si,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lh,this.ab=0,this.gc=o(4,ju),this.Oc=0}function sl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ja,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Zo(u,d,v,x,I,O,M){for(u=u==null?0:u[d+0],d=0;d<M;++d)I[O+d]=u+v[x+d]&255,u=I[O+d]}function Fu(u,d,v,x,I,O,M){var F;if(u==null)Zo(null,null,v,x,I,O,M);else for(F=0;F<M;++F)I[O+F]=u[d+F]+v[x+F]&255}function Fs(u,d,v,x,I,O,M){if(u==null)Zo(null,null,v,x,I,O,M);else{var F,z=u[d+0],K=z,re=z;for(F=0;F<M;++F)K=re+(z=u[d+F])-K,re=v[x+F]+(-256&K?0>K?0:255:K)&255,K=z,I[O+F]=re}}function Bu(u,d,v,x){var I=d.width,O=d.o;if(e(u!=null&&d!=null),0>v||0>=x||v+x>O)return null;if(!u.Cc){if(u.ga==null){var M;if(u.ga=new sl,(M=u.ga==null)||(M=d.width*d.o,e(u.Gb.length==0),u.Gb=s(M),u.Uc=0,u.Gb==null?M=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,M=1),M=!M),!M){M=u.ga;var F=u.Fa,z=u.P,K=u.qc,re=u.mb,he=u.nb,fe=z+1,ae=K-1,be=M.l;if(e(F!=null&&re!=null&&d!=null),qs[0]=null,qs[1]=Zo,qs[2]=Fu,qs[3]=Fs,M.ca=re,M.tb=he,M.c=d.width,M.i=d.height,e(0<M.c&&0<M.i),1>=K)d=0;else if(M.$a=F[z+0]>>0&3,M.Z=F[z+0]>>2&3,M.Lc=F[z+0]>>4&3,z=F[z+0]>>6&3,0>M.$a||1<M.$a||4<=M.Z||1<M.Lc||z)d=0;else if(be.put=Li,be.ac=On,be.bc=Ri,be.ma=M,be.width=d.width,be.height=d.height,be.Da=d.Da,be.v=d.v,be.va=d.va,be.j=d.j,be.o=d.o,M.$a)e:{e(M.$a==1),d=Wr();t:for(;;){if(d==null){d=0;break e}if(e(M!=null),M.mc=d,d.c=M.c,d.i=M.i,d.l=M.l,d.l.ma=M,d.l.width=M.c,d.l.height=M.i,d.a=0,U(d.m,F,fe,ae),!Mi(M.c,M.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&rs(d.s)?(M.ic=1,F=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s(F),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(M.ic=0,d=Ko(d,M.c)),!d))break t;d=1;break e}M.mc=null,d=0}else d=ae>=M.c*M.i;M=!d}if(M)return null;u.ga.Lc!=1?u.Ga=0:x=O-v}e(u.ga!=null),e(v+x<=O);e:{if(d=(F=u.ga).c,O=F.l.o,F.$a==0){if(fe=u.rc,ae=u.Vc,be=u.Fa,z=u.P+1+v*d,K=u.mb,re=u.nb+v*d,e(z<=u.P+u.qc),F.Z!=0)for(e(qs[F.Z]!=null),M=0;M<x;++M)qs[F.Z](fe,ae,be,z,K,re,d),fe=K,ae=re,re+=d,z+=d;else for(M=0;M<x;++M)r(K,re,be,z,d),fe=K,ae=re,re+=d,z+=d;u.rc=fe,u.Vc=ae}else{if(e(F.mc!=null),d=v+x,e((M=F.mc)!=null),e(d<=M.i),M.C>=d)d=1;else if(F.ic||ce(),F.ic){F=M.V,fe=M.Ba,ae=M.c;var ge=M.i,ie=(be=1,z=M.$/ae,K=M.$%ae,re=M.m,he=M.s,M.$),oe=ae*ge,we=ae*d,xe=he.wc,_e=ie<we?fn(he,K,z):null;e(ie<=oe),e(d<=ge),e(rs(he));t:for(;;){for(;!re.h&&ie<we;){if(K&xe||(_e=fn(he,K,z)),e(_e!=null),Z(re),256>(ge=fr(_e.G[0],_e.H[0],re)))F[fe+ie]=ge,++ie,++K>=ae&&(K=0,++z<=d&&!(z%16)&&li(M,z));else{if(!(280>ge)){be=0;break t}ge=oi(ge-256,re);var Fe,Ie=fr(_e.G[4],_e.H[4],re);if(Z(re),!(ie>=(Ie=Oi(ae,Ie=oi(Ie,re)))&&oe-ie>=ge)){be=0;break t}for(Fe=0;Fe<ge;++Fe)F[fe+ie+Fe]=F[fe+ie+Fe-Ie];for(ie+=ge,K+=ge;K>=ae;)K-=ae,++z<=d&&!(z%16)&&li(M,z);ie<we&&K&xe&&(_e=fn(he,K,z))}e(re.h==W(re))}li(M,z>d?d:z);break t}!be||re.h&&ie<oe?(be=0,M.a=re.h?5:3):M.$=ie,d=be}else d=ui(M,M.V,M.Ba,M.c,M.i,d,Va);if(!d){x=0;break e}}v+x>=O&&(u.Cc=1),x=1}if(!x)return null;if(u.Cc&&((x=u.ga)!=null&&(x.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+v*I}function m(u,d,v,x,I,O){for(;0<I--;){var M,F=u,z=d+(v?1:0),K=u,re=d+(v?0:3);for(M=0;M<x;++M){var he=K[re+4*M];he!=255&&(he*=32897,F[z+4*M+0]=F[z+4*M+0]*he>>23,F[z+4*M+1]=F[z+4*M+1]*he>>23,F[z+4*M+2]=F[z+4*M+2]*he>>23)}d+=O}}function T(u,d,v,x,I){for(;0<x--;){var O;for(O=0;O<v;++O){var M=u[d+2*O+0],F=15&(K=u[d+2*O+1]),z=4369*F,K=(240&K|K>>4)*z>>16;u[d+2*O+0]=(240&M|M>>4)*z>>16&240|(15&M|M<<4)*z>>16>>4&15,u[d+2*O+1]=240&K|F}d+=I}}function X(u,d,v,x,I,O,M,F){var z,K,re=255;for(K=0;K<I;++K){for(z=0;z<x;++z){var he=u[d+z];O[M+4*z]=he,re&=he}d+=v,M+=F}return re!=255}function ne(u,d,v,x,I){var O;for(O=0;O<I;++O)v[x+O]=u[d+O]>>8}function ce(){Vr=m,Dt=T,Mt=X,ln=ne}function ve(u,d,v){P[u]=function(x,I,O,M,F,z,K,re,he,fe,ae,be,ge,ie,oe,we,xe){var _e,Fe=xe-1>>1,Ie=F[z+0]|K[re+0]<<16,qe=he[fe+0]|ae[be+0]<<16;e(x!=null);var Re=3*Ie+qe+131074>>2;for(d(x[I+0],255&Re,Re>>16,ge,ie),O!=null&&(Re=3*qe+Ie+131074>>2,d(O[M+0],255&Re,Re>>16,oe,we)),_e=1;_e<=Fe;++_e){var _t=F[z+_e]|K[re+_e]<<16,Nt=he[fe+_e]|ae[be+_e]<<16,gt=Ie+_t+qe+Nt+524296,ft=gt+2*(_t+qe)>>3;Re=ft+Ie>>1,Ie=(gt=gt+2*(Ie+Nt)>>3)+_t>>1,d(x[I+2*_e-1],255&Re,Re>>16,ge,ie+(2*_e-1)*v),d(x[I+2*_e-0],255&Ie,Ie>>16,ge,ie+(2*_e-0)*v),O!=null&&(Re=gt+qe>>1,Ie=ft+Nt>>1,d(O[M+2*_e-1],255&Re,Re>>16,oe,we+(2*_e-1)*v),d(O[M+2*_e+0],255&Ie,Ie>>16,oe,we+(2*_e+0)*v)),Ie=_t,qe=Nt}1&xe||(Re=3*Ie+qe+131074>>2,d(x[I+xe-1],255&Re,Re>>16,ge,ie+(xe-1)*v),O!=null&&(Re=3*qe+Ie+131074>>2,d(O[M+xe-1],255&Re,Re>>16,oe,we+(xe-1)*v)))}}function Se(){Gr[gh]=SN,Gr[vh]=ny,Gr[J2]=NN,Gr[yh]=ry,Gr[wh]=iy,Gr[Hm]=sy,Gr[X2]=CN,Gr[qm]=ny,Gr[$m]=ry,Gr[_h]=iy,Gr[Vm]=sy}function je(u){return u&~EN?0>u?0:255:u>>oy}function He(u,d){return je((19077*u>>8)+(26149*d>>8)-14234)}function it(u,d,v){return je((19077*u>>8)-(6419*d>>8)-(13320*v>>8)+8708)}function tt(u,d){return je((19077*u>>8)+(33050*d>>8)-17685)}function pt(u,d,v,x,I){x[I+0]=He(u,v),x[I+1]=it(u,d,v),x[I+2]=tt(u,d)}function Vt(u,d,v,x,I){x[I+0]=tt(u,d),x[I+1]=it(u,d,v),x[I+2]=He(u,v)}function Zt(u,d,v,x,I){var O=it(u,d,v);d=O<<3&224|tt(u,d)>>3,x[I+0]=248&He(u,v)|O>>5,x[I+1]=d}function pn(u,d,v,x,I){var O=240&tt(u,d)|15;x[I+0]=240&He(u,v)|it(u,d,v)>>4,x[I+1]=O}function $n(u,d,v,x,I){x[I+0]=255,pt(u,d,v,x,I+1)}function En(u,d,v,x,I){Vt(u,d,v,x,I),x[I+3]=255}function hi(u,d,v,x,I){pt(u,d,v,x,I),x[I+3]=255}function kr(u,d){return 0>u?0:u>d?d:u}function Bi(u,d,v){P[u]=function(x,I,O,M,F,z,K,re,he){for(var fe=re+(-2&he)*v;re!=fe;)d(x[I+0],O[M+0],F[z+0],K,re),d(x[I+1],O[M+0],F[z+0],K,re+v),I+=2,++M,++z,re+=2*v;1&he&&d(x[I+0],O[M+0],F[z+0],K,re)}}function uh(u,d,v){return v==0?u==0?d==0?6:5:d==0?4:0:v}function Uu(u,d,v,x,I){switch(u>>>30){case 3:ls(d,v,x,I,0);break;case 2:an(d,v,x,I);break;case 1:rr(d,v,x,I)}}function zu(u,d){var v,x,I=d.M,O=d.Nb,M=u.oc,F=u.pc+40,z=u.oc,K=u.pc+584,re=u.oc,he=u.pc+600;for(v=0;16>v;++v)M[F+32*v-1]=129;for(v=0;8>v;++v)z[K+32*v-1]=129,re[he+32*v-1]=129;for(0<I?M[F-1-32]=z[K-1-32]=re[he-1-32]=129:(i(M,F-32-1,127,21),i(z,K-32-1,127,9),i(re,he-32-1,127,9)),x=0;x<u.za;++x){var fe=d.ya[d.aa+x];if(0<x){for(v=-1;16>v;++v)r(M,F+32*v-4,M,F+32*v+12,4);for(v=-1;8>v;++v)r(z,K+32*v-4,z,K+32*v+4,4),r(re,he+32*v-4,re,he+32*v+4,4)}var ae=u.Gd,be=u.Hd+x,ge=fe.ad,ie=fe.Hc;if(0<I&&(r(M,F-32,ae[be].y,0,16),r(z,K-32,ae[be].f,0,8),r(re,he-32,ae[be].ea,0,8)),fe.Za){var oe=M,we=F-32+16;for(0<I&&(x>=u.za-1?i(oe,we,ae[be].y[15],4):r(oe,we,ae[be+1].y,0,4)),v=0;4>v;v++)oe[we+128+v]=oe[we+256+v]=oe[we+384+v]=oe[we+0+v];for(v=0;16>v;++v,ie<<=2)oe=M,we=F+ly[v],fi[fe.Ob[v]](oe,we),Uu(ie,ge,16*+v,oe,we)}else if(oe=uh(x,I,fe.Ob[0]),Hs[oe](M,F),ie!=0)for(v=0;16>v;++v,ie<<=2)Uu(ie,ge,16*+v,M,F+ly[v]);for(v=fe.Gc,oe=uh(x,I,fe.Dd),cs[oe](z,K),cs[oe](re,he),ie=ge,oe=z,we=K,255&(fe=v>>0)&&(170&fe?Vu(ie,256,oe,we):qr(ie,256,oe,we)),fe=re,ie=he,255&(v>>=8)&&(170&v?Vu(ge,320,fe,ie):qr(ge,320,fe,ie)),I<u.Ub-1&&(r(ae[be].y,0,M,F+480,16),r(ae[be].f,0,z,K+224,8),r(ae[be].ea,0,re,he+224,8)),v=8*O*u.B,ae=u.sa,be=u.ta+16*x+16*O*u.R,ge=u.qa,fe=u.ra+8*x+v,ie=u.Ha,oe=u.Ia+8*x+v,v=0;16>v;++v)r(ae,be+v*u.R,M,F+32*v,16);for(v=0;8>v;++v)r(ge,fe+v*u.B,z,K+32*v,8),r(ie,oe+v*u.B,re,he+32*v,8)}}function ol(u,d,v,x,I,O,M,F,z){var K=[0],re=[0],he=0,fe=z!=null?z.kd:0,ae=z??new Mu;if(u==null||12>v)return 7;ae.data=u,ae.w=d,ae.ha=v,d=[d],v=[v],ae.gb=[ae.gb];e:{var be=d,ge=v,ie=ae.gb;if(e(u!=null),e(ge!=null),e(ie!=null),ie[0]=0,12<=ge[0]&&!n(u,be[0],"RIFF")){if(n(u,be[0]+8,"WEBP")){ie=3;break e}var oe=Le(u,be[0]+4);if(12>oe||4294967286<oe){ie=3;break e}if(fe&&oe>ge[0]-8){ie=7;break e}ie[0]=oe,be[0]+=12,ge[0]-=12}ie=0}if(ie!=0)return ie;for(oe=0<ae.gb[0],v=v[0];;){e:{var we=u;ge=d,ie=v;var xe=K,_e=re,Fe=be=[0];if((Re=he=[he])[0]=0,8>ie[0])ie=7;else{if(!n(we,ge[0],"VP8X")){if(Le(we,ge[0]+4)!=10){ie=3;break e}if(18>ie[0]){ie=7;break e}var Ie=Le(we,ge[0]+8),qe=1+Te(we,ge[0]+12);if(2147483648<=qe*(we=1+Te(we,ge[0]+15))){ie=3;break e}Fe!=null&&(Fe[0]=Ie),xe!=null&&(xe[0]=qe),_e!=null&&(_e[0]=we),ge[0]+=18,ie[0]-=18,Re[0]=1}ie=0}}if(he=he[0],be=be[0],ie!=0)return ie;if(ge=!!(2&be),!oe&&he)return 3;if(O!=null&&(O[0]=!!(16&be)),M!=null&&(M[0]=ge),F!=null&&(F[0]=0),M=K[0],be=re[0],he&&ge&&z==null){ie=0;break}if(4>v){ie=7;break}if(oe&&he||!oe&&!he&&!n(u,d[0],"ALPH")){v=[v],ae.na=[ae.na],ae.P=[ae.P],ae.Sa=[ae.Sa];e:{Ie=u,ie=d,oe=v;var Re=ae.gb;xe=ae.na,_e=ae.P,Fe=ae.Sa,qe=22,e(Ie!=null),e(oe!=null),we=ie[0];var _t=oe[0];for(e(xe!=null),e(Fe!=null),xe[0]=null,_e[0]=null,Fe[0]=0;;){if(ie[0]=we,oe[0]=_t,8>_t){ie=7;break e}var Nt=Le(Ie,we+4);if(4294967286<Nt){ie=3;break e}var gt=8+Nt+1&-2;if(qe+=gt,0<Re&&qe>Re){ie=3;break e}if(!n(Ie,we,"VP8 ")||!n(Ie,we,"VP8L")){ie=0;break e}if(_t[0]<gt){ie=7;break e}n(Ie,we,"ALPH")||(xe[0]=Ie,_e[0]=we+8,Fe[0]=Nt),we+=gt,_t-=gt}}if(v=v[0],ae.na=ae.na[0],ae.P=ae.P[0],ae.Sa=ae.Sa[0],ie!=0)break}v=[v],ae.Ja=[ae.Ja],ae.xa=[ae.xa];e:if(Re=u,ie=d,oe=v,xe=ae.gb[0],_e=ae.Ja,Fe=ae.xa,Ie=ie[0],we=!n(Re,Ie,"VP8 "),qe=!n(Re,Ie,"VP8L"),e(Re!=null),e(oe!=null),e(_e!=null),e(Fe!=null),8>oe[0])ie=7;else{if(we||qe){if(Re=Le(Re,Ie+4),12<=xe&&Re>xe-12){ie=3;break e}if(fe&&Re>oe[0]-8){ie=7;break e}_e[0]=Re,ie[0]+=8,oe[0]-=8,Fe[0]=qe}else Fe[0]=5<=oe[0]&&Re[Ie+0]==47&&!(Re[Ie+4]>>5),_e[0]=oe[0];ie=0}if(v=v[0],ae.Ja=ae.Ja[0],ae.xa=ae.xa[0],d=d[0],ie!=0)break;if(4294967286<ae.Ja)return 3;if(F==null||ge||(F[0]=ae.xa?2:1),M=[M],be=[be],ae.xa){if(5>v){ie=7;break}F=M,fe=be,ge=O,u==null||5>v?u=0:5<=v&&u[d+0]==47&&!(u[d+4]>>5)?(oe=[0],Re=[0],xe=[0],U(_e=new C,u,d,v),Ve(_e,oe,Re,xe)?(F!=null&&(F[0]=oe[0]),fe!=null&&(fe[0]=Re[0]),ge!=null&&(ge[0]=xe[0]),u=1):u=0):u=0}else{if(10>v){ie=7;break}F=be,u==null||10>v||!Yd(u,d+3,v-3)?u=0:(fe=u[d+0]|u[d+1]<<8|u[d+2]<<16,ge=16383&(u[d+7]<<8|u[d+6]),u=16383&(u[d+9]<<8|u[d+8]),1&fe||3<(fe>>1&7)||!(fe>>4&1)||fe>>5>=ae.Ja||!ge||!u?u=0:(M&&(M[0]=ge),F&&(F[0]=u),u=1))}if(!u||(M=M[0],be=be[0],he&&(K[0]!=M||re[0]!=be)))return 3;z!=null&&(z[0]=ae,z.offset=d-z.w,e(4294967286>d-z.w),e(z.offset==z.ha-v));break}return ie==0||ie==7&&he&&z==null?(O!=null&&(O[0]|=ae.na!=null&&0<ae.na.length),x!=null&&(x[0]=M),I!=null&&(I[0]=be),0):ie}function Wu(u,d,v){var x=d.width,I=d.height,O=0,M=0,F=x,z=I;if(d.Da=u!=null&&0<u.Da,d.Da&&(F=u.cd,z=u.bd,O=u.v,M=u.j,11>v||(O&=-2,M&=-2),0>O||0>M||0>=F||0>=z||O+F>x||M+z>I))return 0;if(d.v=O,d.j=M,d.va=O+F,d.o=M+z,d.U=F,d.T=z,d.da=u!=null&&0<u.da,d.da){if(!rt(F,z,v=[u.ib],O=[u.hb]))return 0;d.ib=v[0],d.hb=O[0]}return d.ob=u!=null&&u.ob,d.Kb=u==null||!u.Sd,d.da&&(d.ob=d.ib<3*x/4&&d.hb<3*I/4,d.Kb=0),1}function Hu(u){if(u==null)return 2;if(11>u.S){var d=u.f.RGBA;d.fb+=(u.height-1)*d.A,d.A=-d.A}else d=u.f.kb,u=u.height,d.O+=(u-1)*d.fa,d.fa=-d.fa,d.N+=(u-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(u-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(u-1)*d.lb,d.lb=-d.lb);return 0}function al(u,d,v,x){if(x==null||0>=u||0>=d)return 2;if(v!=null){if(v.Da){var I=v.cd,O=v.bd,M=-2&v.v,F=-2&v.j;if(0>M||0>F||0>=I||0>=O||M+I>u||F+O>d)return 2;u=I,d=O}if(v.da){if(!rt(u,d,I=[v.ib],O=[v.hb]))return 2;u=I[0],d=O[0]}}x.width=u,x.height=d;e:{var z=x.width,K=x.height;if(u=x.S,0>=z||0>=K||!(u>=gh&&13>u))u=2;else{if(0>=x.Rd&&x.sd==null){M=O=I=d=0;var re=(F=z*uy[u])*K;if(11>u||(O=(K+1)/2*(d=(z+1)/2),u==12&&(M=(I=z)*K)),(K=s(re+2*O+M))==null){u=1;break e}x.sd=K,11>u?((z=x.f.RGBA).eb=K,z.fb=0,z.A=F,z.size=re):((z=x.f.kb).y=K,z.O=0,z.fa=F,z.Fd=re,z.f=K,z.N=0+re,z.Ab=d,z.Cd=O,z.ea=K,z.W=0+re+O,z.Db=d,z.Ed=O,u==12&&(z.F=K,z.J=0+re+2*O),z.Tc=M,z.lb=I)}if(d=1,I=x.S,O=x.width,M=x.height,I>=gh&&13>I)if(11>I)u=x.f.RGBA,d&=(F=Math.abs(u.A))*(M-1)+O<=u.size,d&=F>=O*uy[I],d&=u.eb!=null;else{u=x.f.kb,F=(O+1)/2,re=(M+1)/2,z=Math.abs(u.fa),K=Math.abs(u.Ab);var he=Math.abs(u.Db),fe=Math.abs(u.lb),ae=fe*(M-1)+O;d&=z*(M-1)+O<=u.Fd,d&=K*(re-1)+F<=u.Cd,d=(d&=he*(re-1)+F<=u.Ed)&z>=O&K>=F&he>=F,d&=u.y!=null,d&=u.f!=null,d&=u.ea!=null,I==12&&(d&=fe>=O,d&=ae<=u.Tc,d&=u.F!=null)}else d=0;u=d?0:2}}return u!=0||v!=null&&v.fd&&(u=Hu(x)),u}var Dn=64,ll=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ul=24,cl=32,qu=8,mr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(u){return u},P.Predictor2=function(u,d,v){return d[v+0]},P.Predictor3=function(u,d,v){return d[v+1]},P.Predictor4=function(u,d,v){return d[v-1]},P.Predictor5=function(u,d,v){return Oe(Oe(u,d[v+1]),d[v+0])},P.Predictor6=function(u,d,v){return Oe(u,d[v-1])},P.Predictor7=function(u,d,v){return Oe(u,d[v+0])},P.Predictor8=function(u,d,v){return Oe(d[v-1],d[v+0])},P.Predictor9=function(u,d,v){return Oe(d[v+0],d[v+1])},P.Predictor10=function(u,d,v){return Oe(Oe(u,d[v-1]),Oe(d[v+0],d[v+1]))},P.Predictor11=function(u,d,v){var x=d[v+0];return 0>=ot(x>>24&255,u>>24&255,(d=d[v-1])>>24&255)+ot(x>>16&255,u>>16&255,d>>16&255)+ot(x>>8&255,u>>8&255,d>>8&255)+ot(255&x,255&u,255&d)?x:u},P.Predictor12=function(u,d,v){var x=d[v+0];return(We((u>>24&255)+(x>>24&255)-((d=d[v-1])>>24&255))<<24|We((u>>16&255)+(x>>16&255)-(d>>16&255))<<16|We((u>>8&255)+(x>>8&255)-(d>>8&255))<<8|We((255&u)+(255&x)-(255&d)))>>>0},P.Predictor13=function(u,d,v){var x=d[v-1];return(Ze((u=Oe(u,d[v+0]))>>24&255,x>>24&255)<<24|Ze(u>>16&255,x>>16&255)<<16|Ze(u>>8&255,x>>8&255)<<8|Ze(u>>0&255,x>>0&255))>>>0};var zm=P.PredictorAdd0;P.PredictorAdd1=at,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var $u=P.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var ch,Hr=P.ColorIndexInverseTransform,dl=P.MapARGB,dh=P.VP8LColorIndexInverseTransformAlpha,hh=P.MapAlpha,Bs=P.VP8LPredictorsAdd=[];Bs.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var ea,gr,nr,Us,os,as,hl,ls,an,Vu,rr,qr,fl,fh,Yu,ta,na,zs,ra,pl,ia,Ws,Gu,$r,Vr,Dt,Mt,ln,_n=s(511),us=s(2041),Ku=s(225),ml=s(767),ph=0,Wm=us,mh=Ku,Ar=ml,Yr=_n,gh=0,vh=1,J2=2,yh=3,wh=4,Hm=5,X2=6,qm=7,$m=8,_h=9,Vm=10,uN=[2,3,7],cN=[3,3,11],Z2=[280,256,256,256,40],dN=[0,1,1,1,0],hN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],pN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mN=8,Ym=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Gm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qu=null,gN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],vN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ey=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],wN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_N=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],bN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Hs=[],fi=[],cs=[],xN=1,ty=2,qs=[],Gr=[];ve("UpsampleRgbLinePair",pt,3),ve("UpsampleBgrLinePair",Vt,3),ve("UpsampleRgbaLinePair",hi,4),ve("UpsampleBgraLinePair",En,4),ve("UpsampleArgbLinePair",$n,4),ve("UpsampleRgba4444LinePair",pn,2),ve("UpsampleRgb565LinePair",Zt,2);var SN=P.UpsampleRgbLinePair,NN=P.UpsampleBgrLinePair,ny=P.UpsampleRgbaLinePair,ry=P.UpsampleBgraLinePair,iy=P.UpsampleArgbLinePair,sy=P.UpsampleRgba4444LinePair,CN=P.UpsampleRgb565LinePair,bh=16,xh=1<<bh-1,Ju=-227,Km=482,oy=6,EN=(256<<oy)-1,ay=0,kN=s(256),AN=s(256),PN=s(256),IN=s(256),TN=s(Km-Ju),LN=s(Km-Ju);Bi("YuvToRgbRow",pt,3),Bi("YuvToBgrRow",Vt,3),Bi("YuvToRgbaRow",hi,4),Bi("YuvToBgraRow",En,4),Bi("YuvToArgbRow",$n,4),Bi("YuvToRgba4444Row",pn,2),Bi("YuvToRgb565Row",Zt,2);var ly=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sh=[0,2,8],RN=[8,7,6,4,4,2,2,2,1,1,1,1],ON=1;this.WebPDecodeRGBA=function(u,d,v,x,I){var O=vh,M=new il,F=new si;M.ba=F,F.S=O,F.width=[F.width],F.height=[F.height];var z=F.width,K=F.height,re=new ns;if(re==null||u==null)var he=2;else e(re!=null),he=ol(u,d,v,re.width,re.height,re.Pd,re.Qd,re.format,null);if(he!=0?z=0:(z!=null&&(z[0]=re.width[0]),K!=null&&(K[0]=re.height[0]),z=1),z){F.width=F.width[0],F.height=F.height[0],x!=null&&(x[0]=F.width),I!=null&&(I[0]=F.height);e:{if(x=new Ja,(I=new Mu).data=u,I.w=d,I.ha=v,I.kd=1,d=[0],e(I!=null),((u=ol(I.data,I.w,I.ha,null,null,null,d,null,I))==0||u==7)&&d[0]&&(u=4),(d=u)==0){if(e(M!=null),x.data=I.data,x.w=I.w+I.offset,x.ha=I.ha-I.offset,x.put=Li,x.ac=On,x.bc=Ri,x.ma=M,I.xa){if((u=Wr())==null){M=1;break e}if(function(fe,ae){var be=[0],ge=[0],ie=[0];t:for(;;){if(fe==null)return 0;if(ae==null)return fe.a=2,0;if(fe.l=ae,fe.a=0,U(fe.m,ae.data,ae.w,ae.ha),!Ve(fe.m,be,ge,ie)){fe.a=3;break t}if(fe.xb=ty,ae.width=be[0],ae.height=ge[0],!Mi(be[0],ge[0],1,fe,null))break t;return 1}return e(fe.a!=0),0}(u,x)){if(x=(d=al(x.width,x.height,M.Oa,M.ba))==0){t:{x=u;n:for(;;){if(x==null){x=0;break t}if(e(x.s.yc!=null),e(x.s.Ya!=null),e(0<x.s.Wb),e((v=x.l)!=null),e((I=v.ma)!=null),x.xb!=0){if(x.ca=I.ba,x.tb=I.tb,e(x.ca!=null),!Wu(I.Oa,v,yh)){x.a=2;break n}if(!Ko(x,v.width)||v.da)break n;if((v.da||xt(x.ca.S))&&ce(),11>x.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),x.ca.f.kb.F!=null&&ce()),x.Pb&&0<x.s.ua&&x.s.vb.X==null&&!Ye(x.s.vb,x.s.Wa.Xa)){x.a=1;break n}x.xb=0}if(!ui(x,x.V,x.Ba,x.c,x.i,v.o,$a))break n;I.Dc=x.Ma,x=1;break t}e(x.a!=0),x=0}x=!x}x&&(d=u.a)}else d=u.a}else{if((u=new xm)==null){M=1;break e}if(u.Fa=I.na,u.P=I.P,u.qc=I.Sa,Gd(u,x)){if((d=al(x.width,x.height,M.Oa,M.ba))==0){if(u.Aa=0,v=M.Oa,e((I=u)!=null),v!=null){if(0<(z=0>(z=v.Md)?0:100<z?255:255*z/100)){for(K=re=0;4>K;++K)12>(he=I.pb[K]).lc&&(he.ia=z*RN[0>he.lc?0:he.lc]>>3),re|=he.ia;re&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=v.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}Sm(u,x)||(d=u.a)}}else d=u.a}d==0&&M.Oa!=null&&M.Oa.fd&&(d=Hu(M.ba))}M=d}O=M!=0?null:11>O?F.f.RGBA.eb:F.f.kb.y}else O=null;return O};var uy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(P,q){for(var $="",A=0;A<4;A++)$+=String.fromCharCode(P[q++]);return $}function f(P,q){return(P[q+0]<<0|P[q+1]<<8|P[q+2]<<16)>>>0}function h(P,q){return(P[q+0]<<0|P[q+1]<<8|P[q+2]<<16|P[q+3]<<24)>>>0}new l;var g=[0],p=[0],b=[],S=new l,N=t,w=function(P,q){var $={},A=0,k=!1,V=0,G=0;if($.frames=[],!function(j,W,J,Z){for(var le=0;le<Z;le++)if(j[W+le]!=J.charCodeAt(le))return!0;return!1}(P,q,"RIFF",4)){var se,Q;for(h(P,q+=4),q+=8;q<P.length;){var Y=c(P,q),U=h(P,q+=4);q+=4;var H=U+(1&U);switch(Y){case"VP8 ":case"VP8L":$.frames[A]===void 0&&($.frames[A]={}),(C=$.frames[A]).src_off=k?G:q-8,C.src_size=V+U+8,A++,k&&(k=!1,V=0,G=0);break;case"VP8X":(C=$.header={}).feature_flags=P[q];var te=q+4;C.canvas_width=1+f(P,te),te+=3,C.canvas_height=1+f(P,te),te+=3;break;case"ALPH":k=!0,V=H+8,G=q-8;break;case"ANIM":(C=$.header).bgcolor=h(P,q),te=q+4,C.loop_count=(se=P)[(Q=te)+0]<<0|se[Q+1]<<8,te+=2;break;case"ANMF":var ue,C;(C=$.frames[A]={}).offset_x=2*f(P,q),q+=3,C.offset_y=2*f(P,q),q+=3,C.width=1+f(P,q),q+=3,C.height=1+f(P,q),q+=3,C.duration=f(P,q),q+=3,ue=P[q++],C.dispose=1&ue,C.blend=ue>>1&1}Y!="ANMF"&&(q+=H)}return $}}(N,0);w.response=N,w.rgbaoutput=!0,w.dataurl=!1;var y=w.header?w.header:null,_=w.frames?w.frames:null;if(y){y.loop_counter=y.loop_count,g=[y.canvas_height],p=[y.canvas_width];for(var E=0;E<_.length&&_[E].blend!=0;E++);}var D=_[0],B=S.WebPDecodeRGBA(N,D.src_off,D.src_size,p,g);D.rgba=B,D.imgwidth=p[0],D.imgheight=g[0];for(var R=0;R<p[0]*g[0]*4;R++)b[R]=B[R];return this.width=p,this.height=g,this.data=b,this}(function(t){var e=function(){return typeof W1=="function"},n=function(g,p,b,S){var N=4,w=o;switch(S){case t.image_compression.FAST:N=1,w=s;break;case t.image_compression.MEDIUM:N=6,w=a;break;case t.image_compression.SLOW:N=9,w=l}g=r(g,p,b,w);var y=W1(g,{level:N});return t.__addimage__.arrayBufferToBinaryString(y)},r=function(g,p,b,S){for(var N,w,y,_=g.length/p,E=new Uint8Array(g.length+_),D=f(),B=0;B<_;B+=1){if(y=B*p,N=g.subarray(y,y+p),S)E.set(S(N,b,w),y+B);else{for(var R,P=D.length,q=[];R<P;R+=1)q[R]=D[R](N,b,w);var $=h(q.concat());E.set(q[$],y+B)}w=N}return E},i=function(g){var p=Array.apply([],g);return p.unshift(0),p},s=function(g,p){var b,S=[],N=g.length;S[0]=1;for(var w=0;w<N;w+=1)b=g[w-p]||0,S[w+1]=g[w]-b+256&255;return S},o=function(g,p,b){var S,N=[],w=g.length;N[0]=2;for(var y=0;y<w;y+=1)S=b&&b[y]||0,N[y+1]=g[y]-S+256&255;return N},a=function(g,p,b){var S,N,w=[],y=g.length;w[0]=3;for(var _=0;_<y;_+=1)S=g[_-p]||0,N=b&&b[_]||0,w[_+1]=g[_]+256-(S+N>>>1)&255;return w},l=function(g,p,b){var S,N,w,y,_=[],E=g.length;_[0]=4;for(var D=0;D<E;D+=1)S=g[D-p]||0,N=b&&b[D]||0,w=b&&b[D-p]||0,y=c(S,N,w),_[D+1]=g[D]-y+256&255;return _},c=function(g,p,b){if(g===p&&p===b)return g;var S=Math.abs(p-b),N=Math.abs(g-b),w=Math.abs(g+p-b-b);return S<=N&&S<=w?g:N<=w?p:b},f=function(){return[i,s,o,a,l]},h=function(g){var p=g.map(function(b){return b.reduce(function(S,N){return S+Math.abs(N)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(g,p,b,S){var N,w,y,_,E,D,B,R,P,q,$,A,k,V,G,se=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(y=new nj(g)).imgData,w=y.bits,N=y.colorSpace,E=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){P=(R=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,$=new Uint8Array(P*y.colors),q=new Uint8Array(P);var Y,U=y.pixelBitlength-y.bits;for(V=0,G=0;V<P;V++){for(k=R[V],Y=0;Y<U;)$[G++]=k>>>Y&255,Y+=y.bits;q[V]=k>>>Y&255}}if(y.bits===16){P=(R=new Uint32Array(y.decodePixels().buffer)).length,$=new Uint8Array(P*(32/y.pixelBitlength)*y.colors),q=new Uint8Array(P*(32/y.pixelBitlength)),A=y.colors>1,V=0,G=0;for(var H=0;V<P;)k=R[V++],$[G++]=k>>>0&255,A&&($[G++]=k>>>16&255,k=R[V++],$[G++]=k>>>0&255),q[H++]=k>>>16&255;w=8}S!==t.image_compression.NONE&&e()?(g=n($,y.width*y.colors,y.colors,S),B=n(q,y.width,1,S)):(g=$,B=q,se=void 0)}if(y.colorType===3&&(N=this.color_spaces.INDEXED,D=y.palette,y.transparency.indexed)){var te=y.transparency.indexed,ue=0;for(V=0,P=te.length;V<P;++V)ue+=te[V];if((ue/=255)===P-1&&te.indexOf(0)!==-1)_=[te.indexOf(0)];else if(ue!==P){for(R=y.decodePixels(),q=new Uint8Array(R.length),V=0,P=R.length;V<P;V++)q[V]=te[R[V]];B=n(q,y.width,1)}}var C=function(j){var W;switch(j){case t.image_compression.FAST:W=11;break;case t.image_compression.MEDIUM:W=13;break;case t.image_compression.SLOW:W=14;break;default:W=12}return W}(S);return se===this.decode.FLATE_DECODE&&(Q="/Predictor "+C+" "),Q+="/Colors "+E+" /BitsPerComponent "+w+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(B&&this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),{alias:b,data:g,index:p,filter:se,decodeParameters:Q,transparency:_,palette:D,sMask:B,predictor:C,width:y.width,height:y.height,bitsPerComponent:w,colorSpace:N}}}})($e.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new rj(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},f=new a0(100).encode(c,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A}($e.API),vi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Ot.log("bit decode error:"+n)}},vi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},vi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},vi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},vi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=c}this.pos+=t}},vi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=255}this.pos+=t}},vi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},vi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},vi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new vi(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new a0(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}($e.API),M_.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new M_(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new a0(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}($e.API),$e.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var f=r[c],h=r[c+1],g=r[c+2],p=r[c+3];s[a++]=f,s[a++]=h,s[a++]=g,o[l++]=p}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},$e.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Cl=$e.API,af=Cl.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=c.fof?c.fof:1,h=e.doKerning!==!1,g=0,p=t.length,b=0,S=a[0]||l,N=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=h&&bt(c[r])==="object"&&!isNaN(parseInt(c[r][b],10))?c[r][b]/f:0,N.push((a[r]||S)/l+g)),b=r;return N},L_=Cl.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Cl.processArabic&&(t=Cl.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:af.apply(this,arguments).reduce(function(s,o){return s+o},0)},R_=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},O_=function(t,e,n){n||(n={});var r,i,s,o,a,l,c,f=[],h=[f],g=n.textIndent||0,p=0,b=0,S=t.split(" "),N=af.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),y=[];S.map(function(E){(E=E.split(/\s*\n/)).length>1?y=y.concat(E.map(function(D,B){return(B&&D.length?`
`:"")+D})):y.push(E[0])}),S=y,l=L_.apply(this,[w,n])}for(s=0,o=S.length;s<o;s++){var _=0;if(r=S[s],l&&r[0]==`
`&&(r=r.substr(1),_=1),g+p+(b=(i=af.apply(this,[r,n])).reduce(function(E,D){return E+D},0))>e||_){if(b>e){for(a=R_.apply(this,[r,i,e-(g+p),e]),f.push(a.shift()),f=[a.pop()];a.length;)h.push([a.shift()]);b=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(E,D){return E+D},0)}else f=[r];h.push(f),g=b+l,p=N}else f.push(r),g+=p+b,p=N}return c=l?function(E,D){return(D?w:"")+E.join(" ")}:function(E){return E.join(" ")},h.map(c)},Cl.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(O_.apply(this,[r[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var g,p,b,S,N=["{"];for(var w in h){if(g=h[w],isNaN(parseInt(w,10))?p="'"+w+"'":(w=parseInt(w,10),p=(p=s(w).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof g=="number")g<0?(b=s(g).slice(3),S="-"):(b=s(g).slice(2),S=""),b=S+b.slice(0,-1)+r[b.slice(-1)];else{if(bt(g)!=="object")throw new Error("Don't know what to do with value type "+bt(g)+".");b=o(g)}N.push(p+b)}return N.push("}"),N.join("")},a=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,p,b,S,N={},w=1,y=N,_=[],E="",D="",B=h.length-1,R=1;R<B;R+=1)(S=h[R])=="'"?g?(b=g.join(""),g=void 0):g=[]:g?g.push(S):S=="{"?(_.push([y,b]),y={},b=void 0):S=="}"?((p=_.pop())[0][p[1]]=y,b=void 0,y=p[0]):S=="-"?w=-1:b===void 0?n.hasOwnProperty(S)?(E+=n[S],b=parseInt(E,16)*w,w=1,E=""):E+=S:n.hasOwnProperty(S)?(D+=n[S],y[b]=parseInt(D,16)*w,w=1,b=void 0,D=""):D+=S;return N},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},f={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var g=h.font,p=f.Unicode[g.postScriptName];p&&(g.metadata.Unicode={},g.metadata.Unicode.widths=p.widths,g.metadata.Unicode.kerning=p.kerning);var b=c.Unicode[g.postScriptName];b&&(g.metadata.Unicode.encoding=b,g.encoding=b.codePages[0])}])}($e.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Bc(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}($e),function(t){function e(){return(Ge.canvg?Promise.resolve(Ge.canvg):j1(()=>import("./index.es-BixtGa-N.js"),[],import.meta.url)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}$e.API.addSvgAsImage=function(n,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw Ot.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Ot.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=o;var h=f.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(b){return b.fromString(h,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(g)}).then(function(){p.addImage(f.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),$e.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},$e.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,f=0,h=0;function g(b,S){var N,w=!1;for(N=0;N<b.length;N+=1)b[N]===S&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(h=0;h<p;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(bt(t)==="object"){for(i in t)if(s=t[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(f=0;f<s[c].length;f+=1)typeof s[c][f]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,S=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?S.push("/"+b+" /"+n[b].value):S.push("/"+b+" "+n[b].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}($e.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],f=[""],h=0,g=s.length;h<g;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(c[4-a.length],a)}return f.join("")},r=function(s){var o,a,l,c,f,h,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,g=(a=Object.keys(s).sort(function(p,b){return p-b})).length;h<g;h++)o=a[h],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",b=0;b<g.length;b++)p+=String.fromCharCode(g[b]);var S=c();f({data:p,addLength1:!0,objectId:S}),l("endobj");var N=c();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+kl(a.fontName)),l("/FontFile2 "+S+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+kl(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+N+" 0 R"),l("/BaseFont /"+kl(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,g="",p=0;p<h.length;p++)g+=String.fromCharCode(h[p]);var b=c();f({data:g,addLength1:!0,objectId:b}),l("endobj");var S=c();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var N=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+kl(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+kl(a.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,f=s.options||{},h=s.mutex||{},g=h.pdfEscape,p=h.activeFontKey,b=h.fonts,S=p,N="",w=0,y="",_=b[S].encoding;if(b[S].encoding!=="Identity-H")return{text:a,x:l,y:c,options:f,mutex:h};for(y=a,S=p,Array.isArray(a)&&(y=a[0]),w=0;w<y.length;w+=1)b[S].metadata.hasOwnProperty("cmap")&&(o=b[S].metadata.cmap.unicode.codeMap[y[w].charCodeAt(0)]),o||y[w].charCodeAt(0)<256&&b[S].metadata.hasOwnProperty("Unicode")?N+=y[w]:N+="";var E="";return parseInt(S.slice(1))<14||_==="WinAnsiEncoding"?E=g(N,S).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(E=n(N,b[S])),h.isHex=!0,{text:E,x:l,y:c,options:f,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}($e),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}($e.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,f,h=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,_=0;this.__bidiEngine__={};var E=function(A){var k=A.charCodeAt(),V=k>>8,G=S[V];return G!==void 0?h[256*G+(255&k)]:V===252||V===253?"AL":w.test(V)?"L":V===8?"R":"N"},D=function(A){for(var k,V=0;V<A.length;V++){if((k=E(A.charAt(V)))==="L")return!1;if(k==="R")return!0}return!1},B=function(A,k,V,G){var se,Q,Y,U,H=k[G];switch(H){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(H="AN");break;case"AL":y=!0,H="R";break;case"WS":H="N";break;case"CS":G<1||G+1>=k.length||(se=V[G-1])!=="EN"&&se!=="AN"||(Q=k[G+1])!=="EN"&&Q!=="AN"?H="N":y&&(Q="AN"),H=Q===se?Q:"N";break;case"ES":H=(se=G>0?V[G-1]:"B")==="EN"&&G+1<k.length&&k[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&V[G-1]==="EN"){H="EN";break}if(y){H="N";break}for(Y=G+1,U=k.length;Y<U&&k[Y]==="ET";)Y++;H=Y<U&&k[Y]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(U=k.length,Y=G+1;Y<U&&k[Y]==="NSM";)Y++;if(Y<U){var te=A[G],ue=te>=1425&&te<=2303||te===64286;if(se=k[Y],ue&&(se==="R"||se==="AL")){H="R";break}}}H=G<1||(se=k[G-1])==="B"?"N":V[G-1];break;case"B":y=!1,i=!0,H=_;break;case"S":s=!0,H="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":H="N"}return H},R=function(A,k,V){var G=A.split("");return V&&P(G,V,{hiLevel:_}),G.reverse(),k&&k.reverse(),G.join("")},P=function(A,k,V){var G,se,Q,Y,U,H=-1,te=A.length,ue=0,C=[],j=_?p:g,W=[];for(y=!1,i=!1,s=!1,se=0;se<te;se++)W[se]=E(A[se]);for(Q=0;Q<te;Q++){if(U=ue,C[Q]=B(A,W,C,Q),G=240&(ue=j[U][b[C[Q]]]),ue&=15,k[Q]=Y=j[ue][5],G>0)if(G===16){for(se=H;se<Q;se++)k[se]=1;H=-1}else H=-1;if(j[ue][6])H===-1&&(H=Q);else if(H>-1){for(se=H;se<Q;se++)k[se]=Y;H=-1}W[Q]==="B"&&(k[Q]=0),V.hiLevel|=Y}s&&function(J,Z,le){for(var de=0;de<le;de++)if(J[de]==="S"){Z[de]=_;for(var pe=de-1;pe>=0&&J[pe]==="WS";pe--)Z[pe]=_}}(W,k,te)},q=function(A,k,V,G,se){if(!(se.hiLevel<A)){if(A===1&&_===1&&!i)return k.reverse(),void(V&&V.reverse());for(var Q,Y,U,H,te=k.length,ue=0;ue<te;){if(G[ue]>=A){for(U=ue+1;U<te&&G[U]>=A;)U++;for(H=ue,Y=U-1;H<Y;H++,Y--)Q=k[H],k[H]=k[Y],k[Y]=Q,V&&(Q=V[H],V[H]=V[Y],V[Y]=Q);ue=U}ue++}}},$=function(A,k,V){var G=A.split(""),se={hiLevel:_};return V||(V=[]),P(G,V,se),function(Q,Y,U){if(U.hiLevel!==0&&f)for(var H,te=0;te<Q.length;te++)Y[te]===1&&(H=N.indexOf(Q[te]))>=0&&(Q[te]=N[H+1])}(G,V,se),q(2,G,k,V,se),q(1,G,k,V,se),G.join("")};return this.__bidiEngine__.doBidiReorder=function(A,k,V){if(function(se,Q){if(Q)for(var Y=0;Y<se.length;Y++)Q[Y]=Y;a===void 0&&(a=D(se)),c===void 0&&(c=D(se))}(A,k),o||!l||c)if(o&&l&&a^c)_=a?1:0,A=R(A,k,V);else if(!o&&l&&c)_=a?1:0,A=$(A,k,V),A=R(A,k);else if(!o||a||l||c){if(o&&!l&&a^c)A=R(A,k),a?(_=0,A=$(A,k,V)):(_=1,A=$(A,k,V),A=R(A,k));else if(o&&a&&!l&&c)_=1,A=$(A,k,V),A=R(A,k);else if(!o&&!l&&a^c){var G=f;a?(_=1,A=$(A,k,V),_=0,f=!1,A=$(A,k,V),f=G):(_=0,A=$(A,k,V),A=R(A,k),_=1,f=!1,A=$(A,k,V),f=G,A=R(A,k))}}else _=0,A=$(A,k,V);else _=a?1:0,A=$(A,k,V);return A},this.__bidiEngine__.setOptions=function(A){A&&(o=A.isInputVisual,l=A.isOutputVisual,a=A.isInputRtl,c=A.isOutputRtl,f=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}($e),$e.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Uo(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new yj(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new ij(this.contents),this.head=new oj(this),this.name=new dj(this),this.cmap=new aN(this),this.toUnicode={},this.hhea=new aj(this),this.maxp=new hj(this),this.hmtx=new fj(this),this.post=new uj(this),this.os2=new lj(this),this.loca=new vj(this),this.glyf=new pj(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Ii,Uo=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),ij=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,c,f,h,g,p,b,S;for(S in p=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(p)/l),o=Math.floor(h/l),f=16*p-h,(i=new Uo).writeInt(this.scalarType),i.writeShort(p),i.writeShort(h),i.writeShort(o),i.writeShort(f),s=16*p,c=i.pos+s,a=null,b=[],n)for(g=n[S],i.writeString(S),i.writeInt(t(g)),i.writeInt(c),i.writeInt(g.length),b=b.concat(g),S==="head"&&(a=c),c+=g.length;c%4;)b.push(0),c++;return i.write(b),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=lN.call(n);n.length%4;)n.push(0);for(s=new Uo(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),sj={}.hasOwnProperty,ts=function(t,e){for(var n in e)sj.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Ii=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var oj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Ii),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Uo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),j_=function(){function t(e,n){var r,i,s,o,a,l,c,f,h,g,p,b,S,N,w,y,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,s=function(){var E,D;for(D=[],l=E=0;0<=g?E<g:E>g;l=0<=g?++E:--E)D.push(e.readUInt16());return D}(),e.pos+=2,S=function(){var E,D;for(D=[],l=E=0;0<=g?E<g:E>g;l=0<=g?++E:--E)D.push(e.readUInt16());return D}(),c=function(){var E,D;for(D=[],l=E=0;0<=g?E<g:E>g;l=0<=g?++E:--E)D.push(e.readUInt16());return D}(),f=function(){var E,D;for(D=[],l=E=0;0<=g?E<g:E>g;l=0<=g?++E:--E)D.push(e.readUInt16());return D}(),i=(this.length-e.pos+this.offset)/2,a=function(){var E,D;for(D=[],l=E=0;0<=i?E<i:E>i;l=0<=i?++E:--E)D.push(e.readUInt16());return D}(),l=w=0,_=s.length;w<_;l=++w)for(N=s[l],r=y=b=S[l];b<=N?y<=N:y>=N;r=b<=N?++y:--y)f[l]===0?o=r+c[l]:(o=a[f[l]/2+(r-b)-(g-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=h}return t.encode=function(e,n){var r,i,s,o,a,l,c,f,h,g,p,b,S,N,w,y,_,E,D,B,R,P,q,$,A,k,V,G,se,Q,Y,U,H,te,ue,C,j,W,J,Z,le,de,pe,Ce,Ne,Te;switch(G=new Uo,o=Object.keys(e).sort(function(Le,Ye){return Le-Ye}),n){case"macroman":for(S=0,N=function(){var Le=[];for(b=0;b<256;++b)Le.push(0);return Le}(),y={0:0},s={},se=0,H=o.length;se<H;se++)y[pe=e[i=o[se]]]==null&&(y[pe]=++S),s[i]={old:e[i],new:y[e[i]]},N[i]=y[e[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(N),{charMap:s,subtable:G.data,maxGlyphID:S+1};case"unicode":for(k=[],h=[],_=0,y={},r={},w=c=null,Q=0,te=o.length;Q<te;Q++)y[D=e[i=o[Q]]]==null&&(y[D]=++_),r[i]={old:D,new:y[D]},a=y[D]-i,w!=null&&a===c||(w&&h.push(w),k.push(i),c=a),w=i;for(w&&h.push(w),h.push(65535),k.push(65535),$=2*(q=k.length),P=2*Math.pow(Math.log(q)/Math.LN2,2),g=Math.log(P/2)/Math.LN2,R=2*q-P,l=[],B=[],p=[],b=Y=0,ue=k.length;Y<ue;b=++Y){if(A=k[b],f=h[b],A===65535){l.push(0),B.push(0);break}if(A-(V=r[A].new)>=32768)for(l.push(0),B.push(2*(p.length+q-b)),i=U=A;A<=f?U<=f:U>=f;i=A<=f?++U:--U)p.push(r[i].new);else l.push(V-A),B.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*q+2*p.length),G.writeUInt16(0),G.writeUInt16($),G.writeUInt16(P),G.writeUInt16(g),G.writeUInt16(R),le=0,C=h.length;le<C;le++)i=h[le],G.writeUInt16(i);for(G.writeUInt16(0),de=0,j=k.length;de<j;de++)i=k[de],G.writeUInt16(i);for(Ce=0,W=l.length;Ce<W;Ce++)a=l[Ce],G.writeUInt16(a);for(Ne=0,J=B.length;Ne<J;Ne++)E=B[Ne],G.writeUInt16(E);for(Te=0,Z=p.length;Te<Z;Te++)S=p[Te],G.writeUInt16(S);return{charMap:r,subtable:G.data,maxGlyphID:_+1}}},t}(),aN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Ii),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new j_(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=j_.encode(n,r),(s=new Uo).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),aj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Ii),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),lj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Ii),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),uj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Ii),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(n.readUInt32());return c}).call(this)}},e}(),cj=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},dj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Ii),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,c,f,h,g,p;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=h=0,g=i.length;h<g;o=++h)s=i[o],n.pos=s.offset,f=n.readString(s.length),a=new cj(f,s),c[p=s.nameID]==null&&(c[p]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),hj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Ii),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),fj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Ii),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,h;for(h=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)h.push(n.readInt16());return h}(),this.widths=(function(){var f,h,g,p;for(p=[],f=0,h=(g=this.metrics).length;f<h;f++)o=g[f],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),lN=[].slice,pj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Ii),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,c,f,h,g;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Uo(r.read(s))).readShort(),f=l.readShort(),g=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[n]=a===-1?new gj(l,f,g,c,h):new mj(l,a,f,g,c,h),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),mj=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),gj=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Uo(lN.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),vj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Ii),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var f=new Array(4*i.length),h=0;h<i.length;++h)f[4*h+3]=255&i[h],f[4*h+2]=(65280&i[h])>>8,f[4*h+1]=(16711680&i[h])>>16,f[4*h]=(4278190080&i[h])>>24;return f},e}(),yj=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,c,f,h,g,p,b,S,N,w;for(i in r=aN.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},w=r.charMap)p[(l=w[i]).old]=l.new;for(b in g=r.maxGlyphID,o)b in p||(p[b]=g++);return f=function(y){var _,E;for(_ in E={},y)E[y[_]]=_;return E}(p),h=Object.keys(f).sort(function(y,_){return y-_}),S=function(){var y,_,E;for(E=[],y=0,_=h.length;y<_;y++)a=h[y],E.push(f[a]);return E}(),s=this.font.glyf.encode(o,S,p),c=this.font.loca.encode(s.offsets,S),N={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},t}();$e.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const wj=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:QM,AcroFormAppearance:Ue,AcroFormButton:xn,AcroFormCheckBox:Wc,AcroFormChoiceField:ba,AcroFormComboBox:Sa,AcroFormEditBox:Uc,AcroFormListBox:xa,AcroFormPasswordField:Hc,AcroFormPushButton:zc,AcroFormRadioButton:Na,AcroFormTextField:To,GState:Sd,ShadingPattern:co,TilingPattern:ga,default:$e,jsPDF:$e},Symbol.toStringTag,{value:"Module"}));var _j={exports:{}};const bj=YN(wj);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return bj}catch{}}())})(typeof globalThis<"u"?globalThis:typeof sg<"u"?sg:typeof window<"u"?window:typeof self<"u"?self:sg,function(n){return function(){var r={172:function(a,l){var c=this&&this.__extends||function(){var g=function(p,b){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,N){S.__proto__=N}||function(S,N){for(var w in N)Object.prototype.hasOwnProperty.call(N,w)&&(S[w]=N[w])},g(p,b)};return function(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");g(p,b);function S(){this.constructor=p}p.prototype=b===null?Object.create(b):(S.prototype=b.prototype,new S)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var f=function(){function g(p,b,S){this.table=b,this.pageNumber=b.pageNumber,this.pageCount=this.pageNumber,this.settings=b.settings,this.cursor=S,this.doc=p.getDocument()}return g}();l.HookData=f;var h=function(g){c(p,g);function p(b,S,N,w,y,_){var E=g.call(this,b,S,_)||this;return E.cell=N,E.row=w,E.column=y,E.section=w.section,E}return p}(f);l.CellHookData=h},340:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(4),h=c(136),g=c(744),p=c(776),b=c(664),S=c(972);function N(w){w.API.autoTable=function(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];var E;y.length===1?E=y[0]:(console.error("Use of deprecated autoTable initiation"),E=y[2]||{},E.columns=y[0],E.body=y[1]);var D=(0,p.parseInput)(this,E),B=(0,S.createTable)(this,D);return(0,b.drawTable)(this,B),this},w.API.lastAutoTable=!1,w.API.previousAutoTable=!1,w.API.autoTable.previous=!1,w.API.autoTableText=function(y,_,E,D){(0,h.default)(y,_,E,D,this)},w.API.autoTableSetDefaults=function(y){return g.DocHandler.setDefaults(y,this),this},w.autoTableSetDefaults=function(y,_){g.DocHandler.setDefaults(y,_)},w.API.autoTableHtmlToJson=function(y,_){var E;if(_===void 0&&(_=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var D=new g.DocHandler(this),B=(0,f.parseHtml)(D,y,window,_,!1),R=B.head,P=B.body,q=((E=R[0])===null||E===void 0?void 0:E.map(function($){return $.content}))||[];return{columns:q,rows:P,data:P}},w.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},w.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),w.API.autoTable.globalDefaults||(w.API.autoTable.globalDefaults={}),w.API.autoTable.globalDefaults.addPageContent=y,this},w.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=N},136:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function c(f,h,g,p,b){p=p||{};var S=1.15,N=b.internal.scaleFactor,w=b.internal.getFontSize()/N,y=b.getLineHeightFactor?b.getLineHeightFactor():S,_=w*y,E=/\r\n|\r|\n/g,D="",B=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(D=typeof f=="string"?f.split(E):f,B=D.length||1),g+=w*(2-S),p.valign==="middle"?g-=B/2*_:p.valign==="bottom"&&(g-=B*_),p.halign==="center"||p.halign==="right"){var R=w;if(p.halign==="center"&&(R*=.5),D&&B>=1){for(var P=0;P<D.length;P++)b.text(D[P],h-b.getStringUnitWidth(D[P])*R,g),g+=_;return b}h-=b.getStringUnitWidth(f)*R}return p.halign==="justify"?b.text(f,h,g,{maxWidth:p.maxWidth||100,align:"justify"}):b.text(f,h,g),b}l.default=c},420:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function c(b,S,N){N.applyStyles(S,!0);var w=Array.isArray(b)?b:[b],y=w.map(function(_){return N.getTextWidth(_)}).reduce(function(_,E){return Math.max(_,E)},0);return y}l.getStringWidth=c;function f(b,S,N,w){var y=S.settings.tableLineWidth,_=S.settings.tableLineColor;b.applyStyles({lineWidth:y,lineColor:_});var E=h(y,!1);E&&b.rect(N.x,N.y,S.getWidth(b.pageSize().width),w.y-N.y,E)}l.addTableBorder=f;function h(b,S){var N=b>0,w=S||S===0;return N&&w?"DF":N?"S":w?"F":null}l.getFillStyle=h;function g(b,S){var N,w,y,_;if(b=b||S,Array.isArray(b)){if(b.length>=4)return{top:b[0],right:b[1],bottom:b[2],left:b[3]};if(b.length===3)return{top:b[0],right:b[1],bottom:b[2],left:b[1]};if(b.length===2)return{top:b[0],right:b[1],bottom:b[0],left:b[1]};b.length===1?b=b[0]:b=S}return typeof b=="object"?(typeof b.vertical=="number"&&(b.top=b.vertical,b.bottom=b.vertical),typeof b.horizontal=="number"&&(b.right=b.horizontal,b.left=b.horizontal),{left:(N=b.left)!==null&&N!==void 0?N:S,top:(w=b.top)!==null&&w!==void 0?w:S,right:(y=b.right)!==null&&y!==void 0?y:S,bottom:(_=b.bottom)!==null&&_!==void 0?_:S}):(typeof b!="number"&&(b=S),{top:b,right:b,bottom:b,left:b})}l.parseSpacing=g;function p(b,S){var N=g(S.settings.margin,0);return b.pageSize().width-(N.left+N.right)}l.getPageAvailableWidth=p},796:function(a,l){var c=this&&this.__extends||function(){var p=function(b,S){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,w){N.__proto__=w}||function(N,w){for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(N[y]=w[y])},p(b,S)};return function(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");p(b,S);function N(){this.constructor=b}b.prototype=S===null?Object.create(S):(N.prototype=S.prototype,new N)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var f=function(p){c(b,p);function b(S){var N=p.call(this)||this;return N._element=S,N}return b}(Array);l.HtmlRowInput=f;function h(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=h;function g(p){var b={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return b[p]}l.getTheme=g},903:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var f=c(420);function h(N,w,y,_,E){var D={},B=1.3333333333333333,R=p(w,function(H){return E.getComputedStyle(H).backgroundColor});R!=null&&(D.fillColor=R);var P=p(w,function(H){return E.getComputedStyle(H).color});P!=null&&(D.textColor=P);var q=S(_,y);q&&(D.cellPadding=q);var $="borderTopColor",A=B*y,k=_.borderTopWidth;if(_.borderBottomWidth===k&&_.borderRightWidth===k&&_.borderLeftWidth===k){var V=(parseFloat(k)||0)/A;V&&(D.lineWidth=V)}else D.lineWidth={top:(parseFloat(_.borderTopWidth)||0)/A,right:(parseFloat(_.borderRightWidth)||0)/A,bottom:(parseFloat(_.borderBottomWidth)||0)/A,left:(parseFloat(_.borderLeftWidth)||0)/A},D.lineWidth.top||(D.lineWidth.right?$="borderRightColor":D.lineWidth.bottom?$="borderBottomColor":D.lineWidth.left&&($="borderLeftColor"));var G=p(w,function(H){return E.getComputedStyle(H)[$]});G!=null&&(D.lineColor=G);var se=["left","right","center","justify"];se.indexOf(_.textAlign)!==-1&&(D.halign=_.textAlign),se=["middle","bottom","top"],se.indexOf(_.verticalAlign)!==-1&&(D.valign=_.verticalAlign);var Q=parseInt(_.fontSize||"");isNaN(Q)||(D.fontSize=Q/B);var Y=g(_);Y&&(D.fontStyle=Y);var U=(_.fontFamily||"").toLowerCase();return N.indexOf(U)!==-1&&(D.font=U),D}l.parseCss=h;function g(N){var w="";return(N.fontWeight==="bold"||N.fontWeight==="bolder"||parseInt(N.fontWeight)>=700)&&(w="bold"),(N.fontStyle==="italic"||N.fontStyle==="oblique")&&(w+="italic"),w}function p(N,w){var y=b(N,w);if(!y)return null;var _=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!_||!Array.isArray(_))return null;var E=[parseInt(_[1]),parseInt(_[2]),parseInt(_[3])],D=parseInt(_[4]);return D===0||isNaN(E[0])||isNaN(E[1])||isNaN(E[2])?null:E}function b(N,w){var y=w(N);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?N.parentElement==null?null:b(N.parentElement,w):y}function S(N,w){var y=[N.paddingTop,N.paddingRight,N.paddingBottom,N.paddingLeft],_=96/(72/w),E=(parseInt(N.lineHeight)-parseInt(N.fontSize))/w/2,D=y.map(function(R){return parseInt(R||"0")/_}),B=(0,f.parseSpacing)(D,0);return E>B.top&&(B.top=E),E>B.bottom&&(B.bottom=E),B}},744:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var c={},f=function(){function h(g){this.jsPDFDocument=g,this.userStyles={textColor:g.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:g.internal.getFontSize(),fontStyle:g.internal.getFont().fontStyle,font:g.internal.getFont().fontName,lineWidth:g.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:g.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return h.setDefaults=function(g,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=g:c=g},h.unifyColor=function(g){return Array.isArray(g)?g:typeof g=="number"?[g,g,g]:typeof g=="string"?[g]:null},h.prototype.applyStyles=function(g,p){var b,S,N;p===void 0&&(p=!1),g.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(g.fontStyle);var w=this.jsPDFDocument.internal.getFont(),y=w.fontStyle,_=w.fontName;if(g.font&&(_=g.font),g.fontStyle){y=g.fontStyle;var E=this.getFontList()[_];E&&E.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(E[0]),y=E[0])}if(this.jsPDFDocument.setFont(_,y),g.fontSize&&this.jsPDFDocument.setFontSize(g.fontSize),!p){var D=h.unifyColor(g.fillColor);D&&(b=this.jsPDFDocument).setFillColor.apply(b,D),D=h.unifyColor(g.textColor),D&&(S=this.jsPDFDocument).setTextColor.apply(S,D),D=h.unifyColor(g.lineColor),D&&(N=this.jsPDFDocument).setDrawColor.apply(N,D),typeof g.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(g.lineWidth)}},h.prototype.splitTextToSize=function(g,p,b){return this.jsPDFDocument.splitTextToSize(g,p,b)},h.prototype.rect=function(g,p,b,S,N){return this.jsPDFDocument.rect(g,p,b,S,N)},h.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},h.prototype.getTextWidth=function(g){return this.jsPDFDocument.getTextWidth(g)},h.prototype.getDocument=function(){return this.jsPDFDocument},h.prototype.setPage=function(g){this.jsPDFDocument.setPage(g)},h.prototype.addPage=function(){return this.jsPDFDocument.addPage()},h.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},h.prototype.getGlobalOptions=function(){return c||{}},h.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},h.prototype.pageSize=function(){var g=this.jsPDFDocument.internal.pageSize;return g.width==null&&(g={width:g.getWidth(),height:g.getHeight()}),g},h.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},h.prototype.getLineHeightFactor=function(){var g=this.jsPDFDocument;return g.getLineHeightFactor?g.getLineHeightFactor():1.15},h.prototype.getLineHeight=function(g){return g/this.scaleFactor()*this.getLineHeightFactor()},h.prototype.pageNumber=function(){var g=this.jsPDFDocument.internal.getCurrentPageInfo();return g?g.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},h}();l.DocHandler=f},4:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var f=c(903),h=c(796);function g(S,N,w,y,_){var E,D;y===void 0&&(y=!1),_===void 0&&(_=!1);var B;typeof N=="string"?B=w.document.querySelector(N):B=N;var R=Object.keys(S.getFontList()),P=S.scaleFactor(),q=[],$=[],A=[];if(!B)return console.error("Html table could not be found with input: ",N),{head:q,body:$,foot:A};for(var k=0;k<B.rows.length;k++){var V=B.rows[k],G=(D=(E=V==null?void 0:V.parentElement)===null||E===void 0?void 0:E.tagName)===null||D===void 0?void 0:D.toLowerCase(),se=p(R,P,w,V,y,_);se&&(G==="thead"?q.push(se):G==="tfoot"?A.push(se):$.push(se))}return{head:q,body:$,foot:A}}l.parseHtml=g;function p(S,N,w,y,_,E){for(var D=new h.HtmlRowInput(y),B=0;B<y.cells.length;B++){var R=y.cells[B],P=w.getComputedStyle(R);if(_||P.display!=="none"){var q=void 0;E&&(q=(0,f.parseCss)(S,R,N,P,w)),D.push({rowSpan:R.rowSpan,colSpan:R.colSpan,styles:q,_element:R,content:b(R)})}}var $=w.getComputedStyle(y);if(D.length>0&&(_||$.display!=="none"))return D}function b(S){var N=S.cloneNode(!0);return N.innerHTML=N.innerHTML.replace(/\n/g,"").replace(/ +/g," "),N.innerHTML=N.innerHTML.split(/<br.*?>/).map(function(w){return w.trim()}).join(`
`),N.innerText||N.textContent||""}},776:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var f=c(4),h=c(356),g=c(420),p=c(744),b=c(792);function S(B,R){var P=new p.DocHandler(B),q=P.getDocumentOptions(),$=P.getGlobalOptions();(0,b.default)(P,$,q,R);var A=(0,h.assign)({},$,q,R),k;typeof window<"u"&&(k=window);var V=N($,q,R),G=w($,q,R),se=y(P,A),Q=E(P,A,k);return{id:R.tableId,content:Q,hooks:G,styles:V,settings:se}}l.parseInput=S;function N(B,R,P){for(var q={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},$=function(G){if(G==="columnStyles"){var se=B[G],Q=R[G],Y=P[G];q.columnStyles=(0,h.assign)({},se,Q,Y)}else{var U=[B,R,P],H=U.map(function(te){return te[G]||{}});q[G]=(0,h.assign)({},H[0],H[1],H[2])}},A=0,k=Object.keys(q);A<k.length;A++){var V=k[A];$(V)}return q}function w(B,R,P){for(var q=[B,R,P],$={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},A=0,k=q;A<k.length;A++){var V=k[A];V.didParseCell&&$.didParseCell.push(V.didParseCell),V.willDrawCell&&$.willDrawCell.push(V.willDrawCell),V.didDrawCell&&$.didDrawCell.push(V.didDrawCell),V.willDrawPage&&$.willDrawPage.push(V.willDrawPage),V.didDrawPage&&$.didDrawPage.push(V.didDrawPage)}return $}function y(B,R){var P,q,$,A,k,V,G,se,Q,Y,U,H,te=(0,g.parseSpacing)(R.margin,40/B.scaleFactor()),ue=(P=_(B,R.startY))!==null&&P!==void 0?P:te.top,C;R.showFoot===!0?C="everyPage":R.showFoot===!1?C="never":C=(q=R.showFoot)!==null&&q!==void 0?q:"everyPage";var j;R.showHead===!0?j="everyPage":R.showHead===!1?j="never":j=($=R.showHead)!==null&&$!==void 0?$:"everyPage";var W=(A=R.useCss)!==null&&A!==void 0?A:!1,J=R.theme||(W?"plain":"striped"),Z=!!R.horizontalPageBreak,le=(k=R.horizontalPageBreakRepeat)!==null&&k!==void 0?k:null;return{includeHiddenHtml:(V=R.includeHiddenHtml)!==null&&V!==void 0?V:!1,useCss:W,theme:J,startY:ue,margin:te,pageBreak:(G=R.pageBreak)!==null&&G!==void 0?G:"auto",rowPageBreak:(se=R.rowPageBreak)!==null&&se!==void 0?se:"auto",tableWidth:(Q=R.tableWidth)!==null&&Q!==void 0?Q:"auto",showHead:j,showFoot:C,tableLineWidth:(Y=R.tableLineWidth)!==null&&Y!==void 0?Y:0,tableLineColor:(U=R.tableLineColor)!==null&&U!==void 0?U:200,horizontalPageBreak:Z,horizontalPageBreakRepeat:le,horizontalPageBreakBehaviour:(H=R.horizontalPageBreakBehaviour)!==null&&H!==void 0?H:"afterAllRows"}}function _(B,R){var P=B.getLastAutoTable(),q=B.scaleFactor(),$=B.pageNumber(),A=!1;if(P&&P.startPageNumber){var k=P.startPageNumber+P.pageNumber-1;A=k===$}return typeof R=="number"?R:(R==null||R===!1)&&A&&(P==null?void 0:P.finalY)!=null?P.finalY+20/q:null}function E(B,R,P){var q=R.head||[],$=R.body||[],A=R.foot||[];if(R.html){var k=R.includeHiddenHtml;if(P){var V=(0,f.parseHtml)(B,R.html,P,k,R.useCss)||{};q=V.head||q,$=V.body||q,A=V.foot||q}else console.error("Cannot parse html in non browser environment")}var G=R.columns||D(q,$,A);return{columns:G,head:q,body:$,foot:A}}function D(B,R,P){var q=B[0]||R[0]||P[0]||[],$=[];return Object.keys(q).filter(function(A){return A!=="_element"}).forEach(function(A){var k=1,V;Array.isArray(q)?V=q[parseInt(A)]:V=q[A],typeof V=="object"&&!Array.isArray(V)&&(k=(V==null?void 0:V.colSpan)||1);for(var G=0;G<k;G++){var se=void 0;Array.isArray(q)?se=$.length:se=A+(G>0?"_".concat(G):"");var Q={dataKey:se};$.push(Q)}}),$}},792:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function c(h,g,p,b){for(var S=function(_){_&&typeof _!="object"&&console.error("The options parameter should be of type object, is: "+typeof _),typeof _.extendWidth<"u"&&(_.tableWidth=_.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof _.margins<"u"&&(typeof _.margin>"u"&&(_.margin=_.margins),console.error("Use of deprecated option: margins, use margin instead.")),_.startY&&typeof _.startY!="number"&&(console.error("Invalid value for startY option",_.startY),delete _.startY),!_.didDrawPage&&(_.afterPageContent||_.beforePageContent||_.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),_.didDrawPage=function(A){h.applyStyles(h.userStyles),_.beforePageContent&&_.beforePageContent(A),h.applyStyles(h.userStyles),_.afterPageContent&&_.afterPageContent(A),h.applyStyles(h.userStyles),_.afterPageAdd&&A.pageNumber>1&&A.afterPageAdd(A),h.applyStyles(h.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(A){_[A]&&console.error('The "'.concat(A,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(A){var k=A[0],V=A[1];_[V]&&(console.error("Use of deprecated option ".concat(V,". Use ").concat(k," instead")),_[k]=_[V])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(A){var k=typeof A=="string"?A:A[0],V=typeof A=="string"?A:A[1];typeof _[k]<"u"&&(typeof _.styles[V]>"u"&&(_.styles[V]=_[k]),console.error("Use of deprecated option: "+k+", use the style "+V+" instead."))});for(var E=0,D=["styles","bodyStyles","headStyles","footStyles"];E<D.length;E++){var B=D[E];f(_[B]||{})}for(var R=_.columnStyles||{},P=0,q=Object.keys(R);P<q.length;P++){var $=q[P];f(R[$]||{})}},N=0,w=[g,p,b];N<w.length;N++){var y=w[N];S(y)}}l.default=c;function f(h){h.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),h.minCellHeight||(h.minCellHeight=h.rowHeight)):h.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),h.cellWidth||(h.cellWidth=h.columnWidth))}},260:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var f=c(796),h=c(172),g=c(420),p=function(){function w(y,_){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=_.columns,this.head=_.head,this.body=_.body,this.foot=_.foot}return w.prototype.getHeadHeight=function(y){return this.head.reduce(function(_,E){return _+E.getMaxCellHeight(y)},0)},w.prototype.getFootHeight=function(y){return this.foot.reduce(function(_,E){return _+E.getMaxCellHeight(y)},0)},w.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},w.prototype.callCellHooks=function(y,_,E,D,B,R){for(var P=0,q=_;P<q.length;P++){var $=q[P],A=new h.CellHookData(y,this,E,D,B,R),k=$(A)===!1;if(E.text=Array.isArray(E.text)?E.text:[E.text],k)return!1}return!0},w.prototype.callEndPageHooks=function(y,_){y.applyStyles(y.userStyles);for(var E=0,D=this.hooks.didDrawPage;E<D.length;E++){var B=D[E];B(new h.HookData(y,this,_))}},w.prototype.callWillDrawPageHooks=function(y,_){for(var E=0,D=this.hooks.willDrawPage;E<D.length;E++){var B=D[E];B(new h.HookData(y,this,_))}},w.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var _=this.columns.reduce(function(D,B){return D+B.wrappedWidth},0);return _}else{var E=this.settings.margin;return y-E.left-E.right}},w}();l.Table=p;var b=function(){function w(y,_,E,D,B){B===void 0&&(B=!1),this.height=0,this.raw=y,y instanceof f.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=_,this.section=E,this.cells=D,this.spansMultiplePages=B}return w.prototype.getMaxCellHeight=function(y){var _=this;return y.reduce(function(E,D){var B;return Math.max(E,((B=_.cells[D.index])===null||B===void 0?void 0:B.height)||0)},0)},w.prototype.hasRowSpan=function(y){var _=this;return y.filter(function(E){var D=_.cells[E.index];return D?D.rowSpan>1:!1}).length>0},w.prototype.canEntireRowFit=function(y,_){return this.getMaxCellHeight(_)<=y},w.prototype.getMinimumRowHeight=function(y,_){var E=this;return y.reduce(function(D,B){var R=E.cells[B.index];if(!R)return 0;var P=_.getLineHeight(R.styles.fontSize),q=R.padding("vertical"),$=q+P;return $>D?$:D},0)},w}();l.Row=b;var S=function(){function w(y,_,E){var D,B;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=_,this.section=E,this.raw=y;var R=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,R=(B=(D=y.content)!==null&&D!==void 0?D:y.title)!==null&&B!==void 0?B:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var P=R!=null?""+R:"",q=/\r\n|\r|\n/g;this.text=P.split(q)}return w.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var _=this.height-this.padding("vertical");y=this.y+_/2+this.padding("top")}var E;if(this.styles.halign==="right")E=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var D=this.width-this.padding("horizontal");E=this.x+D/2+this.padding("left")}else E=this.x+this.padding("left");return{x:E,y}},w.prototype.getContentHeight=function(y,_){_===void 0&&(_=1.15);var E=Array.isArray(this.text)?this.text.length:1,D=this.styles.fontSize/y*_,B=E*D+this.padding("vertical");return Math.max(B,this.styles.minCellHeight)},w.prototype.padding=function(y){var _=(0,g.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?_.top+_.bottom:y==="horizontal"?_.left+_.right:_[y]},w}();l.Cell=S;var N=function(){function w(y,_,E){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=_,this.index=E}return w.prototype.getMaxCustomCellWidth=function(y){for(var _=0,E=0,D=y.allRows();E<D.length;E++){var B=D[E],R=B.cells[this.index];R&&typeof R.styles.cellWidth=="number"&&(_=Math.max(_,R.styles.cellWidth))}return _},w}();l.Column=N},356:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function c(f,h,g,p,b){if(f==null)throw new TypeError("Cannot convert undefined or null to object");for(var S=Object(f),N=1;N<arguments.length;N++){var w=arguments[N];if(w!=null)for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(S[y]=w[y])}return S}l.assign=c},972:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var f=c(744),h=c(260),g=c(324),p=c(796),b=c(356);function S(B,R){var P=new f.DocHandler(B),q=N(R,P.scaleFactor()),$=new h.Table(R,q);return(0,g.calculateWidths)(P,$),P.applyStyles(P.userStyles),$}l.createTable=S;function N(B,R){var P=B.content,q=E(P.columns);if(P.head.length===0){var $=y(q,"head");$&&P.head.push($)}if(P.foot.length===0){var $=y(q,"foot");$&&P.foot.push($)}var A=B.settings.theme,k=B.styles;return{columns:q,head:w("head",P.head,q,k,A,R),body:w("body",P.body,q,k,A,R),foot:w("foot",P.foot,q,k,A,R)}}function w(B,R,P,q,$,A){var k={},V=R.map(function(G,se){for(var Q=0,Y={},U=0,H=0,te=0,ue=P;te<ue.length;te++){var C=ue[te];if(k[C.index]==null||k[C.index].left===0)if(H===0){var j=void 0;Array.isArray(G)?j=G[C.index-U-Q]:j=G[C.dataKey];var W={};typeof j=="object"&&!Array.isArray(j)&&(W=(j==null?void 0:j.styles)||{});var J=D(B,C,se,$,q,A,W),Z=new h.Cell(j,J,B);Y[C.dataKey]=Z,Y[C.index]=Z,H=Z.colSpan-1,k[C.index]={left:Z.rowSpan-1,times:H}}else H--,U++;else k[C.index].left--,H=k[C.index].times,Q++}return new h.Row(G,se,B,Y)});return V}function y(B,R){var P={};return B.forEach(function(q){if(q.raw!=null){var $=_(R,q.raw);$!=null&&(P[q.dataKey]=$)}}),Object.keys(P).length>0?P:null}function _(B,R){if(B==="head"){if(typeof R=="object")return R.header||R.title||null;if(typeof R=="string"||typeof R=="number")return R}else if(B==="foot"&&typeof R=="object")return R.footer;return null}function E(B){return B.map(function(R,P){var q,$,A;return typeof R=="object"?A=($=(q=R.dataKey)!==null&&q!==void 0?q:R.key)!==null&&$!==void 0?$:P:A=P,new h.Column(A,R,P)})}function D(B,R,P,q,$,A,k){var V=(0,p.getTheme)(q),G;B==="head"?G=$.headStyles:B==="body"?G=$.bodyStyles:B==="foot"&&(G=$.footStyles);var se=(0,b.assign)({},V.table,V[B],$.styles,G),Q=$.columnStyles[R.dataKey]||$.columnStyles[R.index]||{},Y=B==="body"?Q:{},U=B==="body"&&P%2===0?(0,b.assign)({},V.alternateRow,$.alternateRowStyles):{},H=(0,p.defaultStyles)(A),te=(0,b.assign)({},H,se,U,Y);return(0,b.assign)(te,k)}},664:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var f=c(420),h=c(260),g=c(744),p=c(356),b=c(136),S=c(224);function N(Q,Y){var U=Y.settings,H=U.startY,te=U.margin,ue={x:te.left,y:H},C=Y.getHeadHeight(Y.columns)+Y.getFootHeight(Y.columns),j=H+te.bottom+C;if(U.pageBreak==="avoid"){var W=Y.body,J=W.reduce(function(de,pe){return de+pe.height},0);j+=J}var Z=new g.DocHandler(Q);(U.pageBreak==="always"||U.startY!=null&&j>Z.pageSize().height)&&(se(Z),ue.y=te.top),Y.callWillDrawPageHooks(Z,ue);var le=(0,p.assign)({},ue);Y.startPageNumber=Z.pageNumber(),U.horizontalPageBreak?w(Z,Y,le,ue):(Z.applyStyles(Z.userStyles),(U.showHead==="firstPage"||U.showHead==="everyPage")&&Y.head.forEach(function(de){return $(Z,Y,de,ue,Y.columns)}),Z.applyStyles(Z.userStyles),Y.body.forEach(function(de,pe){var Ce=pe===Y.body.length-1;q(Z,Y,de,Ce,le,ue,Y.columns)}),Z.applyStyles(Z.userStyles),(U.showFoot==="lastPage"||U.showFoot==="everyPage")&&Y.foot.forEach(function(de){return $(Z,Y,de,ue,Y.columns)})),(0,f.addTableBorder)(Z,Y,le,ue),Y.callEndPageHooks(Z,ue),Y.finalY=ue.y,Q.lastAutoTable=Y,Q.previousAutoTable=Y,Q.autoTable&&(Q.autoTable.previous=Y),Z.applyStyles(Z.userStyles)}l.drawTable=N;function w(Q,Y,U,H){var te=(0,S.calculateAllColumnsCanFitInPage)(Q,Y),ue=Y.settings;if(ue.horizontalPageBreakBehaviour==="afterAllRows")te.forEach(function(J,Z){Q.applyStyles(Q.userStyles),Z>0?G(Q,Y,U,H,J.columns,!0):y(Q,Y,H,J.columns),_(Q,Y,U,H,J.columns),D(Q,Y,H,J.columns)});else for(var C=-1,j=te[0],W=function(){var J=C;if(j){Q.applyStyles(Q.userStyles);var Z=j.columns;C>=0?G(Q,Y,U,H,Z,!0):y(Q,Y,H,Z),J=E(Q,Y,C+1,H,Z),D(Q,Y,H,Z)}var le=J-C;te.slice(1).forEach(function(de){Q.applyStyles(Q.userStyles),G(Q,Y,U,H,de.columns,!0),E(Q,Y,C+1,H,de.columns,le),D(Q,Y,H,de.columns)}),C=J};C<Y.body.length-1;)W()}function y(Q,Y,U,H){var te=Y.settings;Q.applyStyles(Q.userStyles),(te.showHead==="firstPage"||te.showHead==="everyPage")&&Y.head.forEach(function(ue){return $(Q,Y,ue,U,H)})}function _(Q,Y,U,H,te){Q.applyStyles(Q.userStyles),Y.body.forEach(function(ue,C){var j=C===Y.body.length-1;q(Q,Y,ue,j,U,H,te)})}function E(Q,Y,U,H,te,ue){Q.applyStyles(Q.userStyles),ue=ue??Y.body.length;var C=Math.min(U+ue,Y.body.length),j=-1;return Y.body.slice(U,C).forEach(function(W,J){var Z=U+J===Y.body.length-1,le=V(Q,Y,Z,H);W.canEntireRowFit(le,te)&&($(Q,Y,W,H,te),j=U+J)}),j}function D(Q,Y,U,H){var te=Y.settings;Q.applyStyles(Q.userStyles),(te.showFoot==="lastPage"||te.showFoot==="everyPage")&&Y.foot.forEach(function(ue){return $(Q,Y,ue,U,H)})}function B(Q,Y,U){var H=U.getLineHeight(Q.styles.fontSize),te=Q.padding("vertical"),ue=Math.floor((Y-te)/H);return Math.max(0,ue)}function R(Q,Y,U,H){var te={};Q.spansMultiplePages=!0,Q.height=0;for(var ue=0,C=0,j=U.columns;C<j.length;C++){var W=j[C],J=Q.cells[W.index];if(J){Array.isArray(J.text)||(J.text=[J.text]);var Z=new h.Cell(J.raw,J.styles,J.section);Z=(0,p.assign)(Z,J),Z.text=[];var le=B(J,Y,H);J.text.length>le&&(Z.text=J.text.splice(le,J.text.length));var de=H.scaleFactor(),pe=H.getLineHeightFactor();J.contentHeight=J.getContentHeight(de,pe),J.contentHeight>=Y&&(J.contentHeight=Y,Z.styles.minCellHeight-=Y),J.contentHeight>Q.height&&(Q.height=J.contentHeight),Z.contentHeight=Z.getContentHeight(de,pe),Z.contentHeight>ue&&(ue=Z.contentHeight),te[W.index]=Z}}var Ce=new h.Row(Q.raw,-1,Q.section,te,!0);Ce.height=ue;for(var Ne=0,Te=U.columns;Ne<Te.length;Ne++){var W=Te[Ne],Z=Ce.cells[W.index];Z&&(Z.height=Ce.height);var J=Q.cells[W.index];J&&(J.height=Q.height)}return Ce}function P(Q,Y,U,H){var te=Q.pageSize().height,ue=H.settings.margin,C=ue.top+ue.bottom,j=te-C;Y.section==="body"&&(j-=H.getHeadHeight(H.columns)+H.getFootHeight(H.columns));var W=Y.getMinimumRowHeight(H.columns,Q),J=W<U;if(W>j)return console.error("Will not be able to print row ".concat(Y.index," correctly since it's minimum height is larger than page height")),!0;if(!J)return!1;var Z=Y.hasRowSpan(H.columns),le=Y.getMaxCellHeight(H.columns)>j;return le?(Z&&console.error("The content of row ".concat(Y.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Z||H.settings.rowPageBreak==="avoid")}function q(Q,Y,U,H,te,ue,C){var j=V(Q,Y,H,ue);if(U.canEntireRowFit(j,C))$(Q,Y,U,ue,C);else if(P(Q,U,j,Y)){var W=R(U,j,Y,Q);$(Q,Y,U,ue,C),G(Q,Y,te,ue,C),q(Q,Y,W,H,te,ue,C)}else G(Q,Y,te,ue,C),q(Q,Y,U,H,te,ue,C)}function $(Q,Y,U,H,te){H.x=Y.settings.margin.left;for(var ue=0,C=te;ue<C.length;ue++){var j=C[ue],W=U.cells[j.index];if(!W){H.x+=j.width;continue}Q.applyStyles(W.styles),W.x=H.x,W.y=H.y;var J=Y.callCellHooks(Q,Y.hooks.willDrawCell,W,U,j,H);if(J===!1){H.x+=j.width;continue}A(Q,W,H);var Z=W.getTextPos();(0,b.default)(W.text,Z.x,Z.y,{halign:W.styles.halign,valign:W.styles.valign,maxWidth:Math.ceil(W.width-W.padding("left")-W.padding("right"))},Q.getDocument()),Y.callCellHooks(Q,Y.hooks.didDrawCell,W,U,j,H),H.x+=j.width}H.y+=U.height}function A(Q,Y,U){var H=Y.styles;if(Q.getDocument().setFillColor(Q.getDocument().getFillColor()),typeof H.lineWidth=="number"){var te=(0,f.getFillStyle)(H.lineWidth,H.fillColor);te&&Q.rect(Y.x,U.y,Y.width,Y.height,te)}else typeof H.lineWidth=="object"&&(H.fillColor&&Q.rect(Y.x,U.y,Y.width,Y.height,"F"),k(Q,Y,U,H.lineWidth))}function k(Q,Y,U,H){var te,ue,C,j;H.top&&(te=U.x,ue=U.y,C=U.x+Y.width,j=U.y,H.right&&(C+=.5*H.right),H.left&&(te-=.5*H.left),W(H.top,te,ue,C,j)),H.bottom&&(te=U.x,ue=U.y+Y.height,C=U.x+Y.width,j=U.y+Y.height,H.right&&(C+=.5*H.right),H.left&&(te-=.5*H.left),W(H.bottom,te,ue,C,j)),H.left&&(te=U.x,ue=U.y,C=U.x,j=U.y+Y.height,H.top&&(ue-=.5*H.top),H.bottom&&(j+=.5*H.bottom),W(H.left,te,ue,C,j)),H.right&&(te=U.x+Y.width,ue=U.y,C=U.x+Y.width,j=U.y+Y.height,H.top&&(ue-=.5*H.top),H.bottom&&(j+=.5*H.bottom),W(H.right,te,ue,C,j));function W(J,Z,le,de,pe){Q.getDocument().setLineWidth(J),Q.getDocument().line(Z,le,de,pe,"S")}}function V(Q,Y,U,H){var te=Y.settings.margin.bottom,ue=Y.settings.showFoot;return(ue==="everyPage"||ue==="lastPage"&&U)&&(te+=Y.getFootHeight(Y.columns)),Q.pageSize().height-H.y-te}function G(Q,Y,U,H,te,ue){te===void 0&&(te=[]),ue===void 0&&(ue=!1),Q.applyStyles(Q.userStyles),Y.settings.showFoot==="everyPage"&&!ue&&Y.foot.forEach(function(j){return $(Q,Y,j,H,te)}),Y.callEndPageHooks(Q,H);var C=Y.settings.margin;(0,f.addTableBorder)(Q,Y,U,H),se(Q),Y.pageNumber++,Y.pageCount++,H.x=C.left,H.y=C.top,U.y=C.top,Y.callWillDrawPageHooks(Q,H),Y.settings.showHead==="everyPage"&&(Y.head.forEach(function(j){return $(Q,Y,j,H,te)}),Q.applyStyles(Q.userStyles))}l.addPage=G;function se(Q){var Y=Q.pageNumber();Q.setPage(Y+1);var U=Q.pageNumber();return U===Y?(Q.addPage(),!0):!1}},224:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var f=c(420);function h(p,b,S){var N;S===void 0&&(S={});var w=(0,f.getPageAvailableWidth)(p,b),y=new Map,_=[],E=[],D=[];b.settings.horizontalPageBreakRepeat,Array.isArray(b.settings.horizontalPageBreakRepeat)?D=b.settings.horizontalPageBreakRepeat:(typeof b.settings.horizontalPageBreakRepeat=="string"||typeof b.settings.horizontalPageBreakRepeat=="number")&&(D=[b.settings.horizontalPageBreakRepeat]),D.forEach(function(q){var $=b.columns.find(function(A){return A.dataKey===q||A.index===q});$&&!y.has($.index)&&(y.set($.index,!0),_.push($.index),E.push(b.columns[$.index]),w-=$.wrappedWidth)});for(var B=!0,R=(N=S==null?void 0:S.start)!==null&&N!==void 0?N:0;R<b.columns.length;){if(y.has(R)){R++;continue}var P=b.columns[R].wrappedWidth;if(B||w>=P)B=!1,_.push(R),E.push(b.columns[R]),w-=P;else break;R++}return{colIndexes:_,columns:E,lastIndex:R-1}}function g(p,b){for(var S=[],N=0;N<b.columns.length;N++){var w=h(p,b,{start:N});w.columns.length&&(S.push(w),N=w.lastIndex)}return S}l.calculateAllColumnsCanFitInPage=g},324:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var f=c(420);function h(_,E){g(_,E);var D=[],B=0;E.columns.forEach(function(P){var q=P.getMaxCustomCellWidth(E);q?P.width=q:(P.width=P.wrappedWidth,D.push(P)),B+=P.width});var R=E.getWidth(_.pageSize().width)-B;R&&(R=p(D,R,function(P){return Math.max(P.minReadableWidth,P.minWidth)})),R&&(R=p(D,R,function(P){return P.minWidth})),R=Math.abs(R),!E.settings.horizontalPageBreak&&R>.1/_.scaleFactor()&&(R=R<1?R:Math.round(R),console.warn("Of the table content, ".concat(R," units width could not fit page"))),S(E),N(E,_),b(E)}l.calculateWidths=h;function g(_,E){var D=_.scaleFactor(),B=E.settings.horizontalPageBreak,R=(0,f.getPageAvailableWidth)(_,E);E.allRows().forEach(function(P){for(var q=0,$=E.columns;q<$.length;q++){var A=$[q],k=P.cells[A.index];if(k){var V=E.hooks.didParseCell;E.callCellHooks(_,V,k,P,A,null);var G=k.padding("horizontal");k.contentWidth=(0,f.getStringWidth)(k.text,k.styles,_)+G;var se=(0,f.getStringWidth)(k.text.join(" ").split(/[^\S\u00A0]+/),k.styles,_);if(k.minReadableWidth=se+k.padding("horizontal"),typeof k.styles.cellWidth=="number")k.minWidth=k.styles.cellWidth,k.wrappedWidth=k.styles.cellWidth;else if(k.styles.cellWidth==="wrap"||B===!0)k.contentWidth>R?(k.minWidth=R,k.wrappedWidth=R):(k.minWidth=k.contentWidth,k.wrappedWidth=k.contentWidth);else{var Q=10/D;k.minWidth=k.styles.minCellWidth||Q,k.wrappedWidth=k.contentWidth,k.minWidth>k.wrappedWidth&&(k.wrappedWidth=k.minWidth)}}}}),E.allRows().forEach(function(P){for(var q=0,$=E.columns;q<$.length;q++){var A=$[q],k=P.cells[A.index];if(k&&k.colSpan===1)A.wrappedWidth=Math.max(A.wrappedWidth,k.wrappedWidth),A.minWidth=Math.max(A.minWidth,k.minWidth),A.minReadableWidth=Math.max(A.minReadableWidth,k.minReadableWidth);else{var V=E.styles.columnStyles[A.dataKey]||E.styles.columnStyles[A.index]||{},G=V.cellWidth||V.minCellWidth;G&&typeof G=="number"&&(A.minWidth=G,A.wrappedWidth=G)}k&&(k.colSpan>1&&!A.minWidth&&(A.minWidth=k.minWidth),k.colSpan>1&&!A.wrappedWidth&&(A.wrappedWidth=k.minWidth))}})}function p(_,E,D){for(var B=E,R=_.reduce(function(Q,Y){return Q+Y.wrappedWidth},0),P=0;P<_.length;P++){var q=_[P],$=q.wrappedWidth/R,A=B*$,k=q.width+A,V=D(q),G=k<V?V:k;E-=G-q.width,q.width=G}if(E=Math.round(E*1e10)/1e10,E){var se=_.filter(function(Q){return E<0?Q.width>D(Q):!0});se.length&&(E=p(se,E,D))}return E}l.resizeColumns=p;function b(_){for(var E={},D=1,B=_.allRows(),R=0;R<B.length;R++)for(var P=B[R],q=0,$=_.columns;q<$.length;q++){var A=$[q],k=E[A.index];if(D>1)D--,delete P.cells[A.index];else if(k)k.cell.height+=P.height,D=k.cell.colSpan,delete P.cells[A.index],k.left--,k.left<=1&&delete E[A.index];else{var V=P.cells[A.index];if(!V)continue;if(V.height=P.height,V.rowSpan>1){var G=B.length-R,se=V.rowSpan>G?G:V.rowSpan;E[A.index]={cell:V,left:se,row:P}}}}}function S(_){for(var E=_.allRows(),D=0;D<E.length;D++)for(var B=E[D],R=null,P=0,q=0,$=0;$<_.columns.length;$++){var A=_.columns[$];if(q-=1,q>1&&_.columns[$+1])P+=A.width,delete B.cells[A.index];else if(R){var k=R;delete B.cells[A.index],R=null,k.width=A.width+P}else{var k=B.cells[A.index];if(!k)continue;if(q=k.colSpan,P=0,k.colSpan>1){R=k,P+=A.width;continue}k.width=A.width+P}}}function N(_,E){for(var D={count:0,height:0},B=0,R=_.allRows();B<R.length;B++){for(var P=R[B],q=0,$=_.columns;q<$.length;q++){var A=$[q],k=P.cells[A.index];if(k){E.applyStyles(k.styles,!0);var V=k.width-k.padding("horizontal");if(k.styles.overflow==="linebreak")k.text=E.splitTextToSize(k.text,V+1/E.scaleFactor(),{fontSize:k.styles.fontSize});else if(k.styles.overflow==="ellipsize")k.text=w(k.text,V,k.styles,E,"...");else if(k.styles.overflow==="hidden")k.text=w(k.text,V,k.styles,E,"");else if(typeof k.styles.overflow=="function"){var G=k.styles.overflow(k.text,V);typeof G=="string"?k.text=[G]:k.text=G}k.contentHeight=k.getContentHeight(E.scaleFactor(),E.getLineHeightFactor());var se=k.contentHeight/k.rowSpan;k.rowSpan>1&&D.count*D.height<se*k.rowSpan?D={height:se,count:k.rowSpan}:D&&D.count>0&&D.height>se&&(se=D.height),se>P.height&&(P.height=se)}}D.count--}}function w(_,E,D,B,R){return _.map(function(P){return y(P,E,D,B,R)})}l.ellipsize=w;function y(_,E,D,B,R){var P=1e4*B.scaleFactor();if(E=Math.ceil(E*P)/P,E>=(0,f.getStringWidth)(_,D,B))return _;for(;E<(0,f.getStringWidth)(_+R,D,B)&&!(_.length<=1);)_=_.substring(0,_.length-1);return _.trim()+R}},964:function(a){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={exports:{}};return r[a].call(c.exports,c,c.exports,s),c.exports}var o={};return function(){var a=o;Object.defineProperty(a,"__esModule",{value:!0}),a.Cell=a.Column=a.Row=a.Table=a.CellHookData=a.__drawTable=a.__createTable=a.applyPlugin=void 0;var l=s(340),c=s(776),f=s(664),h=s(972),g=s(260);Object.defineProperty(a,"Table",{enumerable:!0,get:function(){return g.Table}});var p=s(172);Object.defineProperty(a,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var b=s(260);Object.defineProperty(a,"Cell",{enumerable:!0,get:function(){return b.Cell}}),Object.defineProperty(a,"Column",{enumerable:!0,get:function(){return b.Column}}),Object.defineProperty(a,"Row",{enumerable:!0,get:function(){return b.Row}});function S(E){(0,l.default)(E)}a.applyPlugin=S;function N(E,D){var B=(0,c.parseInput)(E,D),R=(0,h.createTable)(E,B);(0,f.drawTable)(E,R)}function w(E,D){var B=(0,c.parseInput)(E,D);return(0,h.createTable)(E,B)}a.__createTable=w;function y(E,D){(0,f.drawTable)(E,D)}a.__drawTable=y;try{var _=s(964);_.jsPDF&&(_=_.jsPDF),S(_)}catch{}a.default=N}(),o}()})})(_j);function xj({closure:t,accounts:e,transactions:n,observations:r}){const i=new $e;i.setFontSize(20),i.text("Cierre Diario",105,20,{align:"center"}),i.setFontSize(12),i.text(US(t.date),105,30,{align:"center"}),i.setFontSize(16),i.text("Resumen de Cuentas",14,45);const s=e.map(f=>[f.name,Lr(f.initialBalance),Lr(f.currentBalance)]);i.autoTable({startY:50,head:[["Cuenta","Saldo Inicial","Saldo Actual"]],body:s,theme:"grid"}),i.setFontSize(16),i.text("Movimientos",14,i.lastAutoTable.finalY+15);const o=n.map(f=>{var h;return[zS(f.timestamp),f.concept,f.description,(h=e.find(g=>g.id===f.accountId))==null?void 0:h.name,Lr(f.amount),f.status]});i.autoTable({startY:i.lastAutoTable.finalY+20,head:[["Fecha","Concepto","Descripción","Cuenta","Monto","Estado"]],body:o,theme:"grid"});const{cashTotal:a,bankTotal:l}=e.reduce((f,h)=>(h.type==="efectivo"?f.cashTotal+=h.currentBalance:h.type==="banco"&&(f.bankTotal+=h.currentBalance),f),{cashTotal:0,bankTotal:0});let c=i.lastAutoTable.finalY+20;if(i.setFontSize(14),i.text(`Total Efectivo: ${Lr(a)}`,14,c),c+=8,i.text(`Total Banco: ${Lr(l)}`,14,c),c+=8,i.text(`Saldo Final: ${Lr(t.finalBalance)}`,14,c),r){c+=20,i.setFontSize(16),i.text("Observaciones",14,c),c+=10;const f=i.splitTextToSize(r,180);i.setFontSize(12),i.text(f,14,c),c+=f.length*7+20}else c+=40;return i.line(14,c,100,c),i.setFontSize(12),i.text("Firma del Responsable",14,c+5),i}function Sj({closure:t,onBack:e}){var Y;const[n,r]=me.useState(t),[i,s]=me.useState(t.observations||""),[o,a]=me.useState(!1),[l,c]=me.useState(!1),[f,h]=me.useState(null),[g,p]=me.useState(!1),[b,S]=me.useState(!1),[N,w]=me.useState(!1),[y,_]=me.useState(null),[E,D]=me.useState(!1),[B,R]=me.useState({concept:"",description:"",accountId:(Y=t.accounts[0])==null?void 0:Y.id,paymentType:"efectivo"}),{concepts:P}=Y2(),{executeTransfer:q,isSubmitting:$}=yM(),A=async()=>{var U;if(!B.concept||!B.accountId||B.amount===void 0){qt.error("Por favor complete todos los campos requeridos");return}S(!0);try{const H=P==null?void 0:P.find(W=>W.name===B.concept);if(!H)throw new Error("Concepto no encontrado");const te={id:Date.now().toString(),concept:B.concept,description:B.description||"",amount:B.amount,status:H.states[0].name,accountId:B.accountId,timestamp:Date.now(),paymentType:B.paymentType},ue=n.accounts.map(W=>W.id===te.accountId?{...W,currentBalance:W.currentBalance+te.amount}:W),C=[...n.transactions,te],j=ue.reduce((W,J)=>W+J.currentBalance,0);await Sc(Rr(Or,`closures/${n.id}`),{accounts:ue,transactions:C,finalBalance:j,updatedAt:Date.now()}),r(W=>({...W,accounts:ue,transactions:C,finalBalance:j})),R({concept:"",description:"",accountId:(U=n.accounts[0])==null?void 0:U.id,paymentType:"efectivo"}),w(!1),qt.success("Transacción agregada exitosamente")}catch{qt.error("Error al agregar la transacción")}finally{S(!1)}},k=async()=>{if(f){p(!0);try{const U=n.transactions.find(j=>j.id===f);if(!U)return;let H=[f];U.transferId&&(H=n.transactions.filter(j=>j.transferId===U.transferId).map(j=>j.id));const te=n.transactions.filter(j=>!H.includes(j.id)),ue=n.accounts.map(j=>{const W=n.transactions.filter(J=>J.accountId===j.id&&H.includes(J.id));if(W.length>0){const J=W.reduce((Z,le)=>Z+le.amount,0);return{...j,currentBalance:j.currentBalance-J}}return j}),C=ue.reduce((j,W)=>j+W.currentBalance,0);await Sc(Rr(Or,`closures/${n.id}`),{accounts:ue,transactions:te,finalBalance:C,updatedAt:Date.now()}),r(j=>({...j,accounts:ue,transactions:te,finalBalance:C})),qt.success("Transacción eliminada exitosamente"),h(null)}catch{qt.error("Error al eliminar la transacción")}finally{p(!1)}}},V=async U=>{try{const H=await q({...U,closureId:n.id,accounts:n.accounts,transactions:n.transactions});H&&(r(te=>({...te,accounts:H.updatedAccounts,transactions:H.updatedTransactions,finalBalance:H.finalBalance})),qt.success("Transferencia realizada exitosamente"),D(!1))}catch(H){console.error("Error en la transferencia:",H),qt.error("Error al realizar la transferencia")}},G=()=>{xj({closure:n,accounts:n.accounts,transactions:n.transactions,observations:i}).save(`cierre-${n.date}.pdf`)},se=async()=>{c(!0);try{await Z7(Rr(Or,`closures/${n.id}`)),qt.success("Cierre eliminado exitosamente"),e()}catch{qt.error("Error al eliminar el cierre"),c(!1)}},Q=async U=>{const H=P==null?void 0:P.find(C=>C.name===U.concept);if(!H)return;const te=H.states.find(C=>C.name===U.status);if(!te)return;const ue=H.states[H.states.indexOf(te)+1];if(ue){S(!0);try{const C={...U,status:ue.name},j=n.transactions.map(W=>W.id===U.id?C:W);await Sc(Rr(Or,`closures/${n.id}`),{transactions:j,updatedAt:Date.now()}),r(W=>({...W,transactions:j})),qt.success("Estado actualizado exitosamente")}catch{qt.error("Error al actualizar el estado")}finally{S(!1)}}};return L.jsxs(R1,{children:[L.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx("button",{onClick:e,className:"mr-4 text-gray-600 hover:text-gray-900",children:L.jsx(xR,{className:"h-6 w-6"})}),L.jsxs("div",{children:[L.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Cierre del ",n.date]}),L.jsxs("p",{className:"text-sm text-gray-500",children:["Estado: ",n.status==="open"?"Abierto":"Cerrado"]})]})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsxs("button",{onClick:G,className:"btn btn-secondary inline-flex items-center",children:[L.jsx(ER,{className:"h-4 w-4 mr-2"}),"Exportar PDF"]}),L.jsxs("button",{onClick:()=>a(!0),className:"btn bg-red-600 text-white hover:bg-red-700 inline-flex items-center",children:[L.jsx(ES,{className:"h-4 w-4 mr-2"}),"Eliminar Cierre"]})]})]}),L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[L.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Resumen de Cuentas"}),L.jsx(aM,{accounts:n.accounts,finalBalance:n.finalBalance})]}),L.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[L.jsxs("div",{className:"flex justify-between items-center mb-4",children:[L.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Movimientos"}),n.status==="open"&&!N&&L.jsxs("div",{className:"flex items-center justify-end gap-3",children:[L.jsxs("button",{onClick:()=>D(!0),className:"btn btn-secondary inline-flex items-center",children:[L.jsx(bR,{className:"h-4 w-4 mr-2"}),"Nueva Transferencia"]}),L.jsxs("button",{onClick:()=>w(!0),className:"btn bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-6 rounded-lg inline-flex items-center shadow-sm transition-colors",children:[L.jsx(NS,{className:"h-5 w-5 mr-2"}),"Nuevo Movimiento"]})]})]}),n.status==="open"&&N&&L.jsx(cM,{transaction:B,onUpdate:R,onSubmit:A,onCancel:()=>{var U;w(!1),_(null),R({concept:"",description:"",accountId:(U=n.accounts[0])==null?void 0:U.id,paymentType:"efectivo"})},isSubmitting:b,isEditing:!!y,accounts:n.accounts}),L.jsx(fM,{transactions:n.transactions,accounts:n.accounts,concepts:P,isClosureOpen:n.status==="open",isSubmitting:b,onStatusUpdate:Q,onDelete:U=>h(U)})]}),L.jsx(pM,{accounts:n.accounts,transactions:n.transactions,finalBalance:n.finalBalance}),L.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[L.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Observaciones"}),L.jsxs("div",{className:"space-y-4",children:[L.jsx("textarea",{value:i,onChange:U=>s(U.target.value),className:"input h-32 resize-none",placeholder:"Agregar observaciones...",disabled:n.status==="closed"||b}),n.status==="open"&&L.jsx("div",{className:"flex justify-end",children:L.jsx("button",{onClick:async()=>{S(!0);try{await Sc(Rr(Or,`closures/${n.id}`),{observations:i,updatedAt:Date.now()}),qt.success("Observaciones guardadas exitosamente")}catch{qt.error("Error al guardar las observaciones")}finally{S(!1)}},className:"btn btn-primary",disabled:b,children:"Guardar Observaciones"})})]})]})]}),L.jsx(vM,{isOpen:E,onClose:()=>D(!1),accounts:n.accounts,onTransfer:V,isSubmitting:$}),L.jsx(sM,{isOpen:o,onClose:()=>a(!1),onConfirm:se,isLoading:l}),L.jsx(oM,{isOpen:!!f,onClose:()=>h(null),onConfirm:k,isLoading:g})]})}function Nj({searchTerm:t,onSearchChange:e}){return L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:L.jsx(CS,{className:"h-5 w-5 text-gray-400"})}),L.jsx("input",{type:"text",value:t,onChange:n=>e(n.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Buscar por fecha, descripción u observaciones..."})]})}function Cj(){const{currentUser:t}=Cu(),[e,n]=me.useState([]),[r,i]=me.useState([]),[s,o]=me.useState(!0),[a,l]=me.useState(!1),[c,f]=me.useState(null),[h,g]=me.useState("");me.useEffect(()=>{if(!t)return;const y=Rr(Or,"closures"),_=I1(y,A1("userId"),P1(t.uid)),E=tR(_,D=>{const B=D.val();if(B){const P=Object.entries(B).map(([q,$])=>({...$,id:q})).sort((q,$)=>new Date($.date).getTime()-new Date(q.date).getTime());n(P),p(P,h)}else n([]),i([]);o(!1)});return()=>E()},[t]),me.useEffect(()=>{p(e,h)},[h]);const p=(y,_)=>{let E=[...y];if(_.trim()){const D=_.toLowerCase().trim();E=E.filter(B=>{var R,P;return B.date.includes(D)||(R=B.observations)!=null&&R.toLowerCase().includes(D)?!0:(P=B.transactions)==null?void 0:P.some(q=>{var $,A;return(($=q.description)==null?void 0:$.toLowerCase().includes(D))||((A=q.concept)==null?void 0:A.toLowerCase().includes(D))})})}i(E)},b=y=>{f(y)},{totalBalance:S,cashBalance:N,bankBalance:w}=r.reduce((y,_)=>(y.totalBalance+=_.finalBalance,_.accounts.forEach(E=>{E.type==="efectivo"?y.cashBalance+=E.currentBalance:E.type==="banco"&&(y.bankBalance+=E.currentBalance)}),y),{totalBalance:0,cashBalance:0,bankBalance:0});return s?L.jsx(R1,{children:L.jsx("div",{className:"flex items-center justify-center h-64",children:L.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):c?L.jsx(Sj,{closure:c,onBack:()=>f(null)}):L.jsxs(R1,{children:[L.jsxs("div",{className:"mb-6",children:[L.jsxs("div",{className:"flex justify-between items-center mb-4",children:[L.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Cierres Diarios"}),L.jsxs("button",{className:"btn btn-primary inline-flex items-center",onClick:()=>l(!0),children:[L.jsx(NS,{className:"h-5 w-5 mr-2"}),"Nuevo Cierre"]})]}),L.jsx(Nj,{searchTerm:h,onSearchChange:g})]}),L.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[L.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:L.jsx("div",{className:"flex items-center justify-between",children:L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:L.jsx(kS,{className:"h-6 w-6 text-blue-600"})}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Saldo General"}),L.jsxs("p",{className:`text-2xl font-bold ${S>=0?"text-green-600":"text-red-600"}`,children:["$",S.toLocaleString("es-AR")]})]})]})})}),L.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:L.jsx("div",{className:"flex items-center justify-between",children:L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:L.jsx(SS,{className:"h-6 w-6 text-green-600"})}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Saldo Efectivo"}),L.jsxs("p",{className:`text-2xl font-bold ${N>=0?"text-green-600":"text-red-600"}`,children:["$",N.toLocaleString("es-AR")]})]})]})})}),L.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:L.jsx("div",{className:"flex items-center justify-between",children:L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:L.jsx($2,{className:"h-6 w-6 text-purple-600"})}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Saldo Banco"}),L.jsxs("p",{className:`text-2xl font-bold ${w>=0?"text-green-600":"text-red-600"}`,children:["$",w.toLocaleString("es-AR")]})]})]})})})]}),r.length===0?L.jsxs("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:[L.jsx(CS,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),L.jsx("p",{className:"text-gray-500",children:e.length===0?"No hay cierres diarios registrados":"No se encontraron cierres diarios para los criterios seleccionados"})]}):L.jsx(ZD,{closures:r,onClosureClick:b}),L.jsx(iM,{isOpen:a,onClose:()=>l(!1)})]})}function Ej({children:t}){const{currentUser:e,loading:n}=Cu();return n?L.jsx("div",{className:"min-h-screen flex items-center justify-center",children:L.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?L.jsx(L.Fragment,{children:t}):L.jsx(l3,{to:"/login"})}function kj(){return L.jsx(fk,{children:L.jsxs(yR,{children:[L.jsx(rA,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),L.jsxs(ck,{children:[L.jsx(_f,{path:"/login",element:L.jsx(OR,{})}),L.jsx(_f,{path:"/dashboard",element:L.jsx(Ej,{children:L.jsx(Cj,{})})}),L.jsx(_f,{path:"/",element:L.jsx(l3,{to:"/dashboard",replace:!0})})]})]})})}Qx(document.getElementById("root")).render(L.jsx(me.StrictMode,{children:L.jsx(kj,{})}));export{bt as _,sg as c,K1 as g};
